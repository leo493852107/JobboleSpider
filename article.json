{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://pivot.uk.com/productise/\">Paul Jackson</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><h3>产品化是什么意思？</h3>\n<p>大多数创业始于极好的创意和技术专长，但好技术和好产品有着天壤之别。这篇文章写给那些想构建用户实际使用的产品，而不是只解决问题但无法形成规模的技术。我用来形容这个过程的动词就是“产品化”。产品化意味着把某种东西（如好的创意、技术等）转化为产品。</p>\n<p><span id=\"pos_placeholder\" style=\"width: 0px; height: 0px; margin: 0px; padding: 0px;\"></span>我将探讨产品化的原则，并通过一个特定的例子来深入剖析。我所用的例子是 x.ai 的<strong> <a href=\"https://x.ai/\">Amy</a></strong>，一个扮演私人助手角色的智能机器人。2016 年，Amy 成为创业公司和 VC 社区必需的会议安排助手。</p>\n<p>我选择 Amy 缘于她是人工智能发展为消费品的一个典例，也是技术成功“产品化”的典例。</p>\n<p>Amy还值得一提的是因为 x.ai （创造Amy的公司） 自称“反精益生产”。作为产品人，我们都熟悉精益创业。精益生产成为产品开发的主流哲学有段时间了。因此看到傲称“反精益生产”的创业公司出现是有趣的。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg\" alt=\"Productise1\"></a></p>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\">感谢 x.ai 。</span></p>\n<p>如果我们想象一条“精益”的轴，在轴一端的是像 Airbnb、Dropbox 这样的独角兽公司。他们都是由 Y Combinator 铸造的“精益生产”典型。在轴另一端则是像特斯拉这样的公司。没人会把埃隆·马斯克评价为一个精益的实践者。他所做一切都是为了登月计划，需要巨额投资。</p>\n<p>在特斯拉的左边是一群 AI 公司，比如 x.ai 和 Clarif.ai 这些明确声明“精益生产不适合我们”的公司。x.ai 需要三年的研发投资，才能将产品投放市场。反精益生产则需要更多的前期资金，也提供更少的迭代和方向转变的机会。反精益生产的公司在产品投放市场时，需要对他们的用户和用户需求更有把握。</p>\n<h3>为什么产品化重要？</h3>\n<p>产品化意味着把愿景转化为可用的、具有全球吸引力的产品。产品化的主要好处在于它帮你跨越中断期（Chasm）。<strong><a href=\"https://www.youtube.com/watch?v=887i04NjDjc\">Geoffrey Moore</a> </strong>定义的有名的市场中断期，区分了吸引少数技术极客的公司与吸引大众市场的公司。他的同名书籍探索了影响创业公司飞跃中断期能力的所有因素。产品化正是其中一个方面。</p>\n<p>产品化同样可防止堆栈谬误（Stack Fallacy）。该想法来自 Oracle 曾经的产品经理，Storm Ventures 的现合伙人：<strong><a href=\"https://techcrunch.com/2016/01/18/why-big-companies-keep-failing-the-stack-fallacy/\">Anshu Sharma</a></strong>。堆栈谬误意味着，在所有给出的技术堆栈中，每个提供者都高估了自己产业层的价值；同样也低估了其他产业层的价值，尤其是那些堆栈中较高层级的提供者。</p>\n<p>数据库公司认为 SaaS 应用“不过是种数据库应用”，错误地自信他们也能轻易地开发、竞争并且赢得新市场，堆栈谬误正是导致他们有这种想法的原因。</p>\n<p>从 Anshu 的观点来看，那些占上风的公司赢在用户体验层，他们把理解终端用户的背景、动机和期望结果做到了极致。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/905d017da166b82092cce5cef8a775ac.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/905d017da166b82092cce5cef8a775ac.jpg\" alt=\"Productise2\"></a></p>\n<p>作为一个产品经理，我支持他的看法。以我的经验看来，赢得市场意味着思考用户价值，而不是盯着屏幕；产品化意味着关注产品效果而不是产品特性。</p>\n<p>我们都熟悉产品的”jobs-to-be-done“理论。人们不使用产品是因为他们喜欢该产品本身。相反，他们出租它能获得具体成果。我认为 Clay Christensen 的理论今年<strong><a href=\"http://www.forbes.com/sites/hbsworkingknowledge/2016/10/04/clayton-christensen-customers-dont-simply-buy-products-they-hire-them/#5a1412df5712\">获得了很大进展</a></strong>是有充分原因的。我坚信，多数实用产品都是帮助人类获得成果的工具，只有情感方面的东西能真正地超越它，比如品牌和美学。</p>\n<p>产品化意味着关注用户想要达成的结果，而不是底层的技术。因为在指数级的竞争中，这比以往任何时候都更加重要。在 Mary Meeker 的 2016 年互联网报告中，有两条统计结果映入我眼帘。第一条，在美国，人们80%的时间只花在三个应用上。不必费心去猜是哪三个应用。Nielsen data 在2016年底发布的数据显示，排名前 8 的移动应用<strong><a href=\"https://medium.freecodecamp.com/all-of-2016s-top-mobile-apps-are-owned-by-either-google-or-facebook-a9c56d77a74b#.t3p8049k7\">被两家公司包揽</a></strong>：Google 和 Facebook。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/f46f5d511ba25d913dedabf3c5a782fd.png\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/f46f5d511ba25d913dedabf3c5a782fd.png\" alt=\"Productise3\"></a></p>\n<p>第二条统计结果，50%的人一个月不下载新应用。这表明，新的市场进入者面临的挑战范围只在于获得关注。因为有太多选择，新应用的采用率已经趋于平稳。对创业公司而言，只有短暂时间给顾客留下印象。如果不能在这片刻表达你的价值，你就输了。</p>\n<h3>产品的三大支柱</h3>\n<p>而这对产品来说有什么意义？有三大支柱：用户引导（Onboarding）、核心任务的完成（Core Task Completion ）和管理（Administration）。你应该用这种方式思考你的产品。贯穿这三个核心支柱的量是用户的熟悉度。每个支柱上的设计，都要考虑用户与产品交互时，随时间变化的心态。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/e26959857a80efc51aeccecc48fb8bee.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/e26959857a80efc51aeccecc48fb8bee.jpg\" alt=\"Productise4\"></a></p>\n<p>用户对产品的理解始于用户引导。在这点上，他们对你所做的东西会只有极少的了解。如果用户在用户引导后继续，并开始使用产品去完成任务，他们必然会变得更加熟悉产品。假如他们继续使用，该产品将会成为他们生活的一部分，那么产品的管理就逐渐地变得重要。</p>\n<p>可能在这三个支柱的左边还会加上第四个支柱：用户获取（Acquisition）。用户获取发生在用户第一次知道你产品的时候。我不会介绍用户获取的全部细节，因为它是市场营销技术的一部分，属于产品范围外。但重要的是，要记住产品和营销都是相同统一体的组成部分。</p>\n<p><strong><a href=\"https://medium.freecodecamp.com/all-of-2016s-top-mobile-apps-are-owned-by-either-google-or-facebook-a9c56d77a74b#.t3p8049k7\">Chamath Palihapitiya</a></strong> 在观察后做了很好的应用，</p>\n<p><strong><strong>「用户只有三个状态：从没听过；尝试过；在使用。你要管理的是状态改变。」</strong></strong></p>\n<p>理解用户的心态是成功发展每个支柱的关键。你需要询问用户在每个状态的反馈。在用户获取状态，用户不了解产品，不了解产品的任何事。他们会说：『你是什么产品？为什么我要使用你？为什么我需要那么在意？』在用户引导时，他们会说：『我在考虑，我想花时间使用你。我会想起你，但你仍需使我信服。』</p>\n<p>一旦用户做到了核心任务的完成，他们就经过了一个重要里程碑。这时他们会讲：『我明白了，我理解了你是关于什么的，并且看到了你的价值。』而管理支柱则与定制有关，用户会说：『我得到了你提供的价值，但希望你适应我的需求。』</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/1384e5be3877314abbdd1f2ab1bd3faf.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/1384e5be3877314abbdd1f2ab1bd3faf.jpg\" alt=\"Productise5\"></a></p>\n<p>如果你熟悉 Dave McClure 的”海盗指标“，可以把它映射到这四个支柱。在左边是获取(Acquisition)指标，激活(Activation)出现在用户引导，留存(Retention)和收入(Revenue)是核心任务，推荐(Referral)通常在管理阶段。这样你可以实际地预计用户对产品的支持。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/428daaa985a920814fe19bcae435aad3.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/428daaa985a920814fe19bcae435aad3.jpg\" alt=\"Productise6\"></a></p>\n<h3>产品价值</h3>\n<p>赢在产品，就是赢在用户价值的思考。如果你想了解更多关于产品价值的信息，Jerry Chen（ 他和 Reid Hoffman、Josh Elman 共同工作于 Greylock Partners）有一个叫做价值单元（ <strong><a href=\"https://news.greylock.com/unit-of-value-a-framework-for-scaling-42c092fba887#.rscicw5ib\"><span id=\"2KSFindDIV\" class=\"KSFIND_CLASS\">Unit of </span>Value</a></strong>）的平台非常值得一读。Jerry 评估了像 Salesforce、Dropbox 和 Docker 这些独角兽公司的价值单元。然后他论证了他们是如何实现和影响了服务价值的。</p>\n<p class=\"okmemo-dragging\">产品是”价值交付的载体“。假如你正在开发新产品，或是有想法要开发，你需要回答的基础问题是：它能实现怎样的价值单元？答案会影响你如何定价、确定规模和销售产品。用户获取和承诺的价值（promise of value）相联系。用户引导需要推算价值（demonstrate of value）。实现的价值（delivery of value）体现在核心任务的完成。管理与价值扩展（extension of value）有关。它帮助用户获得更多价值，同样也是你可以追加销售产品的地方。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/685cc469242ed96e85818eea27c5d554.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/685cc469242ed96e85818eea27c5d554.jpg\" alt=\"Productise7\"></a></p>\n<p>一旦理解了你产品的价值单元，发展它就会更容易。对发展需求排出优先级列表是产品经理角色的基础能力。我发现的这个 2×2 网格（有名的<strong><a href=\"https://blog.intercom.com/first-rule-prioritization-no-snacking/\">影响/成就网格</a></strong>）是一个用四象限进行优先级划分的高效工具。Hunter Walk （YouTube的产品掌门人）在Intercom团队内是该工具有名的支持者。</p>\n<p>需要考虑的是，所有的路径事项都应该位于影响网格的上半部分。如果一个事项不能帮助兑现你的价值单元，它就不应该存在。<span id=\"0KSFindDIV\" class=\"KSFIND_CLASS\">战略主题（ Strategic Themes）</span>应该放在右上象限。在用关键的利益相关点填充这个网格时，产品经理可以对产品团队应该做什么和不应该做什么达成共识。</p>\n<p>举个例子，下面是我在 2017 年开发的一款名为 Newsmart 的产品路径图，这是一款利用华尔街日报内容制作的商务英语学习产品。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d13a800f91a3104116d34c9e09ff3f41.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d13a800f91a3104116d34c9e09ff3f41.jpg\" alt=\"Productise8\"></a></p>\n<p>任何产品给定的 1.0 版本都只包含任务完成这一支柱。没有人会从建立用户引导开始。它只是一条指向核心产品的路径。产品化意味着从这一支柱向外推进，并增加额外的支柱。产品化意味着建立路径让用户找到你的产品，了解它，使用它，然后定制它。</p>\n<p>在 B2B 领域，由于买家和用户是不同的人，所以存在另外的复杂性。买方的价值单元与用户的价值单元会非常不同。我们很容易忽视买家的需求，不断地改善终端用户的体验。而买家是最终决定是否投资予你的人。产品需要同时论证并实现价值。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/1fa006d1488a9338ac7f27d114d461ea.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/1fa006d1488a9338ac7f27d114d461ea.jpg\" alt=\"Productise9\"></a></p>\n<p>尽管管理支柱在消费产品中没有被太多考虑，但在 B2B 它是最重要的元素之一。买家如何评估他们的投资能否得到回报?通常通过告知他们用户是否在使用该产品、使用多久的指标板或报告。在 Newsmart 里，我们很长一段时间忽视了这问题的重要性。我们很晚才意识到开发一套管理软件的重要性，这意味着不仅是用户，买家也能看到价值。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/ef6974f4c8bfef9647499a8f4465ae92.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/ef6974f4c8bfef9647499a8f4465ae92.jpg\" alt=\"Productise10\"></a></p>\n<p>从消费者领域开始的产品在转而面向企业后，进入了一个完全不同的领域。你该如何沟通以及市场如何变化。你不再需要说服单一用户，却需要使各种各样的利益相关者信服。要在企业中取得成功就需经历许多障碍。 Slack 最近宣布了<strong><a href=\"https://techcrunch.com/2016/12/07/slack-and-google-announce-partnership-focused-on-better-integrating-their-services/\">与 Google 的 G-Suite 合作</a></strong>。在我看来，这表明即使是他们也在设法解决这个问题。他们在终端用户中获得了良好的支持，却要奋力地让他们的产品进入企业市场，并意识到 Google 在这一领域走得更远。</p>\n<h3>产品设计模式</h3>\n<p>如果你检查这四根支柱，每一根支柱的讨论都是相当超前的。设计模式都已建立，可以转换后适应于你的产品中。没有必要重新发明轮子，也不需要每次都经历相同的学习曲线。</p>\n<p>例如用户引导。有如 Samuel Hulick 这样有趣的人。 围绕用户引导，他建立了一套名为 <strong><a href=\"https://www.useronboard.com/\">User Onboard</a> </strong>的完整业务。他的专长是『分解』，分解评估不同产品的用户引导情况，并指出每种产品的优点和缺点。产品经理可以打开 User Onboard，快速了解不同产品在多个垂直领域的最佳实践。</p>\n<p>用户引导的核心是”Aha！时刻“。Aha！是指用户理解了产品价值和产品与他关系的瞬间。用户引导的成功意味着让用户尽快迎来 Aha！时刻。随着争夺用户注意力的竞争越来越激烈，进入Aha！时刻的时间需要更短。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/f4d8e46bb8ff2a7b7d8b496e5d3d00a3.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/f4d8e46bb8ff2a7b7d8b496e5d3d00a3.jpg\" alt=\"Productise11\"></a></p>\n<p>此外，Chamath Palihapitiya 是一个很好的参考。他是 Facebook 增长团队 2008 年至 2012 年间的负责人。在沟通方式上，他非常直接、粗鲁。偶然发现他<strong><a href=\"https://www.youtube.com/watch?v=raIUQP71SBU\">在 YouTube 上的这段经典言论</a></strong>，他直接拒绝关于增长和”增长黑客“的很多伪科学。对他而言，增长就是了解产品所有的价值单元。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/283c18bc8e57a926a104a2723e755449.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/283c18bc8e57a926a104a2723e755449.jpg\" alt=\"Productise12\"></a></p>\n<p>如果有人对用户引导的重要性有所怀疑，我就把 Twitter 作为一个很好的反例，来说明如果不正确对待它的后果。2016 年对 Twitter 来说不是很顺。这一年公司业务趋于水平、增长巨减、股价持续低迷。</p>\n<p>问题的核心是未能联系起它的价值单元。太多的人仍然不了解 Twitter 是什么、以及为什么要使用它。这是市场营销的失败，也是用户引导的失败。有较高比例的人注册了却不发推特消息、也不关注任何人。如果没有进行到这些阶段，就意味着永远无法获得”Aha！时刻“。如果不能获得”Aha！时刻“，就无法理解产品价值。不能理解产品价值，用户就会流失。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d988258f0e93bff0d1ca242b1ba66e48.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d988258f0e93bff0d1ca242b1ba66e48.jpg\" alt=\"Productise13\"></a></p>\n<p>为了深入探讨，来看一个用户引导的成功例子。我选择 x.ai 的 Amy 原因，从根本上讲，是由于她是种技术，而不是产品。开发人工智能和决策引擎使用了相当多的资源。因此当她面向市场时，可以应用在许多方向。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/4f2db693c89d3f84c5c481bdf12d88f1.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/4f2db693c89d3f84c5c481bdf12d88f1.jpg\" alt=\"Productise14\"></a></p>\n<p>我认为 x.ai 在产品的角度上做了很多出色的选择。Amy 的用户引导简单但高效。一旦你注册，她就会给你发电子邮件，并说：”你好，我是你的私人助理，很高兴能来到你的面板“，然后让你进行一些操作。我们都会接收并回复电子邮件。因此，这样的交互是常见的。</p>\n<p>如果你检查 Amy 的第一封电子邮件，她清楚地说明了价值定位。”魔法“，她说，”在13次会议后发生。“为了展示价值定位，她会为你安排第一次会议。她发送邀请并问：”你要在这周四的时候加个会议提醒吗？“接受会议后，会看到它落在你的日历上，然后你就理解了她的价值。这正是”Aha！时刻“。突然之间，Amy 从某种新奇陌生的东西变得熟悉了。这是一个大家都能理解的设计模式。</p>\n<p>Amy 可以容易地保持会议日程安排的技术。在产品化过程中，x.ai 评估我们的心智模型，并利用了一些已知的东西，而不是引入外来的东西。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/b08dbdc42399c9c6b353d8cd197f4585.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/b08dbdc42399c9c6b353d8cd197f4585.jpg\" alt=\"Productise15\"></a></p>\n<p>Amy 核心任务的完成出现在她与各种收件人的邮件之中。在这些邮件交换中，她协调不同的日程表，最终安排一个会议。</p>\n<p>在管理方面，个人偏好对 Amy 来说是关键。多数人都不希望周日上午 9 点开会。我试着在早上安排我多数的面对面会议，让下午空闲，而我的设置也反映了这点。当然，偏好会随时间改变。当设置更新时，Amy 会给你发邮件确认。</p>\n<p>对我来说，Amy 是一个优秀的当代产品化例子。她的价值单元是节省的时间。Amy 根据你的使用情况进行计算，并发送更新来略述她每个月节省了你多少小时。这相当于每年节省了几十个小时。</p>\n<h3>支付</h3>\n<p>在某些情况下，多数产品将会从用户那获得报酬。这是常被忽视的另一步。这方面的设计模式也有很好的发展。有许多”<strong><a href=\"http://white.net/blog/six-principles-good-choice-architecture/\">选择架构</a>“</strong>的研究和支付计划的介绍。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/456da5220854b0886e74570cee3f2109.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/456da5220854b0886e74570cee3f2109.jpg\" alt=\"Productise16\"></a></p>\n<p>目标用户的可支付范围同样值得评估。Newsmart 主要面向亚洲销售。我们通过 Stripe 支持 PayPal 和信用卡。一段时间后，用户反馈的一致的信息是：“我想付钱，但无法支付！”我们在中国，台湾和韩国首选支付方式上的无知，意味着我们采取的某种方式是非常缓慢的。</p>\n<p>如果你是中国人，支付宝很可能是你的首选在线支付方式，银联也很普及，而 PayPal 几乎无处使用。你要确保研究过信用卡在目标市场的渗透力。在美国以外的许多国家，这一比例非常低——不到50%。如果你不支持本地支付，你就把钱留在了市场上。用户可能想要付费，但无法支付。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/33aa314b85797ad375f2f8f8686620e1.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/33aa314b85797ad375f2f8f8686620e1.jpg\" alt=\"\"></a></p>\n<h3>连接模型</h3>\n<p>用户心理学对有效地产品化至关重要，有种值得理解的设计范例是Nir Eyal的”<strong><a href=\"https://medium.com/behavior-design/how-to-manufacture-desire-3011c82a2b28#.72l79qwlk\">连接模型</a>“</strong>。Nir Eyal 是 BJ Fogg 的学生，他引用了 BJ Fogg 的行为理论。行为理论将行为视作动机、能力和触发的结果。Nir 研究了高粘性产品的共同元素。在他看来，Facebook、Snapchat、WhatsApp，还有 LinkedIn，都完美地创造了影响行为改变的因素。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/76f428ff24be0851a1be931c8601666a.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/76f428ff24be0851a1be931c8601666a.jpg\" alt=\"Productise18\"></a></p>\n<p>高粘性的产品是那些能逮住动机和触发时刻的产品。如果产品是一款应用，触发很可能是一条通知，告知用户，”什么事在这里发生，你就要错过了。“要知道通知总是把你拉进产品去。如果你收到 Facebook 的电子邮件，就会有一个电话让你使用产品。在 Nir 的模型中，最强大的激励因素被称为”可变奖励“。从心理上来说，这比霹雳可卡因更容易上瘾。</p>\n<p>可变性在产品体验中注入了未知元素。它产生了一种FOMO的感觉，迫使用户采取行动。触发和可变奖励的结合是促使我们对 Snapchat 和 Facebook 进行强制检查的原因。FOMO 同时也阻止我们离开这个平台。你有多少次听到有人宣称已经厌倦了 Facebook，并计划停止使用它？但从来没有人这样做。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/0e5d4ca1521b9b5bb4bb5001d94a8188.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/0e5d4ca1521b9b5bb4bb5001d94a8188.jpg\" alt=\"Productise19\"></a></p>\n<h3>总结产品化</h3>\n<p>如果你想建立一个产品，而不仅是一项技术，那就从思考价值开始。一旦你理解了产品提供的价值，想想如何沟通、论证和实现。注意用户对产品的熟悉程度。并且永远不要忽略他们努力想获得的结果。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d97bd4f91d6567e36a91d9674306ac14.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d97bd4f91d6567e36a91d9674306ac14.jpg\" alt=\"Productise20\"></a></p>\n<p>（本文改编自我在伦敦 TechCity 最近的演讲。你可以在 <strong><a href=\"http://www.slideshare.net/kromagz/productised\">Slideshare</a></strong> 找到相关信息。)</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111268\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111268votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111268\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "如何把好技术变为好产品？", "tags": "管理,产品,创业,创意", "url_obj_id": "11035e2f16017675fe365a9ed61662b5", "create_date": "2017/05/24", "url": "http://blog.jobbole.com/111268/", "bookmark_num": 1, "front_image_path": "full/3a4703a3b76c773b75f3f1e48bdc58af9ad2c150.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.quora.com/How-does-Quora-use-machine-learning-in-2017/answer/Nikhil-Dandekar\">Nikhil-Dandekar</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>Quora 的 Engineer Manager 讲解 Quora 在 2017 年如何运用机器学习优化问题检索、邀请、回答的排序和广告等。</p>\n<p>早在 2015 年，我们的工程副总 Xavier Amatriain 就在 Quora 上写过一个关于我们如何使用机器学习的最佳回答：《<a href=\"http://blog.jobbole.com/89461/\" target=\"_blank\">2015 年 Quora 是如何使用机器学习的？</a><strong>》</strong></p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffm5tgz8x4j20kv0ay758.jpg\" width=\"600\" height=\"315\"></p>\n<p>此后，机器学习在 Quora 上的使用大量增多。我们不仅对现有的机器学习应用，在更大更好的模型上研究得更深远，而且也扩大了我们使用机器学习的领域集合。在该回答中，我将试着重新绘制 Quora 对机器学习的使用在 2017 年的景象。</p>\n<h2>机器学习用例</h2>\n<p>我会贯穿产品的不同部分，来谈论我们在这些部分是如何使用机器学习的。</p>\n<h3>1.搜索信息</h3>\n<p class=\"\">知识共享在 Quora 上的主要形式是提问和回答。这始于用户拥有一个问题，或他们想要满足的一种“信息需求”。当用户在 Quora 上提出一个新的问题之后，我们有一套机器学习系统完成<strong><strong>问题理解</strong></strong>，即使用一种有助于为我们简化后续流程的方式，从问题中提取信息。我将对问题理解系统做一些描述。</p>\n<p>我们非常关心内容质量，而这一切都始于提问的质量。我们有一个机器学习（ML）体系对每个问题进行<strong><strong>问题质量分类</strong></strong>，并帮助我们区分高质量和低质量的问题。除了提问质量，我们也定义了一些不同的<strong><strong>问题类型</strong></strong>来帮助我们确定在之后的流程中该如何对待这个问题。</p>\n<p>最后，我们也做<strong>提问话题的标签</strong>，来确定提问是关于什么话题。虽然大多数话题建模应用能处理大型文档文本和小型话题本体，我们仍使用简短的问题文本和<strong><a href=\"https://data.quora.com/The-Quora-Topic-Network-1\">超过一百万的潜在主题</a></strong>给问题做标签，这使给问题分类变得更具挑战性。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/a0ddfccd8cdf074f135cc63affa789e2.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/a0ddfccd8cdf074f135cc63affa789e2.jpg\" alt=\"1\"></a></p>\n<p>在所有的问题理解模型中，我们使用了提取自问题和上下文的特征。比如，问过该问题的用户、问过该问题的场所等等。</p>\n<p>满足用户信息需求的另一种方法，是通过让他们搜索现有的问题来给予他们正在寻找的答案。我们有两个主要的搜索系统：位于Quora 主页顶部搜索栏的<strong><strong>提问栏搜索</strong></strong>，以及可以通过单击提问栏结果上的“搜索”选项，进行深度搜索的<strong><strong>全文搜索</strong></strong>。这两个搜索系统使用不同的排序算法，根据搜索速度、相关性、结果的广度和深度，其返回的结果有所不同。</p>\n<h3>2.获得问题的答案</h3>\n<p>问题理解系统的输出，形成了问题生命周期中下一步的重要输入：从专家那获得答案。我们同样有机器学习系统帮助我们更好地解决这个问题。</p>\n<p><strong class=\"okmemo-dragging\">请求回答</strong>（Request Answers，以前被称为Ask To Answer）是 Quora 的一个功能。该功能允许用户发送请求给其他用户，让他们为一个特定的提问写回答。我们将请求回答定性为一个机器学习问题。在该博客帖文覆盖了我们对这个系统的细节：<strong><a href=\"https://engineering.quora.com/Ask-To-Answer-as-a-Machine-Learning-Problem\">Ask To Answer as a Machine Learning Problem</a></strong>。</p>\n<p>在请求回答（A2A）之外，匹配待回答问题和专家答主的主要方式是通过 Quora 主页的推荐内容。<strong><strong>对信息流中的提问进行排序</strong></strong>对我们来说是个非常重要的问题。我们把问题属性（如前所述）、用户属性（更多介绍见下文），以及一系列其他的原始特征和派生特征考虑在内，作为排序模型的输入，为你生成一个热门的、相关的且个性的推荐内容。例如，这个几天前我的推荐内容截图。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/c2156140097c3cdd0b39177d09730561.jpg\"><img class=\"alignnone\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/c2156140097c3cdd0b39177d09730561.jpg\" alt=\"2\"></a></p>\n<h3>3.阅读内容</h3>\n<p>如上面你在我的推荐内容里所见，推荐内容不仅包括你可以编写答案的问题，还包括值得一读的答案。<strong><strong>对信息流中的回答进行排序</strong></strong>是另一个对我们而言非常重要的机器学习问题。我们在推荐内容中的问题排序和回答排序使用的是类似的底层系统，但目标却大相径庭。因此，在它们的底层系统中使用了不同系列的特征。我们使用机器学习对值得一读的回答排序的另一个地方，是发送给用户的<strong><strong>邮件摘要</strong></strong>。所有这些排序问题，都由相当先进的机器学习系统，提供多个模型和许多不同的特征，来找出最终排序。</p>\n<p>一旦用户发现了一个对他们而言有趣的问题，我们要确保他们在 Quora 上拥有最佳的阅读体验。为了确保与提问最相关的答案被排在最上面，对信息流中的回答排序也是我们一个重要的机器学习应用。我们对回答排序背后的机器学习的讨论细节见此处：<a href=\"https://engineering.quora.com/A-Machine-Learning-Approach-to-Ranking-Answers-on-Quora\"><strong><strong><span id=\"pos_placeholder\" style=\"width: 0px;height: 0px;margin: 0px;padding: 0px\"></span>A Machine Learning Approach to Ranking Answers on Quora</strong>. Staying on answers, we also do <strong><strong>comment ranking</strong></strong></strong></a>。目光转回到答案上。我们也做<strong><strong>评论</strong>排序</strong>以确保你在顶部看到与回答最相关的评论。并不单纯考虑支持和反对数，还引入了支持或反对该内容的用户、内容质量、参与活跃度等特征，从而决定最终的排序。</p>\n<p class=\"\">我们也希望确保你阅读一个特定问题的答案后，会有良好的渠道找到相关内容，然后继续你的阅读体验。这样由机器学习技术支持的一个产品功能是<strong><strong>相关问题</strong></strong>。我们在问题页面显示相关问题，他们帮助用户更容易地导航到 Quora 的问题空间。同时帮助你在 Quora 作为阅读器时导航的，是像<strong>相关话题</strong>这样的排序系统（在话题页面像<a href=\"https://www.quora.com/topic/Machine-Learning\">这样</a>显示）和<strong>热门话题</strong>（在首页上显示）。在主页上，我们也显示<strong>关注话题</strong>和<strong>关注用户</strong>的板块，这两个都是个性化推荐系统，它基于我们对你的了解。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/97ac1179f7579ba8e24f1c06ec213cac.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/97ac1179f7579ba8e24f1c06ec213cac.jpg\" alt=\"3\"></a></p>\n<p>上述机器学习系统十分重要的一个元素就是个性化。个性化体现于构造与 Quora 每个用户相关的产品和底层系统。构造机器学习系统个性化的一大组成部分是<strong><strong>用户理解</strong></strong>的信号。作为用户理解的部分，我们观察并推导出各种用户特征，如他们喜欢/不喜欢的话题、他们在不同领域的专业知识，以及社交网络的属性。我们也有各种“用户实体”关联系统，例如<strong><strong>用户-</strong>话题亲和度<strong>、</strong>用户-用户亲和度</strong>等。所有这些个性化信号形成了重要的输入，该输入不仅在这部分中用于“阅读”应用，也用于匹配问题和专家答主和其他用例。</p>\n<h3>4.保持较高的内容质量</h3>\n<p>在 Quora 上，最佳用户体验的其中一个关键就是内容质量。我们想确保我们的提问、回答、话题和其他内容，开始于优质，并始终保持优质。为了做到这点，我们有一系列机器学习系统努力保持内容质量。这是其中的几个;</p>\n<ul>\n<li><strong><strong>重复问题检测</strong></strong>：包括检测有相同意图的不同问题，并把它们合并为一个规范的问题。我们在重复问题上的探究谈论细节<strong><a href=\"https://engineering.quora.com/Semantic-Question-Matching-with-Deep-Learning\">见此</a></strong>，还发布了一个<strong><a href=\"https://data.quora.com/First-Quora-Dataset-Release-Question-Pairs\">重复问题数据集</a></strong>，启动了一个<strong><a href=\"https://www.kaggle.com/c/quora-question-pairs\"> Kaggle 竞赛</a></strong>让你可以使用它。</li>\n<li><strong>侮辱性内容检测</strong>：我们在 Quora 有一个政策：“<strong><a href=\"https://www.quora.com/What-is-Quoras-Be-Nice-Be-Respectful-policy/answer/Quora-Official-Account\">友善尊重（Be Nice, Be Respectful）</a></strong>”，但在在线社区，维护它通常是件富有挑战性的事情。我们使用机器学习结合人工审稿者，来帮助识别攻击性和伤害性内容，这样我们能更好的保护用户，并确保他们拥有最佳的 Quora 体验。</li>\n<li><strong>垃圾内容检测</strong>：垃圾内容检测对于最热门的用户产出内容类应用来说，是一个重要问题。对我们来说也一样。我们有一些不同的机器学习系统联合着处理垃圾内容和发布垃圾的用户。</li>\n</ul>\n<p>还有许多其他用于保障质量的机器学习系统，但为了节省篇幅我将不详述他们。</p>\n<h3>5.广告优化</h3>\n<p>2016 年，我们也开始盈利转化。目前，我们在提问页面显示与提问意图相关的广告。我们使用机器学习进行<strong><strong>广告点击率预测</strong></strong>，这确保了我们显示的广告与用户相关，并且对广告商来说超值。我们的机器学习在盈利空间里仍处于初期，在未来几个月和几年里，我们将大力扩展机器学习在这方面的使用。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/30ba7110ae912f9e6895d699835a0829.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/30ba7110ae912f9e6895d699835a0829.jpg\" alt=\"4\"></a></p>\n<p>比起上面所列的，我们还有另外的机器学习系统，但为避免该答案过长，我将不详述他们。</p>\n<p><strong>模型和库</strong></p>\n<p>我们授权团队为工作使用最优的模型和工具，而且确保我们通过这些工具能保持标准化和可复用。以下是我们使用的一些模型（排名不分先后）：</p>\n<ul>\n<li>逻辑回归模型（Logistic Regression）</li>\n<li>弹性网络（Elastic Nets）</li>\n<li>梯度提升决策树（Gradient Boosted Decision Trees）</li>\n<li>随机森林（Random Forests）</li>\n<li>（深度）神经网络（(Deep) Neural Networks）</li>\n<li>LambdaMART</li>\n<li>矩阵分解（奇异值分解（SVD）、贝叶斯个性化排序（BPR）、加权交替最小二乘法（Weighted ALS）等）</li>\n<li>向量模型和其他神经语言程序学（NLP）技术</li>\n<li>k-means和其他聚类算法</li>\n<li>以及其他</li>\n</ul>\n<p>我们也支持一系列广泛的开源库和内部库，连同其他一些内部库一起完成类似 Tensorflow、sklearn、xgboost、lightgbm、RankLib、nltk、<strong><a href=\"https://github.com/quora/qmf\">QMF</a></strong>（Quora 自有的矩阵分解库）的工作。</p>\n<h3>机器学习平台</h3>\n<p>自 2015 年以来，我们另一个令人兴奋的发展，是新的机器学习平台团队的形成。机器学习平台团队的目标是使公司里其他的机器学习工程师在机器学习上的工作更容易，包括离线（模型训练）和在线（模型服务）方面的事。在线方面，机器学习平台拥有高可靠性和可用性的系统，能帮助机器学习工程师构建和部署高性能、高成本效率、实时的机器学习系统。离线方面，机器学习平台团队能提供机器学习工程师标准化和可复用的方法，来构建数据管道，更快地完成特征生成和训练模型。</p>\n<p>在 Quora 有一个专门的平台团队支持机器学习，帮助我们加快机器学习的发展速度，使得现在比以前发展得快很多。它还更好地使我们扩展了系统，能每天都处理更大量的数据。在未来的回答中，我们将分享更多关于机器学习平台团队及其路径图的细节。</p>\n<p>我希望这个回答在 2017 年 Quora 是如何使用机器学习上能给你一个好景象。如果上述任何内容使你兴奋，你知道我们在招聘不同的机器学习人才！空缺职位请查看我们的<strong><a href=\"https://www.quora.com/careers\">岗位页面</a></strong>。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111144\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111144votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111144\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "Quora 在 2017 年是如何运用机器学习的", "tags": "IT技术,Quora,机器学习", "url_obj_id": "9a7d1647c5c6eee581cab0ec204d5bdc", "create_date": "2017/05/16", "url": "http://blog.jobbole.com/111144/", "bookmark_num": 1, "front_image_path": "full/c8b802de5bdc21490e5a2a7e1882a02e3bf9b939.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/08/73516834d333d2a79d72cfc38b225dd4.png"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/qdoverture\">效楚</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://opensource.guide/how-to-contribute/\">Open Source Guides</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：对程序员而言，参与开源有着难以置信的回报，比如有一个自己的出色开源项目，在技术面试能增色很多，极大加分。所以，越来越多的人在参与到开源运动中来。但对应很多新手来说，如何参与开源做出第一个贡献，如何发起一个新项目，却成了一个问题。</p>\n<p>2月14日，GitHub 官博发文宣告正式推出「开源指南」，旨在方便想参与到开源的个人和组织。「开源指南」是一个系列集合，内容简洁明了，分了 10 个方面。伯乐在线在本文中翻译了首篇。</p>\n<p> </p>\n<h1 style=\"text-align: center;\">怎样为开源做贡献</h1>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\"><span id=\"pos_placeholder\" style=\"width: 0px; height: 0px; margin: 0px; padding: 0px;\"></span>想为开源做贡献吗？这是一份写给新手和老手的开源贡献指南。</span></p>\n<p><img class=\"aligncenter\" src=\"https://opensource.guide/assets/images/illos/contribute.svg\" alt=\"How to Contribute to Open Source Illustration\" width=\"600\" height=\"411\"></p>\n<p> </p>\n<h2 style=\"text-align: center;\">第一部分：为何要为开源做贡献？</h2>\n<p><img class=\"pquote-avatar aligncenter\" src=\"https://avatars2.githubusercontent.com/u/134585?v=3&amp;s=400\" alt=\"avatar\" width=\"168\" height=\"168\"></p>\n<blockquote><p>在 freenode 的工作使我学到了很多技能，后来我将它们运用到我的大学学习和实际工作中。我认为在开源项目中的工作对我的帮助和它对项目本身的帮助一样大！— <a href=\"https://github.com/errietta\">@errietta</a>，<a href=\"https://www.errietta.me/blog/open-source/\">《为什么我热爱为开源软件做贡献》</a></p></blockquote>\n<p>为开源做贡献是学习、教学和在你能想象的任何技能上积累经验的有益途径。</p>\n<p>为什么人们为开源做贡献？有许多理由！</p>\n<h3>提升现有技能</h3>\n<p>不管是写代码、用户界面设计、平面造型设计、写作，或是规划，如果你在寻找实践机会，在开源项目中总有适合你的任务。</p>\n<h3>结识爱好相似的人</h3>\n<p>拥有热情而友好的团体组织的开源项目使人们在多年以来常常回访。许多人通过参与开源成了一辈子的好朋友，无论是在会议中碰面还是深夜里线上聊玉米煎饼。</p>\n<h3>找到导师和教导他人</h3>\n<p>在共享的项目中与他人一起工作，意味着你必须解释你做事的方式，此外还要寻求他人的帮助。学习和教导，对参与其中的所有人都是一种满足的活动。</p>\n<h3>开发公开作品，帮你提升声望（和事业）</h3>\n<p>根据定义，你的所有开源工作都是公开的，这意味着你得到了免费的样本，可以带到任何地方，作为你能做事情的证明。</p>\n<h3>学习交际能力</h3>\n<p>开源提供了练习领导才能和管理技能的机会，比如解决冲突、组织不同团队的人，和给工作排优先级。</p>\n<h3>人人都可以参与改变，不分大小</h3>\n<p>你不一定要成为终生的贡献者才能享受参与开源的乐趣。你是否曾在网站上看到一个拼写错误，希望某人会修正它？在开源项目中，你就能做到这点。开源帮助人们在他们的生命中和他们对世界的体验中感受到力量，这本身是令人满足的。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第二部分：贡献意味着什么</h2>\n<p><span style=\"color: #808080;\">如果你是一个开源贡献方面的新人，这个过程可能是令人生畏的。怎么找到合适的项目？不会写代码怎么办？某件事出岔子了会怎样？</span></p>\n<p>不用担心！有各种各样的方法参与开源项目，并且有几个诀窍会帮你最大程度地运用你的经验。</p>\n<h3>你不一定要贡献代码</h3>\n<p>关于为开源做贡献，一个常见的误解是你必须贡献代码。事实上，常常是项目中非代码的部分<a href=\"https://github.com/blog/2195-the-shape-of-open-source\">大多被遗漏和忽视了</a>。通过参与提供非代码的贡献，你会给项目做出巨大的帮助！</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/7ab7f1874d4a25554fee3293e617dafd.png\"><img class=\"wp-image-63251 size-thumbnail aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/7ab7f1874d4a25554fee3293e617dafd-150x150.png\" alt=\"49038\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">我因为在 CocoaPods 中的工作出名，但大多数人不知道实际上我在 CocoaPods 工具本身上并没有做任何实际的工作。我在这个项目上花费的时间，大部分是在做诸如文档和品牌推广工作之类的事情。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/orta\">@orta</a>，<a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">《</a></span><a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">默认转向开源软件</a><span style=\"color: #808080;\"><a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">》</a></span></p></blockquote>\n<p>即使你是一名开发者，非代码贡献也是参与项目并结识其它团体成员的极好方式。建立那样的关系，将给予你在项目的其它部分工作的机会。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/6f9a20eea8324162d89ab86e19ff52f0.jpg\"><img class=\"size-thumbnail wp-image-63252 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/6f9a20eea8324162d89ab86e19ff52f0-150x150.jpg\" alt=\"54418\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">我初次接触 Python 开发组（也叫做 python-dev）是在 2002 年 6 月 17 日，我就接受我的补丁事宜向邮件列表发电子邮件。很快我发现了开源中的一个 bug，并决定把这个错误写成邮件摘要汇报给小组。我对这个主题做了澄清，他们为麻烦我做这件事而表示了大大的歉意。但更关键的是，当某人指出的某些东西需要修正时，我能够看到的。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/brettcannon\">@brettcannon</a>, <a href=\"https://github.com/open-source/stories/brettcannon\">“Maintainer Stories”</a></span></p></blockquote>\n<h3>你是否喜欢活动规划？</h3>\n<ul>\n<li>组织关于项目的专题讨论会或聚会，<a href=\"https://github.com/nodeschool/organizers/issues/406\">就像 @fzamperin 为 NodeSchool 所做的那样</a>。</li>\n<li>组织项目会议（如果他们有的话）</li>\n<li>帮助团体成员找到合适的会议并提交演讲提议</li>\n</ul>\n<h3>你是否喜欢设计？</h3>\n<ul>\n<li>调整布局以提高项目的可用性</li>\n<li>做用户调查以重新组织和改善项目的导航和菜单，<a href=\"https://www.drupal.org/community-initiatives/drupal-core/usability\">就像 Drupal 建议的那样</a>。</li>\n<li>制订风格指南以帮助项目拥有一致的视觉设计</li>\n<li>为T恤或新的 logo 绘画，<a href=\"https://github.com/hapijs/contrib/issues/68\">就像 hapi.js 的贡献者所做的那样</a>。</li>\n</ul>\n<h3>你是否喜欢写作？</h3>\n<ul>\n<li>编写和改进项目文档</li>\n<li>组织一个示例文件夹，展示怎样使用项目</li>\n<li>开办项目通讯，或从邮件列表中组织重要内容</li>\n<li>为项目编写教程，<a href=\"https://github.com/pypa/python-packaging-user-guide/issues/194\">就像 pypa 的贡献者所做的那样</a>。</li>\n<li>翻译项目的文档</li>\n</ul>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/856aa51181b62e90b4a511b9823ed53a.jpg\"><img class=\"size-thumbnail wp-image-63255 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/856aa51181b62e90b4a511b9823ed53a-150x150.jpg\" alt=\"853712\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>说真的，“文档”极其重要。到目前为止，Babel（Kittens 的开源项目）的文档一直很棒，已经成为了它的杀手级特性。但是肯定还需要做一些工作加以完善，甚至加一些段落上去，对此我非常感激。<span style=\"color: #808080;\">— <a href=\"https://github.com/kittens\">@kittens</a>，<a href=\"https://github.com/babel/babel/issues/1347\">《需要贡献者》</a></span></p></blockquote>\n<h3>你是否喜欢组织？</h3>\n<ul>\n<li>链接重复的 Issue，给出新的 Issue 标签建议，让事情井井有条</li>\n<li>检查开放的 Issue ，提议关闭旧的 Issue ，<a href=\"https://github.com/Leaflet/Leaflet/issues/4528#issuecomment-216520560\">就像 @nzakas 为 eslint 所做的那样</a></li>\n<li>在最近开放的 Issue 中提有助于澄清的问题，把讨论向前推进</li>\n</ul>\n<h3>你是否喜欢写代码？</h3>\n<ul>\n<li>找一个开放的 Issue 着手处理，<a href=\"https://github.com/Leaflet/Leaflet/issues/4528#issuecomment-216520560\">就像 @dianjin 为 Leaflet 所做的那样</a></li>\n<li>问问你是否能帮忙写一个新特性</li>\n<li>自动化项目的设置</li>\n<li>提升工具和测试</li>\n</ul>\n<h3>你是否喜欢帮助他人？</h3>\n<ul>\n<li>在诸如 Stack Overflow（<a href=\"http://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge\">就像这个 Postgres 的例子一样</a>）或 reddit 之类的地方回答关于项目的问题</li>\n<li>在开放的 Issue 中为人们回答问题</li>\n<li>帮忙主持讨论版或会话通道（conversation channels）</li>\n</ul>\n<h3>你是否喜欢为他人的代码提供帮助？</h3>\n<ul>\n<li>审查他人提交的代码</li>\n<li>为如何使用项目写教程</li>\n<li>为其它贡献者提供指导，<a href=\"https://github.com/rust-lang/book/issues/123#issuecomment-238049666\">就像 @ereichert 在 Rust 上为 @bronzdoc 所做的那样</a></li>\n</ul>\n<h3>你并不非得要在软件项目中工作！</h3>\n<p>虽然“开源”通常指软件，但你可以在任何事情上协作。有书籍、食谱、清单和课程是作为开源项目开发的。</p>\n<p>例如：</p>\n<ul>\n<li><strong><a href=\"https://github.com/sindresorhus\">@sindresorhus</a> </strong>组织了一个<a href=\"https://github.com/sindresorhus/awesome\"> Awesome 的清单列表</a></li>\n<li><strong><a href=\"https://github.com/h5bp\">@h5bp</a> </strong>为前端开发求职者维护了一个<a href=\"https://github.com/h5bp/Front-end-Developer-Interview-Questions\">可能的面试问题的清单</a></li>\n<li><strong><a href=\"https://github.com/stuartlynn\">@stuartlynn</a></strong> 和 <strong><a href=\"https://github.com/nicole-a-tesla\">@nicole-a-tesla</a></strong> 制作了一份<a href=\"https://github.com/stuartlynn/puffin_facts\">关于 puffins 的有趣事实的集合</a></li>\n</ul>\n<p>即使你是一名软件开发者，在文档项目上的工作也能帮你在开源方面起步。在与代码无关的项目中工作常常不那么令人生畏，而且协作的过程将增强你的自信和经验。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第三部分：熟悉一个新项目</h2>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/a98fc32a297faeb08c5f5ad46680c1fa.jpg\"><img class=\"size-thumbnail wp-image-63256 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/a98fc32a297faeb08c5f5ad46680c1fa-150x150.jpg\" alt=\"1179362\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">如果你去看一个 Issue 追踪器，发现事情看起来令人困惑，并不是只有你这样。这些工具需要大量的隐性知识，但人们能帮你驾驭它，你也能向他们提问。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/shaunagm\">@shaunagm</a>，<a href=\"http://readwrite.com/2014/10/10/open-source-diversity-how-to-contribute/\">《怎样为开源做贡献》</a></span></p></blockquote>\n<p>对任何超过修正拼写错误的事情来说，为开源做贡献就像在社交聚会上走向一群陌生人。如果当他们正在深入讨论金鱼时，你开始谈论美洲鸵，他们可能有点奇怪地看着你。</p>\n<p>在带着你自己的建议盲目投入以前，先从学习怎样观察聚会中的人，参与他们讨论的话题开始。这样做能增加你的想法被注意到和听取的可能性。</p>\n<h3>开源项目剖析</h3>\n<p>每个开源团体都是不同的。</p>\n<p>在一个开源项目中花了若干年时间意味着你已经了解了一个开源项目。转向一个不同的项目，你可能会发现词汇、规范和沟通方式完全不同。</p>\n<p>即便如此，许多开源项目遵循着相似的组织结构。理解不同的团体角色和总体过程将帮你迅速熟悉任何新项目。</p>\n<p>一个典型的开源项目有以下几类人：</p>\n<ul>\n<li><strong>作者（Author）：</strong>创建该项目的人或组织。</li>\n<li><strong>所有者（Owner）：</strong>对组织或仓库（repository）拥有行政所有权的人（并不总和原始作者是同一个人）</li>\n<li><strong>维护者（Maintainers）：</strong>对推动愿景和管理项目的组织方面负有责任的贡献者。（他们可能也是项目的作者或所有者）</li>\n<li><strong>贡献者（Contributors）：</strong>每个对项目做出过某种贡献的人。</li>\n<li><strong>团体成员（Community Members）：</strong>使用项目的人。他们可能在对话中保持活跃或者对项目的方向表达他们的主张。</li>\n</ul>\n<p>大的项目可能还有下属委员会或工作组，他们致力于不同的任务，比如工具、分类（triage）、团体节制（community moderation）和活动组织。在项目的网站上寻找“team”页面，或者在仓库（repository）里寻找治理文档（governance documentation），来找到此类信息。</p>\n<p>项目也有文档。这些文件通常列在仓库（repository）的顶层。</p>\n<ul>\n<li><strong>许可证（LICENSE）：</strong>根据定义，每个开源项目必须有一个<a href=\"https://choosealicense.com/\">开源许可证</a>。如果项目没有许可证，那它就不是开源的。</li>\n<li><strong>自述文件（README）：</strong>自述文件是迎接项目的新团体成员的操作指南手册。它解释了为什么项目是有用的以及如何开始。</li>\n<li><strong>贡献（CONTRIBUTING）：</strong>自述文件帮助人们使用项目，而贡献文件帮助人们为项目做贡献。它解释了需要什么类型的贡献者以及这个过程是怎么工作的。虽然不是每个项目都有贡献文件，但它的存在表明这是一个欢迎做贡献的项目。\n<ul>\n<li><strong>行动守则（CODE_OF_CONDUCT）：</strong>行动守则为参与者的相关行为设定了基本准则，并且帮助促进一个友好而热情的环境。虽然不是每个项目都有行动守则文件，但它的存在表明这是一个欢迎做贡献的项目。</li>\n<li><strong>其它文档：</strong>可能有另外的文档，比如教程、演练（walkthroughs）或管理策略，尤其是在大项目中。</li>\n</ul>\n</li>\n</ul>\n<p>最后，开源项目使用以下工具来组织讨论。通读档案文件将为你很好地描绘该团体是怎样思考和工作的。</p>\n<ul>\n<li><strong> Issue 追踪器（Issue tracker）：</strong>人们讨论项目相关 Issue 的地方。</li>\n<li><strong>Pull requests：</strong>人们讨论和审查进行中的更改的地方。</li>\n<li><strong>讨论板或邮件列表：</strong>有些项目可能为会话主题使用这些通道（例如，“我怎样……”或“你认为……怎么样”，而不用 bug 报告或特性请求）。其它项目为所有会话使用 Issue 追踪器。</li>\n<li><strong>同步聊天通道（Synchronous chat channel）：</strong>有些项目为临时会话、协作和快速交流使用聊天通道（比如 Slack 或 IRC）。</li>\n</ul>\n<p> </p>\n<h2 style=\"text-align: center;\">第四部分：找到一个要做贡献的项目</h2>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\">既然你已经弄明白开源项目是怎样工作的，是时候找到一个要做贡献的项目了！</span></p>\n<p>如果你之前从未为开源做过贡献，听听美国总统约翰·F·肯尼迪的建议，他曾经说：“不要问你的国家能为你做什么-问问你能为你的国家做什么。”</p>\n<p>为开源做贡献在所有层面和不同项目间都能发生。你不必对你的第一个确切的贡献是什么，或它看起来是什么样想得过多。</p>\n<p>相反地，从考虑你已经在使用的或想要使用的项目开始。你会积极地做贡献的项目正是你发现自己会回访的项目。</p>\n<p>在那些项目里，无论何时你发现自己想到某件事可以变的更好或不同，按照你的直觉行动吧。</p>\n<p>开源不是一个排外的俱乐部；它是由和你一样的人做出来的。“开源”只是一个花哨的术语，为了把世界上的问题都作为可修正的来处理。</p>\n<p>你可能会细看一份自述文件，发现一个断开的链接或一个拼写错误。或者，你是一个新用户，你发现某样东西毁坏了，或是一个 Issue 你认为实际上应该在文档中。与其忽略它并继续，或请求其他人修正它，不如看看你能不能参与帮忙。这就是开源的真谛！</p>\n<blockquote><p>对开源的<a href=\"http://www.igor.pro.br/publica/papers/saner2016.pdf\">非正式贡献中，有28%</a>是文档，比如拼写错误修正、重排格式，或翻译。</p></blockquote>\n<p>你也可以使用下列资源之一来帮你发现新项目：</p>\n<ul>\n<li><a href=\"https://github.com/explore/\">GitHub Explore</a></li>\n<li><a href=\"http://www.firsttimersonly.com/\">First Timers Only</a></li>\n<li><a href=\"https://yourfirstpr.github.io/\">Your First PR</a></li>\n<li><a href=\"https://www.codetriage.com/\">CodeTriage</a></li>\n<li><a href=\"https://24pullrequests.com/\">24 Pull Requests</a></li>\n<li><a href=\"http://up-for-grabs.net/\">Up For Grabs</a></li>\n<li><a href=\"https://contributor.ninja/\">Contributor-ninja</a></li>\n</ul>\n<h3>做贡献前的一份检查表</h3>\n<p>当你找到一个你想要做贡献的项目，做一个快速的浏览来确认该项目适合接受贡献。否则，你的努力工作可能永远得不到回应。</p>\n<p>这是一份便于使用的检查表，用来评估一个项目对新贡献者来说好不好。</p>\n<p><strong>满足开源的定义</strong></p>\n<ul>\n<li>它有没有许可证？通常，这是在仓库（repository）根目录里的一个叫做 LICENSE 的文件。</li>\n</ul>\n<p><strong>项目积极地接受贡献</strong></p>\n<p>看看主分支上的提交活动。在 GitHub 上，你可以在仓库的主页上看到此信息。</p>\n<ul>\n<li>最新的提交（commit）是在什么时候？</li>\n<li>项目有多少贡献者？</li>\n<li>人们提交频繁程度？（在 GitHub 上，你可以通过点击顶部横条里的“Commits”来找到此信息）</li>\n</ul>\n<p>下一步，看看项目的 Issue 。</p>\n<ul>\n<li>有多少开放的 Issue ？</li>\n<li>当 Issue 开放时，维护者是否快速地回应？</li>\n<li>对于 Issue 有没有活跃的讨论？</li>\n<li>Issue 是最近的吗？</li>\n<li>Issue 是否得到关闭？（在 GitHub 上，点击 Issue 页面上的“closed”标签来看已关闭的 Issue 。）</li>\n</ul>\n<p>现在对项目的 pull requests做同样的动作。</p>\n<ul>\n<li>有多少开放的 pull requests？</li>\n<li>当开放pull requests时， 维护者是否快速地回应？</li>\n<li>对于pull requests有没有活跃的讨论？</li>\n<li>pull requests是最近的吗？</li>\n<li>pull requests被合并是在多久之前？（在 GitHub 上，点击pull requests页面上的“closed”标签来看已关闭的pull requests。）</li>\n</ul>\n<h3>热情的项目</h3>\n<p>友好而热情的项目标志着他们乐于接受新的贡献者。</p>\n<ul>\n<li>维护者对于 Issue 中的问题是否作出有帮助的回应？</li>\n<li>人们在 Issue 、讨论板和聊天（例如 IRC 或 Slack）中是否友好？</li>\n<li>Pull Requests(PR) 功能是否得到审查（reviewed）？</li>\n<li>维护者对人们的贡献是否表示感谢？</li>\n</ul>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/bfb4846c8eb1da9c00196e4ff6e7a4bc.png\"><img class=\"size-thumbnail wp-image-63257 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/bfb4846c8eb1da9c00196e4ff6e7a4bc-150x150.png\" alt=\"401111\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>无论何时你看一个长的讨论帖，抽查一下较晚进入这个帖子的核心开发者的反应。他们是否作出建设性的总结，在做出决策和付诸实施时，是否同时还保持礼貌？如果你看到发生许多口水仗，那通常表明精力用在了争论而不是开发上。— <a href=\"https://github.com/kfogel\">@kfogel</a>，<a href=\"http://producingoss.com/en/evaluating-oss-projects.html\">创作开源软件</a></p></blockquote>\n<p> </p>\n<h2 style=\"text-align: center;\">第五部分：怎样提交贡献</h2>\n<p><span style=\"color: #808080;\">你已经找到一个你喜欢的项目，并且你已经准备好作出贡献。最后！这里告诉你怎样以正确的方式作出你的贡献。</span></p>\n<h3>有效的沟通</h3>\n<p>不管你是一次性的贡献者或是试着加入一个团体，与他人一起工作是你将在开源中发展的最重要的技能之一。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/e9b165e406b7ab077c16e1956b46ec80.jpg\"><img class=\"size-thumbnail wp-image-63258 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/e9b165e406b7ab077c16e1956b46ec80-150x150.jpg\" alt=\"7693422\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>作为一个新贡献者，我很快认识到，如果我想要能关闭 Issue ，我必须提问。我浏览了代码库。一旦我对发生的事有了一些认识，我请求更多的指点。就是这样！在得到我需要的所有相关细节后，我能解答 Issue 了。—<a href=\"https://github.com/shubheksha\"> @shubheksha</a>，<a href=\"https://medium.freecodecamp.com/a-beginners-very-bumpy-journey-through-the-world-of-open-source-4d108d540b39#.pcswr2e78\">一个新手在开源世界中的颠簸旅途</a></p></blockquote>\n<p>在你打开一个 Issue 或使用pull request，或是在聊天中提问以前，记住这些要点可以使你的想法有效地被别人理解。</p>\n<p><strong>给出上下文。</strong>帮助他人快速赶上进度。如果你遇到一个错误，解释你正准备做什么和怎么重现它。如果你提出一个新主张，解释为什么你认为它对项目有用（不只是对你！）。</p>\n<blockquote><p>😇 “当我做 Y 时 X 没有发生”<br>\n😢 “X 坏了！请修好。”</p></blockquote>\n<p><strong>事先做好功课。</strong>不懂没什么，但要表现出你试过了。在求助之前，务必查看项目的自述文件、文档、 Issue （开放的或关闭的）、邮件列表，并且在因特网上搜索答案。当你证明你在试着学习时，人们会表示赞赏。</p>\n<blockquote><p>😇“我不确定怎么实现 X。我查过了帮助文档，没找到哪里有提到。”<br>\n😢“我怎么做 X？”</p></blockquote>\n<p><strong>请求要简短而直接。</strong>和发送电子邮件很像，每一个贡献，不管多简单或多有帮助，都需要某个其他人的审查。许多项目收到的请求比能提供帮助的人多。简明一点。你会提高某人能帮到你的可能性。</p>\n<blockquote><p>😇“我想写一份 API 教程。”<br>\n😢“前几天我正在高速公路上开车，停下来加油，然后我对我们应该做的事情有了这个惊人的想法，但在我解释这个想法之前，让我向你展示……”</p></blockquote>\n<p><strong>交流要对公众可见。</strong>尽管有点诱人，但不要私下联系维护者，除非你需要分享敏感信息（比如安全问题或严重的违反行为）。当你使对话对公众可见时，更多的人能从你的交流中学习并受益。讨论本身也可能是一种贡献。</p>\n<blockquote><p>😇（作为评论）“@-maintainer 你好！我们在这个 pull request 功能上怎么继续？”<br>\n😢（作为一封电子邮件）“你好，抱歉通过电子邮件麻烦你了，但我不知道你有没有可能审查我的 pull request ”</p></blockquote>\n<p><strong>可以提问（但要耐心！）。</strong>每个人在某个时刻都曾是项目的新人，而且即使有经验的贡献者查看新项目时也需要赶上进度。由此类推，即使长期贡献者也并非总是对项目的每个部分都熟悉。对他们表现出与你希望他们对你表现出的同样的耐心。</p>\n<blockquote><p>😇“谢谢你研究这个错误。我按你的建议做了。这是输出结果。”<br>\n😢 “为什么你不能解决我的问题？这不是你的项目吗？”</p></blockquote>\n<p><strong>尊重团体的决定。</strong>你的想法可能与项目的优先考虑或愿景不同。他们可能提供反馈或决定不执行你的想法。你应该讨论并寻求妥协，而维护者必须花比你更长的时间适应你的决定。如果你不同意他们的方向，你总是可以致力于你自己的 fork 或启动你自己的项目。</p>\n<blockquote><p>😇“我对你不能支持我的用例感到失望，但既然你已经解释了它只影响一小部分用户，我理解为什么了。谢谢倾听。”<br>\n😢“为什么你不支持我的用例？这无法接受！”</p></blockquote>\n<p><strong>最重要的是，要优雅。</strong>开源由来自世界各地的合作者组成。上下文在跨越语言、文化、地理和时区时会丢失。另外，书面交流使得传递语调或心情更困难。假设这些对话的意图都是好的。礼貌的把想法推后，要求更多的上下文，或进一步澄清你的态度，这些都是好的做法。使因特网成为比你发现它时更好的地方。</p>\n<h3>收集上下文</h3>\n<p>在做任何事之前，做一个快速的检查，确保你的想法没有在其它地方被讨论过。略读项目的自述文件、 Issue （开放的和关闭的）、邮件列表和 Stack Overflow。你不一定要花几个小时检查一切，但对几个关键词的快速搜索会大有帮助。</p>\n<p>如果你在其它地方找不到你的想法，你已经准备好开始行动了。如果项目在 GitHub 上，你多半会通过开启一个 Issue 或使用 pull request 来沟通：</p>\n<ul>\n<li><strong>Issues </strong>就像开启一个会话或讨论</li>\n<li><strong>使用 Pull requests </strong>是为了开始致力于一个解决方案</li>\n<li><strong>对于不重要的交流，</strong>比如一个澄清或操作方式问题，试着在 Stack Overflow、IRC、Slack 上提问，或是其它的聊天通道，如果项目有对应渠道的话</li>\n</ul>\n<p>在你开启一个 Issue 或 使用 pull request 以前，检查项目的贡献文档（通常是一个叫做 CONTRIBUTING 的文件，或者在自述文件里），看看你是否需要把特定的东西包含进去。例如，他们可能要求你遵照一个模版，或是要求你使用测试。</p>\n<p>如果你想做一个实质的贡献，在着手以前先开一个 Issue 提问。一个有帮助的做法是，在着手进行可能不被接受的工作以前，先对项目观察一段时间（在 GitHub 上，<a href=\"https://help.github.com/articles/watching-repositories/\">你可以点击“Watch”</a>来获取所有会话的通知），并且了解团体成员。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/26768d6d7f04e1cd4d44e8978deaa9da.png\"><img class=\"size-thumbnail wp-image-63259 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/26768d6d7f04e1cd4d44e8978deaa9da-150x150.png\" alt=\"810438\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>找一个你经常使用的项目，在 GitHub 上“ Watch”它，阅读每个 Issue 和使用 pull request，你能从中学到很多。— <a href=\"https://github.com/gaearon\">@gaearon</a> <a href=\"https://twitter.com/dan_abramov/status/819555257055322112\">参与项目</a></p></blockquote>\n<h3>开一个 Issue</h3>\n<p>通常，在以下情况下你应该开一个 Issue ：</p>\n<ul>\n<li>报告一个你不能自行解决的错误</li>\n<li>讨论一个高级的主题或想法（比如团体、愿景、策略）</li>\n<li>推荐一个新特性或其它有关项目的想法</li>\n</ul>\n<p>Issue 沟通的诀窍：</p>\n<ul>\n<li><strong>如果你看到一个你想着手处理的开放 Issue ，</strong>在 Issue 中作评论来让人们知道你在处理它。那样，人们就不太可能重复你的工作。</li>\n<li><strong>如果一个 Issue 是一段时间以前开放的，</strong>可能它正在其它地方被处理，或已经被解决了，所以在开始工作前，在评论里要求做个确认。</li>\n<li><strong>如果你开了一个 Issue ，后来自己想出了答案，</strong>在 Issue 中作评论来让人们知道，然后关闭该 Issue 。即使对结果的文档化也是对项目的一种贡献。</li>\n</ul>\n<h3>使用 pull request</h3>\n<p>通常，在以下情况下你应该使用 <strong>pull request</strong>：</p>\n<ul>\n<li>提交细小的修正（例如拼写错误、断开的链接或明显的错误）</li>\n<li>对已经在 Issue 中要求的，或你已经讨论过的贡献开始工作</li>\n</ul>\n<p>使用 pull reques 并不一定代表已完成的工作。在早期开一个 pull request 往往更好，这样其他人可以观察你的进展或给予反馈。只要在主题行里把它标记为“WIP”（进行中的工作）。以后你总能添加更多的提交。</p>\n<p>如果项目是在 GitHub 上，这是怎样提交一个 pull request 的方法：</p>\n<ul>\n<li><strong><a href=\"https://guides.github.com/activities/forking/\">Fork仓库</a></strong>并把它克隆到本地。通过把原始“上游”仓库添加为远程操作把它与你的本地连接。经常拉入（pull in）“上游”的改变，这样你保持在最新状态，这样的话，当你提交你的 pull request 时就不太可能出现合并冲突。（更详细的操作指南见<a href=\"https://help.github.com/articles/syncing-a-fork/\">这里</a>。）</li>\n<li>为你的编辑<strong>创建一个分支</strong></li>\n<li>在你的 pull request 中<strong>引用相关的 Issue </strong>或支持文档（比如，“Closes #37.”）</li>\n<li>如果你的变更包括 HTML/CSS 中的差异，<strong>把之前和之后的屏幕截图包含进去</strong>。把图像拖放到你的 pull request 主体中。</li>\n<li><strong>测试你的变更！</strong>如果有现存的测试，对你的变更运行这些测试，如果需要，创建新的测试。无论测试存在与否，确保你的变更不会破坏现有的项目。\n<ul>\n<li>尽你所能<strong>以项目的风格做贡献</strong>。这可能意味着相比你自己的仓库使用不同的缩进、分号或注释，但这样使维护者的合并、其他人的理解和将来的维护变得更简单。</li>\n</ul>\n</li>\n</ul>\n<p>如果你第一次使用<a href=\"http://makeapullrequest.com/\"> Pull Request</a>，查看<a href=\"http://makeapullrequest.com/\">“</a><a href=\"http://makeapullrequest.com/\"> 做一个 Pull Request</a> <a href=\"http://makeapullrequest.com/\">”</a>，这是 <a href=\"https://github.com/kentcdodds\"><strong>@kentcdodds </strong></a>创建的，可作为一个免费的演练资源。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第六部分：提交贡献之后会发生什么</h2>\n<p><span style=\"color: #808080;\">你做到了！祝贺你成为一名开源贡献者。我们希望这是许多次中的第一次。</span></p>\n<p>在你提交贡献之后，会发生以下情形之一：</p>\n<h3>😭  你没有得到回应。</h3>\n<p>但愿你在做贡献以前<a href=\"https://opensource.guide/how-to-contribute/#a-checklist-before-you-contribute\">检查过项目的活跃迹象</a>。然而，即使对一个活跃的项目来说，也有可能你的贡献得不到回应。</p>\n<p>如果超过一星期了你还没有得到回应，有理由在同一个线程（thread）中礼貌地回复，请某人做审查。如果你知道审查你的贡献的合适的人的名字，你可以在线程中@-提到他们。</p>\n<p><strong>不要</strong>私下接触那个人；记住，公开的交流对开源项目来说至关重要。</p>\n<p>如果你做了一个礼貌的“碰撞”，还是没人回应，那可能永远也不会有人回应。这种滋味不好受，但不要因此气馁。每个人都经历过这种事！你没有得到回应可能有很多原因，包括可能不受你控制的个人境况。试着找到另一个项目或方式做贡献。如果有什么理由来解释为什么在其它团体成员投入这个项目此并作出回应前不要在贡献项目上投入太多时间的话，这就是很好的一个。</p>\n<h3>🚧 某人要求对你的贡献做改动。</h3>\n<p>你常常会被要求对你的贡献做改动，无论是对你的想法范围的反馈，还是对你代码的改动。</p>\n<p>当某人要求做改动时，要作出响应。他们花了时间审查你的贡献。开了一个 pull request 然后就走掉是不好的表现。如果你不知道怎样做改动，研究该问题，然后如果需要的话寻求帮助。</p>\n<p>如果你不再有时间在该 Issue 上工作（例如，如果会话已经进行了几个月，你的境况发生了变化），让维护者知晓，这样他们就不再期待一个回应。其他人可能乐于接手。</p>\n<h3>👎 你的贡献没被接受。</h3>\n<p>最后，你的贡献可能会，也可能不会被接受。但愿你没有在那里面做太多的工作。如果你不确定它为什么没被接受，要求维护者的反馈和说明是完全合理的。然而最终，这是他们的决定，你需要表示尊重。不要争论或怀有敌意。如果你意见不同，始终欢迎你 fork 并在你自己的版本上工作。</p>\n<h3>🎉 你的贡献被接受了。</h3>\n<p>好极了！你成功地做了开源贡献！</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第七部分：你做到了！</h2>\n<p>不管你刚刚完成了你的第一个开源贡献，或者你正在寻找新的贡献方式，我们希望你收到鼓舞并采取行动。即使你的贡献没有被接受，当维护者付出努力帮助你时，不要忘了说声谢谢。开源正是由像你一样的人造就的：选一个 Issue 、开 pull request 、评论，或逐一举手击掌。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111204\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111204votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111204\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 10 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture\">效楚</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/qdoverture\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/qdoverture/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 3, "title": "新人必看的开源指南：如何参与并做贡献", "tags": "开发,开源", "url_obj_id": "86b2553cf3632cf939fdb658d74ed475", "create_date": "2017/05/19", "url": "http://blog.jobbole.com/111204/", "bookmark_num": 10, "front_image_path": "full/dd36e1ac9db2af41888b4a17b76a865bb91d4510.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/b94146f42c8e0ca2b0f04ed89b59053c.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.oreilly.com/ideas/how-the-tensorflow-team-handles-open-source-support\">Oreilly</a>   译文出处：<a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/902230\">开源中国</a>   </div><div>\n<blockquote><p>TensorFlow 技术主管在这篇文章中和我们分享了他们团队管理开源项目的经验。</p></blockquote>\n<p>开源不仅仅是把代码贡献出来，然后希望有人来使用它。我也知道这一点，不过在成为 Google TensorFlow 团队的成员后，我才认识到围绕一个软件构建一个社区所需要考虑的因素实在是很多。</p>\n<h3>社区服务</h3>\n<p>当一个新项目发布出来时，该项目唯一的专家就是编写这个项目的人。他们是唯一可以撰写文档和回答问题的人，而且他们可以最有效地改进软件。因此，我们这些 TensorFlow 团队中的核心成员也成为了项目扩大的瓶颈：毕竟我们无法马上完成任何事情。我们知道如何编写代码和文档，因为这些任务是我们日常工作的一部分。但另一方面，回答大量来自社区开发者的问题不是我们应该做的事，尽管我们也知道这对于项目的成功至关重要。</p>\n<p>为了保证用户可以获得所需要的答案，核心工程师团队的所有人都加入了轮流回答问题。团队成员可以选择解决 <a href=\"http://stackoverflow.com/questions/tagged/tensorflow\" target=\"_blank\" rel=\"nofollow\">Stack Overflow 上带有 #tensorflow 标记的问题</a>、在 GitHub 上审查 <a href=\"https://github.com/tensorflow/tensorflow/pulls\" target=\"_blank\" rel=\"nofollow\">pull requests</a>，分类 <a href=\"https://github.com/tensorflow/tensorflow/issues\" rel=\"nofollow\">GitHub issues</a>，处理同步外部和内部代码或追查<a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">测试失败</a>的原因。</p>\n<p>通常，每个工程师每次对一个特定领域负责一个星期，以循环的方式轮流负责。因此，轮值的工程师在本周正常工作中的生产力会低很多，不过至少每个人工作被打断的频率降到了几个月一次。</p>\n<h3>Pull requests</h3>\n<p>我们开源 TensorFlow 部分的目的是希望通过社区的贡献来改进它。到目前为止，我们已经拥有超过 400 个外部贡献者添加了代码，从小的文档修复到大型的添加，如<a href=\"https://github.com/tensorflow/tensorflow/pull/664\" target=\"_blank\" rel=\"nofollow\">支持 OS X GPU</a>、<a href=\"https://github.com/tensorflow/tensorflow/pull/9117\" target=\"_blank\" rel=\"nofollow\">OpenCL 的实现</a>或 <a href=\"https://github.com/tensorflow/tensorflow/pull/8943\" rel=\"nofollow\">InfiniBand RDMA</a>。首先，轮值的核心工程师必须对每项贡献都进行审查，以确定是否有价值。如果贡献通过初始审查，会触发一组 <a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">Jenkins 测试</a>，以确保其不会导致任何故障。如果这些行为也通过审查后，值班的工程师可能会希望其他对这个领域更了解的工程师来看一看，所以这将会被转交给该专家进行审查。</p>\n<p>GitHub 全新的详细的<a href=\"https://github.com/features/code-review/\" target=\"_blank\" rel=\"nofollow\">代码审查工具</a>在这个过程中提供了很大的帮助；没有它们之前，处理所有的个人意见是一件痛苦的事情。通常，大的 PRs 会在工作中保持一段时间，核心工程师会和一个或多个外部贡献者协同工作，在大家都满意后，PR 将会在 GitHub 中被合并，然后在下次运行同步时合并到我们的内部代码库中。</p>\n<h3>代码许可协议</h3>\n<p>作为我们自动的 pull request 的一部分，我们会将贡献者的 GitHub 账号与我们在 <a href=\"https://cla.developers.google.com/\" rel=\"nofollow\">cla.developers.google.com</a> 上的记录相匹配，以确保任何的外部贡献者都拥有代码许可协议（CLA）。我们的目标是确保整个代码库可在 Apache 2.0 协议下准确无误地分发。当 pull request 的轮值工程师要对出现的所有问题进行整理时，如果一个 pull request 内部关联了不同的邮箱，或是贡献者需要以公司的身份登录，情况可能会变得复杂。</p>\n<h3>GitHub issues</h3>\n<p>目前已经有超过 5000 个 issues 提交到 TensorFlow，对于有些人来说，这看起来似乎有点让人沮丧。但这是我最喜欢的指标 —— 它说明了用户有在真正使用这个项目！为了确保能对每个提交的 issue 都进行回应，值班的工程师会时刻关注新出现的信息，并尝试使用标签对它们进行分类。如果是一个我们内部不太可能在短期时间内实现的特性，我们会将其标记为“Contributions Welcome（欢迎贡献）”，对于 bug，我们会尝试优先考虑。这段时间以来，随着外部用户自己也成了某些领域的专家，我们看到越来越多的问题无需我们的帮助也能够被解决了。特别是在像 Windows 这些我们不是每天都使用的平台上。</p>\n<p>如果某个 issue 通过社区没能找到答案或者解决方案，而且它的优先级也比较高，值班工程师会将其分配给对这个领域更了解的工程师。整个 TensorFlow 团队都有 GitHub 账号，所以我们可以使用常规的 GitHUb issue 跟踪器来分配问题。我们考虑过把用户提交的 bug 复制到我们的内部系统，但为相同的信息同步两份副本的代价实在是太高了。因此，我们的工程师除了要关注内部的跟踪器之外，还需要打开 GitHub 上有人提交了 bug 的邮件通知，以便及时看到属于自己的分配。</p>\n<h3>Stack Overflow</h3>\n<p><a href=\"https://twitter.com/mrry\" target=\"_blank\" rel=\"nofollow\">Derek Murray</a> 是 Stack Overflow 值班小组的负责人。我十分敬畏他回答问题的能力，根据他的<a href=\"http://stackoverflow.com/users/3574081/mrry\" target=\"_blank\" rel=\"nofollow\">个人资料页</a>，他发表过的帖子已经被超过 130 万人浏览。他还设法建了一个由 RSS 源驱动的自动化电子表格。开始的时候，我们每周轮流负责，但后来需要处理的问题的数量变得十分庞大，一个人难以处理。所以后来在轮流的基础上，我们采用了自动分配问题的方式来代替之前的做法。</p>\n<p>目前我在这个小组里，因此每天早上浏览完自己的的邮件后，我会通过查看电子表格来看一下自己被分配到了什么问题。很遗憾，我们做不到自己回答所有的问题，但我们会审查每一个进来的问题。如果问题相对比较简单，我们会自己回答。</p>\n<p>值班的工程师是一个“前线”的角色，但有时候回答问题需要更多的时间或专业知识。如果问题看上能被解答，但社区里却没人回答，我们就会研究一下代码（通常使用‘git blame’）来看一下团队里有谁可能会对这个问题有一些想法。然后值班工程师会发送一封电子邮件，询问我们找到的内部专家是否可以提供帮助。</p>\n<h3>邮件列表</h3>\n<p>我们设置了一个邮件列表，起初我们不太清楚该用它做什么。但很显然，用它来跟踪问题或回答一般的问题是十分糟糕的方式。</p>\n<p>后来，我们把它当做讨论区来使用。但在实际使用中我们发现，即使对于架构问题，GitHub issue 也比它更适合。</p>\n<p>因此现在我们使用邮件列表来发送信息和分享通知，这还是值得订阅的。</p>\n<h3>代码同步</h3>\n<p>很多和我聊过天的人都会对这样一件事感到惊讶：我们在谷歌内部使用的代码库和我们在 GitHub 上提供的几乎完全相同。然而它们之间还是有一些区别的：例如，对谷歌专用的基础设施的支持是分开的，路径也不一样。但同步过程是完全机械化的。我们至少每周推送一次内部变更，并且也会经常从 GitHub 上拉取。</p>\n<p>棘手的问题是我们要进行双向同步。在 GitHub 公共项目和我们的内部版本中，有很多更改是同时发生的，我们需要反复把它们全部进行合并。由于没有现成的基础设施可供使用，我们创建了一系列的 Python 脚本来处理这些问题。脚本可将 GitHub 上的改动拉取到我们内部的资源存储库，并转换所有的头部路径（header paths）和其他小的更改，将它们与最新的内部代码合并并创建一个内部副本。然后我们就可以进行另一方向的同步，我们会将所有内部代码装换成外部格式，并使用相同的脚本将结果合并到最新的 GitHub 上。</p>\n<p>对于内部的更改，我们也会尽力确保每次check-in 都会以单个的 git commit 呈现，并把作者的 GitHub 账户和对这些更改的注释也包括在内。我们在 GitHub 上有一个特别的“tensorflow-gardener”账号用于管理这个流程，<a href=\"https://github.com/tensorflow/tensorflow/commit/708f708a458f0a4754094a5a65fb029131b2255d\" target=\"_blank\" rel=\"nofollow\">点此查看</a>一个内部的 commit 迁移到 GitHub 会变成怎样。</p>\n<p>确保在代码更改的情况下，转换流程依然有效是十分具有挑战性的。为了验证有效性，每个内部改动通过脚本转换成外部版本后仍可运行，而且与初始的内部版本没有任何差别。在任何涉及到 TensorFlow 代码库的每个内部更改上，都需要运行这个测试，不能通过测试的修改将被拒绝。对于那些发送 pull request 的人，我们有时候会要求他们进行奇怪的更改。通常，这样做的原因是我们必须确保他们的代码能与这个同步基础设施正常运行。</p>\n<h3>测试</h3>\n<p>因为我们需要支持很多平台，所以我们希望拥有一个适用范围广的测试基础设施。TensorFlow 在 Linux, Windows, OS X 桌面, 和 iOS, Android, Android Things, 以及 Raspberry Pi 上运行。同时我们还有为 GPU 提供不同的代码路径，包括 CUDA 和 OpenCL 支持，以及 Bazel, cmake, 和 plain makefile 构建过程。</p>\n<p>让每个开发者在更改后把上面这些东西手动测试一遍是不可能的，因此我们有一套能在大多数受支持的平台上运行的<a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">自动化测试系统</a>，所有这些都由 Jenkins 自动化系统控制着。保持这样的工作需要大量的时间和精力，因为总是会存在操作系统更新、硬件问题以及其他一些与 TensorFlow 无关的问题导致测试失败。我们有一个工程师团队，专门负责保证整个测试系统正常运行，这个团队曾多次帮助我们，让我们幸免于难，所以这个投资是值得的。</p>\n<h3>开发者关系</h3>\n<p>在谷歌，我们在开源领域工作不孤单。我们从像 Kubernetes 和 开源计划办公室”（Open Source Program Office）这样的项目中学到过很多东西。我们还有一支非常努力的开发者关系专家团队来协助我们，他们还处理了很多围绕文档、代码示例以及其他一些开发者经验问题而产生的体力活。我们的长期目标是将关键的专业知识传递到核心开发者之外，以便更多 Google 内部和外部的人员能对社区做出贡献。</p>\n<p>让核心工程师“兼职”承担客户服务工作的一大好处是可以直接了解用户所遇到的问题。参与客户服务也驱动着我们去改进常见的错误并增加文档，因为它在减少工作量方面让我们看到了直接的回报。</p>\n<p>展望未来，我们希望可以将这项工作更广泛地进行下去，也希望更多人可以熟悉框架的细节、文档的改进，我们创建了更多的“指导手册”以帮助人们处理常见任务（如错误分类）。在此之前，我为有机会和如此多的外部开发者进行互动而感到幸运，也希望通过帮助他们使用机器学习创造新的令人惊叹的应用，从而产生积极的影响。</p>\n<p>关于作者：</p>\n<p><a href=\"https://www.oreilly.com/people/9cbf6-pete-warden\" target=\"_blank\" rel=\"nofollow\">Pete Warden </a>是 TensorFlow Mobile 团队的技术主管，之前是 Jetpac 的首席技术官，该公司于 2014 年被 Google 收购，主要工作是优化其在移动和嵌入式设备上的深度学习技术。他曾在苹果公司工作，负责图像处理的 GPU 优化，并为 O’Reilly 撰写过关于数据处理的书籍。</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111200\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111200votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111200\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "TensorFlow 团队如何管理开源项目", "tags": "IT技术,TensorFlow,开源", "url_obj_id": "ff65dbf752ac6cec76ddb579b61b1e66", "create_date": "2017/05/19", "url": "http://blog.jobbole.com/111200/", "bookmark_num": 3, "front_image_path": "full/5c3e802fa7c46fa53f8411355279d527314c20be.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/03/86a72531c8845e07f09b2d42649f2253.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/jarly/blog/898144\">jarly</a>   </div><p>【伯乐在线转注】：awk 是一个强大的文本分析工具。它不仅是 Linux 中，也是任何环境中现有的功能最强大的数据处理引擎之一。相对于 grep 的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。</p>\n<hr>\n<p>当你第一次拿起双手在电脑上使用 awk 命令处理一个或者多个文件的时候，它会依次读取文件的每一行内容, 然后对其进行处理，awk 命令默认从 stdio 标准输入获取文件内容, awk 使用一对单引号来表示 一些可执行的脚本代码，在可执行脚本代码里面，使用一对花括号来表示一段可执行代码块，可以同时存在多个代码块。 awk 的每个花括号内同时又可以有多个指令，每一个指令用分号分隔，awk 其实就是一个脚本编程语言。说了这么多，你肯定还是一脸的懵逼。你猜对了，上面这些都是废话。先别急，客官请往下看……</p>\n<p><strong>awk 命令的基本格式</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7554821332127\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nawk [options] 'program' file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7554821332127-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7554821332127-1\"><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">options</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'program'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><code>options</code> 这个表示一些可选的参数选项，反正就是你爱用不用，不用可以拉到。。。 <code>program</code> 这个表示 awk 的可执行脚本代码，这个是必须要有的。 <code>file</code> 这个表示 awk 需要处理的文件，注意是纯文本文件，不是你的 mp3，也不是 mp4 啥的。。</p>\n<p><strong>先来一个 awk 的使用例子热热身</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e755e337291926\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $0}' /etc/passwd</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e755e337291926-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e755e337291926-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">passwd</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>awk 命令的可执行脚本代码使用单引号括起来，紧接着里面是一对花括号，记住是 “花括号” 不是 “花姑娘”，然后花括号里面就是一些可执行的脚本代码段，当 awk 每读取一行之后，它会依次执行双引号里面的每个脚本代码段，在上面这个例子中， <code>$0</code> 表示当前行。当你执行了上面的命令之后，它会依次将 /etc/passwd 文件的每一行内容打印输出，你一定在想：这有个毛用，用 cat 命令也能搞定。没错！上面这个命令没个毛用，请往下看。</p>\n<p><strong>awk 自定义分隔符</strong></p>\n<p>awk 默认的分割符为空格和制表符，我们可以使用 -F 参数来指定分隔符</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7562054934857\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk -F ':' '{print $1}' /etc/passwd\r\nroot\r\nbin\r\ndaemon\r\nadm\r\nlp\r\nsync\r\nshutdown\r\nhalt\r\nmail\r\noperator\r\ngames\r\nftp\r\nnobody</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7562054934857-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7562054934857-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">':'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-2\"><span class=\"crayon-e\">root</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-3\"><span class=\"crayon-e\">bin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-4\"><span class=\"crayon-e\">daemon</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-5\"><span class=\"crayon-e\">adm</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-6\"><span class=\"crayon-e\">lp</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-7\"><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-8\"><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-9\"><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-10\"><span class=\"crayon-e\">mail</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-11\"><span class=\"crayon-e\">operator</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-12\"><span class=\"crayon-e\">games</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7562054934857-13\"><span class=\"crayon-e\">ftp</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7562054934857-14\"><span class=\"crayon-v\">nobody</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>上面的命令将 /etc/passwd 文件中的每一行用冒号 <em>:</em> 分割成多个字段，然后用 print 将第 1 列字段的内容打印输出</p>\n<p><strong>如何在 awk 中同时指定多个分隔符</strong></p>\n<p>比如现在有这样一个文件 some.log 文件内容如下</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7566786763763\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGrape(100g)1980\r\nraisins(500g)1990\r\nplum(240g)1997\r\napricot(180g)2005\r\nnectarine(200g)2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7566786763763-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7566786763763-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7566786763763-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7566786763763-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7566786763763-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7566786763763-1\"><span class=\"crayon-e\">Grape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">100g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1980</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7566786763763-2\"><span class=\"crayon-e\">raisins</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">500g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7566786763763-3\"><span class=\"crayon-e\">plum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">240g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7566786763763-4\"><span class=\"crayon-e\">apricot</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">180g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">2005</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7566786763763-5\"><span class=\"crayon-e\">nectarine</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">200g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>现在我们想将上面的 some.log 文件中按照 “水果名称(重量)年份” 来进行分割</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e756a438514277\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk -F '[()]' '{print $1, $2, $3}' some.log\r\nGrape 100g 1980\r\nraisins 500g 1990\r\nplum 240g 1997\r\napricot 180g 2005\r\nnectarine 200g 2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e756a438514277-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e756a438514277-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e756a438514277-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e756a438514277-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e756a438514277-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e756a438514277-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e756a438514277-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'[()]'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1, $2, $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">some</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e756a438514277-2\"><span class=\"crayon-i\">Grape</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1980</span></div><div class=\"crayon-line\" id=\"crayon-59263762e756a438514277-3\"><span class=\"crayon-i\">raisins</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">500g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e756a438514277-4\"><span class=\"crayon-i\">plum</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">240g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line\" id=\"crayon-59263762e756a438514277-5\"><span class=\"crayon-i\">apricot</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">180g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e756a438514277-6\"><span class=\"crayon-i\">nectarine</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>在 <code>-F</code> 参数中使用一对方括号来指定多个分隔符，awk 处理 some.log 文件时就会使用 “(” 和 “)” 来对文件的每一行进行分割。</p>\n<p><strong>awk 内置变量的使用</strong></p>\n<p><code>$0</code> 这个表示文本处理时的当前行</p>\n<p><code>$1</code> 表示文本行被分隔后的第 1 个字段列</p>\n<p><code>$2</code> 表示文本行被分割后的第 2 个字段列</p>\n<p><code>$3</code> 表示文本行被分割后的第 3 个字段列</p>\n<p><code>$n</code> 表示文本行被分割后的第 n 个字段列</p>\n<p><code>NR</code> 表示文件中的行号，表示当前是第几行</p>\n<p><code>NF</code> 表示文件中的当前行列的个数，类似于 mysql 数据表里面每一条记录有多少个字段</p>\n<p><code>FS</code> 表示 awk 的输入分隔符，默认分隔符为空格和制表符，你可以对其进行自定义设置</p>\n<p><code>OFS</code> 表示 awk 的输出分隔符，默认为空格，你也可以对其进行自定义设置</p>\n<p><code>FILENAME</code> 表示当前文件的文件名称，如果同时处理多个文件，它也表示当前文件名称</p>\n<p>比如我们有这么一个文本文件 fruit.txt 内容如下，我将用它来向你演示如何使用 awk 命令工具，顺便活跃一下此时尴尬的气氛。。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e756d567780073\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npeach    100   Mar  1997   China\r\nLemon    150   Jan  1986   America\r\nPear     240   Mar  1990   Janpan\r\navocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e756d567780073-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e756d567780073-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e756d567780073-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e756d567780073-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e756d567780073-1\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e756d567780073-2\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line\" id=\"crayon-59263762e756d567780073-3\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e756d567780073-4\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>我们来瞧一瞧下面这些简单到爆炸的例子，这个表示打印输出文件的每一整行的内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7571063421733\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $0}' fruit.txt\r\npeach    100   Mar  1997   China\r\nLemon    150   Jan  1986   America\r\nPear     240   Mar  1990   Janpan\r\navocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7571063421733-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7571063421733-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7571063421733-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7571063421733-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7571063421733-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7571063421733-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7571063421733-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7571063421733-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7571063421733-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7571063421733-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>下面这个表示打印输出文件的每一行的第 1 列内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7574347795631\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1}' fruit.txt\r\npeach\r\nLemon\r\nPear\r\navocado</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7574347795631-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7574347795631-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7574347795631-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7574347795631-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7574347795631-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7574347795631-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7574347795631-2\"><span class=\"crayon-e\">peach</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7574347795631-3\"><span class=\"crayon-e\">Lemon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7574347795631-4\"><span class=\"crayon-e\">Pear</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7574347795631-5\"><span class=\"crayon-v\">avocado</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>下面面这个表示打印输出文件的每一行的第 1 列、第 2 列和第 3 列内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7577106237565\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1, $2, $3}' fruit.txt\r\npeach 100 Mar\r\nLemon 150 Jan\r\nPear 240 Mar\r\navocado 120 Feb</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7577106237565-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7577106237565-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7577106237565-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7577106237565-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7577106237565-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7577106237565-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1, $2, $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7577106237565-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7577106237565-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7577106237565-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7577106237565-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Feb</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>其中加入的逗号表示插入输出分隔符，也就是默认的空格</p>\n<p><strong>文件的每一行的每一列的内容除了可以用 print 命令打印输出以外，还可以对其进行赋值</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e757b997728372\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{$2 = \"***\"; print $0}' fruit.txt\r\npeach *** Mar 1997 China\r\nLemon *** Jan 1986 America\r\nPear *** Mar 1990 Janpan\r\navocado *** Feb 2008 china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e757b997728372-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e757b997728372-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e757b997728372-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e757b997728372-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e757b997728372-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e757b997728372-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{$2 = \"***\"; print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e757b997728372-2\"><span class=\"crayon-e \">peach *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e757b997728372-3\"><span class=\"crayon-e \">Lemon *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e757b997728372-4\"><span class=\"crayon-e \">Pear *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e757b997728372-5\"><span class=\"crayon-e \">avocado *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>上面的例子就是表示通过对 <code>$2</code> 变量进行重新赋值，来隐藏每一行的第 2 列内容，并且用星号 <code>*</code> 来代替其输出</p>\n<p><strong>在参数列表中加入一些字符串或者转义字符之类的东东</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e757e442067691\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1 \"\\t\" $2 \"\\t\" $3}' fruit.txt\r\npeach   100     Mar\r\nLemon   150     Jan\r\nPear    240     Mar\r\navocado 120     Feb</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e757e442067691-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e757e442067691-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e757e442067691-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e757e442067691-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e757e442067691-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e757e442067691-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1 \"\\t\" $2 \"\\t\" $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e757e442067691-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-59263762e757e442067691-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Jan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e757e442067691-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-59263762e757e442067691-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">Feb</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>像上面这样，你可以在 <code>print</code>的参数列表中加入一些字符串或者转义字符之类的东东，让输出的内容格式更漂亮，但一定要记住要使用双引号。</p>\n<p><strong>awk 内置 NR 变量表示每一行的行号</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7581888836140\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print NR \"\\t\" $0}' fruit.txt\r\n1   peach    100   Mar  1997   China\r\n2   Lemon    150   Jan  1986   America\r\n3   Pear     240   Mar  1990   Janpan\r\n4   avocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7581888836140-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7581888836140-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7581888836140-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7581888836140-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7581888836140-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7581888836140-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print NR \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7581888836140-2\"><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7581888836140-3\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7581888836140-4\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7581888836140-5\"><span class=\"crayon-cn\">4</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0027 seconds] -->\r\n<p><strong>awk 内置 NF 变量表示每一行的列数</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7585386231137\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print NF \"\\t\" $0}' fruit.txt\r\n5   peach    100   Mar  1997   China\r\n5   Lemon    150   Jan  1986   America\r\n5   Pear     240   Mar  1990   Janpan\r\n5   avocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7585386231137-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7585386231137-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7585386231137-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7585386231137-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7585386231137-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7585386231137-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print NF \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7585386231137-2\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7585386231137-3\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7585386231137-4\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7585386231137-5\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p><strong>awk 中 $NF 变量的使用</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7588178267156\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $NF}' fruit.txt\r\nChina\r\nAmerica\r\nJanpan\r\nchina</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7588178267156-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7588178267156-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7588178267156-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7588178267156-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7588178267156-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7588178267156-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $NF}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7588178267156-2\"><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7588178267156-3\"><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7588178267156-4\"><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7588178267156-5\"><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>上面这个 <code>$NF</code> 就表示每一行的最后一列，因为 NF 表示一行的总列数，在这个文件里表示有 5 列，然后在其前面加上 <code>$</code> 符号，就变成了 <code>$5</code> ，表示第 5 列</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e758b480016435\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $(NF - 1)}' fruit.txt\r\n1997\r\n1986\r\n1990\r\n2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e758b480016435-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e758b480016435-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e758b480016435-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e758b480016435-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e758b480016435-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e758b480016435-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $(NF - 1)}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e758b480016435-2\"><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line\" id=\"crayon-59263762e758b480016435-3\"><span class=\"crayon-cn\">1986</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e758b480016435-4\"><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line\" id=\"crayon-59263762e758b480016435-5\"><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>上面 <code>$(NF-1)</code> 表示倒数第 2 列， <code>$(NF-2)</code> 表示倒数第 3 列，依次类推。</p>\n<p><strong>现在除了刚才说的有一个 fruit.txt 文件之外，我们又多了一个新文件叫 company.txt 内容如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e758e348386586\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyahoo   100 4500\r\ngoogle  150 7500\r\napple   180 8000\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e758e348386586-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e758e348386586-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e758e348386586-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e758e348386586-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e758e348386586-1\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e758e348386586-2\"><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line\" id=\"crayon-59263762e758e348386586-3\"><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e758e348386586-4\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p><strong>我们用 fruit.txt 和 company.txt 两个文件来向你演示 awk 同时处理多个文件的时候有什么效果</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7592863183993\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print FILENAME \"\\t\" $0}' fruit.txt company.txt\r\nfruit.txt       peach    100   Mar  1997   China\r\nfruit.txt       Lemon    150   Jan  1986   America\r\nfruit.txt       Pear     240   Mar  1990   Janpan\r\nfruit.txt       avocado  120   Feb  2008   china\r\ncompany.txt     yahoo   100 4500\r\ncompany.txt     google  150 7500\r\ncompany.txt     apple   180 8000\r\ncompany.txt     twitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7592863183993-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7592863183993-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7592863183993-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7592863183993-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7592863183993-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7592863183993-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7592863183993-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7592863183993-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7592863183993-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7592863183993-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print FILENAME \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7592863183993-2\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7592863183993-3\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7592863183993-4\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7592863183993-5\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">china</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7592863183993-6\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7592863183993-7\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7592863183993-8\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7592863183993-9\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0026 seconds] -->\r\n<p>当你使用 awk 同时处理多个文件的时候，它会将多个文件合并处理，变量 <code>FILENAME</code> 就表示当前文本行所在的文件名称。</p>\n<p>看到这里是不是感觉 awk 命令的使用方法真的是简单到爆炸，现在不要太高兴，请举起你的双手跟我一起摇摆。。。哦，不对！请拿起你的双手在电脑上试一试上面这些例子。 你会知道我没有骗你，因为讲了这么多，傻子都会了。。。—_—</p>\n<p><strong>BEGIN 关键字的使用</strong></p>\n<p>在脚本代码段前面使用 BEGIN 关键字时，它会在开始读取一个文件之前，运行一次 BEGIN 关键字后面的脚本代码段， BEGIN 后面的脚本代码段只会执行一次，执行完之后 awk 程序就会退出</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7595211914784\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"}' /etc/passwd\r\nStart read file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7595211914784-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7595211914784-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7595211914784-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7595211914784-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>awk 脚本中可以用多个花括号来执行多个脚本代码，就像下面这样</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e7598557466063\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"} {print $0}' /etc/passwd\r\nStart read file\r\nroot:x:0:0:root:/root:/bin/bash\r\nbin:x:1:1:bin:/bin:/sbin/nologin\r\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\r\nadm:x:3:4:adm:/var/adm:/sbin/nologin\r\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\r\nsync:x:5:0:sync:/sbin:/bin/sync\r\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\r\nhalt:x:7:0:halt:/sbin:/sbin/halt\r\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\r\noperator:x:11:0:operator:/root:/sbin/nologin\r\ngames:x:12:100:games:/usr/games:/sbin/nologin\r\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\r\nnobody:x:99:99:Nobody:/:/sbin/nologin</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e7598557466063-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59263762e7598557466063-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"} {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-e\">file</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-3\"><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-4\"><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-5\"><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-6\"><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-7\"><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lpd</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-8\"><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-9\"><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-10\"><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-11\"><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-12\"><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-13\"><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">100</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e7598557466063-14\"><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">50</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">FTP </span><span class=\"crayon-v\">User</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e7598557466063-15\"><span class=\"crayon-v\">nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">Nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nologin</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0057 seconds] -->\r\n<p><strong>END 关键字使用方法</strong></p>\n<p>awk 的 END 指令和 BEGIN 恰好相反，在 awk 读取并且处理完文件的所有内容行之后，才会执行 END 后面的脚本代码段</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e759c603269492\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'END {print \"End file\"}' /etc/passwd\r\nEnd file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e759c603269492-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759c603269492-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e759c603269492-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'END {print \"End file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759c603269492-2\"><span class=\"crayon-st\">End</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>一定要多动手在电脑上敲一敲这些命令，对身体好。脑子是个好东西，要多用。。。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e759f407217515\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"} {print $0} END {print \"End file\"}' /etc/passwd\r\nStart read file\r\nroot:x:0:0:root:/root:/bin/bash\r\nbin:x:1:1:bin:/bin:/sbin/nologin\r\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\r\nadm:x:3:4:adm:/var/adm:/sbin/nologin\r\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\r\nsync:x:5:0:sync:/sbin:/bin/sync\r\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\r\nhalt:x:7:0:halt:/sbin:/sbin/halt\r\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\r\noperator:x:11:0:operator:/root:/sbin/nologin\r\ngames:x:12:100:games:/usr/games:/sbin/nologin\r\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\r\nnobody:x:99:99:Nobody:/:/sbin/nologin\r\nEnd file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59263762e759f407217515-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e759f407217515-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"} {print $0} END {print \"End file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-e\">file</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-3\"><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-4\"><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-5\"><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-6\"><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-7\"><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lpd</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-8\"><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-9\"><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-10\"><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-11\"><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-12\"><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-13\"><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">100</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-14\"><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">50</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">FTP </span><span class=\"crayon-v\">User</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-59263762e759f407217515-15\"><span class=\"crayon-v\">nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">Nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e759f407217515-16\"><span class=\"crayon-st\">End</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0054 seconds] -->\r\n<p><strong>在 awk 中使用变量</strong></p>\n<p>可以在 awk 脚本中声明和使用变量</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75a3644178095\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{msg=\"hello world\"; print msg}' /etc/passwd\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nawk 声明的变量可以在任何多个花括号脚本中使用\r\n\r\n$ awk 'BEGIN {msg=\"hello world\"} {print msg}' /etc/passwd\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nhello world</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a3644178095-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a3644178095-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{msg=\"hello world\"; print msg}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-2\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-3\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-4\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-5\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-6\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-7\"><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span>声明的变量可以在任何多个花括号脚本中使用</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-8\"> </div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-9\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {msg=\"hello world\"} {print msg}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-10\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-11\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-12\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a3644178095-13\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a3644178095-14\"><span class=\"crayon-e\">hello </span><span class=\"crayon-v\">world</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p><strong>在 awk 中使用数学运算</strong></p>\n<p>在 awk 中，像其他编程语言一样，它也支持一些基本的数学运算操作</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75a6874080078\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;$ &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;awk &lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;'{a = 12; b = 24; print a + b}'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; company.txt\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75a6874080078-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a6874080078-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a6874080078-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a6874080078-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75a6874080078-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75a6874080078-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75a6874080078-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-s\">'{a = 12; b = 24; print a + b}'</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a6874080078-2\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a6874080078-3\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a6874080078-4\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75a6874080078-5\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75a6874080078-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0075 seconds] -->\r\n<p>上面这段脚本表示，先声明两个变量 a = 12 和 b = 24，然后用 print 打印出 a 加上 b 的结果。</p>\n<p>看到上面的输出结果，你很可能又是一脸的懵逼，为什么会重复输出 4 次同样的计算结果。所以说小时不学好，长大做IT。 知识这东西真到了要用的时候，能亮瞎别人的双眼，好了，不废话。请记住 awk 是针对文件的每一行来执行一次单引号 里面的脚本代码，每读取到一行就会执行一次，文件里面有多少行就会执行多少次，但 BEGIN 和 END 关键字后面的 脚本代码除外，如果被处理的文件中什么都没有，那 awk 就一次都不会执行。。。</p>\n<p><strong>awk 还支持其他的数学运算符</strong></p>\n<ul>\n<li><code>+</code> 加法运算符</li>\n<li><code>-</code> 减法运算符</li>\n<li><code>*</code> 乘法运算符</li>\n<li><code>/</code> 除法运算符</li>\n<li><code>%</code> 取余运算符</li>\n</ul>\n<p><strong>在 awk 中使用条件判断</strong></p>\n<p>比如有一个文件 company.txt 内容如下</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75aa503658712\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyahoo   100 4500\r\ngoogle  150 7500\r\napple   180 8000\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75aa503658712-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75aa503658712-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75aa503658712-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75aa503658712-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75aa503658712-1\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75aa503658712-2\"><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75aa503658712-3\"><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75aa503658712-4\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p><strong>我们要判断文件的第 3 列数据，也就是平均工资小于 5500 的公司，然后将其打印输出</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75ae680162279\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '$3 &lt; 5500 {print $0}' company.txt\r\nyahoo   100 4500\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75ae680162279-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75ae680162279-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75ae680162279-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75ae680162279-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'$3 &lt; 5500 {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75ae680162279-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75ae680162279-3\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>上面的命令结果就是平均工资小于 5500 的公司名单， <code>$3 &lt; 5500</code> 表示当第 3 列字段的内容小于 5500 的时候才会执行后面的 <code>{print $0}</code> 代码块</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75b1541403690\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '$1 == \"yahoo\" {print $0}' company.txt\r\nyahoo   100 4500</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75b1541403690-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75b1541403690-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75b1541403690-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'$1 == \"yahoo\" {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75b1541403690-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>awk 还有一些其他的条件操作符如下</strong></p>\n<ul>\n<li><code>&lt;</code> 小于</li>\n<li><code>&lt;=</code> 小于或等于</li>\n<li><code>==</code> 等于</li>\n<li><code>!=</code> 不等于</li>\n<li><code>&gt;</code> 大于</li>\n<li><code>&gt;=</code> 大于或等于</li>\n<li><code>~</code> 匹配正则表达式</li>\n<li><code>!~</code> 不匹配正则表达式</li>\n</ul>\n<p><strong>使用 if 指令判断来实现上面同样的效果</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75b4265312088\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{if ($3 &lt; 5500) print $0}' company.txt\r\nyahoo   100 4500\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75b4265312088-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75b4265312088-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75b4265312088-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75b4265312088-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{if ($3 &lt; 5500) print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75b4265312088-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75b4265312088-3\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>上面表示如果第 3 列字段小于 5500 的时候就会执行后面的 <code>print $0</code>，很像 C 语言和 PHP 的语法对不对。 想到这里有一句话不知当讲不当讲，那就是 PHP 是世界上最好的语言。。。 我可能喝多了， 但是突然想起来我好像从来不喝酒。。。—_—</p>\n<p><strong>在 awk 中使用正则表达式</strong></p>\n<p>在 awk 中支持正则表达式的使用，如果你还对正则表达式不是很了解，请先停下来，上 google 去搜一下。</p>\n<p>比如现在我们有这么一个文件 poetry.txt 里面都是我写的诗，不要问我为什么那么的有才华。内容如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75b8022634170\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75b8022634170-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75b8022634170-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75b8022634170-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75b8022634170-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75b8022634170-1\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75b8022634170-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75b8022634170-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sparrow</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75b8022634170-4\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p><strong>使用正则表达式匹配字符串 “There” ，将包含这个字符串的行打印并输出</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75bb188101830\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/There/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75bb188101830-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75bb188101830-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75bb188101830-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75bb188101830-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/There/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75bb188101830-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75bb188101830-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><strong>使用正则表达式配一个包含字母 t 和字母 e ，并且 t 和 e 中间只能有任意单个字符的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75be062095786\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/t.e/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75be062095786-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75be062095786-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75be062095786-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75be062095786-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75be062095786-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/t.e/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75be062095786-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75be062095786-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sparrow</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75be062095786-4\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>如果只想匹配单纯的字符串 “t.e”， 那正则表达式就是这样的 <code>/t\\.e/</code> ，用反斜杠来转义 <code>.</code> 符号 因为 <code>.</code> 在正则表达式里面表示任意单个字符。</p>\n<p><strong>使用正则表达式来匹配所有以 “The” 字符串开头的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75c2323760689\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/^The/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75c2323760689-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75c2323760689-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75c2323760689-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75c2323760689-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/^The/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75c2323760689-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75c2323760689-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>在正则表达式中 <code>^</code> 表示以某某字符或者字符串开头。</p>\n<p><strong>使用正则表达式来匹配所有以 “true” 字符串结尾的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75c5312853146\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/true$/{print $0}' poetry.txt\r\nThis above all: to thine self be true</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75c5312853146-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75c5312853146-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75c5312853146-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/true$/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75c5312853146-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>在正则表达式中 <code>$</code> 表示以某某字符或者字符串结尾。</p>\n<p><strong>又一个正则表达式例子如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75c8982435902\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/m[a]t/{print $0}' poetry.txt\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75c8982435902-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75c8982435902-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75c8982435902-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/m[a]t/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75c8982435902-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>上面这个正则表达式 <code>/m[a]t/</code> 表示匹配包含字符 m ，然后接着后面还要包含中间方括号中表示的单个字符 a ，最后还要包含字符 t 的行，输出结果中只有单词 “matter” 符合这个正则表达式的匹配。因为正则表达式 <code>[a]</code> 方括号中表示匹配里面的任意单个字符。</p>\n<p><strong>继续上面的一个新例子如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75cc536813420\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/^Th[ie]/{print $0}' poetry.txt\r\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75cc536813420-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75cc536813420-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75cc536813420-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75cc536813420-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75cc536813420-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/^Th[ie]/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75cc536813420-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75cc536813420-3\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75cc536813420-4\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>这个例子中的正则表达式 <code>/^Th[ie]/</code>表示匹配以字符串 “Thi” 或者 “The” 开头的行，正则表达式方括号中表示匹配其中的任意单个字符。</p>\n<p><strong>再继续上面的新的用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75cf453296939\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/s[a-z]/{print $0}' poetry.txt\r\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75cf453296939-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75cf453296939-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75cf453296939-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75cf453296939-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75cf453296939-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/s[a-z]/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75cf453296939-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-59263762e75cf453296939-3\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75cf453296939-4\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>正则表达式 <code>/s[a-z]/</code> 表示匹配包含字符 s 然后后面跟着任意 a 到 z 之间的单个字符的字符串，比如 “se”, “so”, “sp” 等等。</p>\n<p><strong>正则表达式 <code>[]</code> 方括号中还有一些其他用法比如下面这些</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75d3771340101\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[a-zA-Z]  表示匹配小写的 a 到 z 之间的单个字符，或者大写的 A 到 Z 之间的单个字符\r\n[^a-z]    符号 `^` 在方括号里面表示取反，也就是非的意思，表示匹配任何非 a 到 z 之间的单个字符</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75d3771340101-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75d3771340101-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75d3771340101-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">zA</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">Z</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span>表示匹配小写的<span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">z</span><span class=\"crayon-h\"> </span>之间的单个字符，或者大写的<span class=\"crayon-h\"> </span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">Z</span><span class=\"crayon-h\"> </span>之间的单个字符</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75d3771340101-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">^</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">z</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span>符号<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-o\">^</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\"> </span>在方括号里面表示取反，也就是非的意思，表示匹配任何非<span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">z</span><span class=\"crayon-h\"> </span>之间的单个字符</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p><strong>正则表达式中的星号 <code>*</code> 和加号 <code>+</code> 的使用方法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75d6119799272\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/go*d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75d6119799272-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75d6119799272-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75d6119799272-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/go*d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75d6119799272-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>上面这个表示匹配包含字符串 “god”，并且中间的字母 “o” 可以出现 0 次或者多次，比如单词 “good” 就符合这个要求。 正则表达式中的 <code>+</code> 和星号原理差不多，只是加号表示任意 1 个或者 1 个以上，也就是必须至少要出现一次。</p>\n<p><strong>正则表达式问号 ? 的使用方法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75da859314489\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/ba?d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75da859314489-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75da859314489-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75da859314489-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/ba?d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75da859314489-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>正则表达式中的问号 ? 表示它前面的字符只能出现 0 次 或者 1 次，也就是可以不出现，也可以出现，但如果有出现也只能出现 1 次。</p>\n<p><strong>正则表达式中的 {} 花括号用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75dd261647973\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/go{2}d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75dd261647973-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75dd261647973-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75dd261647973-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/go{2}d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75dd261647973-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>花括号 <code>{}</code> 表示规定它前面的字符必须出现的次数，像上面这个 <code>/go{2}d/</code> 就表示只匹配字符串 “good”，也就是中间的字母 “o” 必须要出现 2 次。</p>\n<p><strong>正则表达式中的花括号还有一些其他的用法如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75e0698943501\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/go{2,3}d/    表示字母 \"o\" 只能可以出现 2 次或者 3 次\r\n/go{2,10}d/   表示字母 \"o\" 只能可以出现 2次，3次，4次，5次，6次 ... 一直到 10 次\r\n/go{2,}d/     表示字母 \"o\" 必须至少出现 2 次或着 2 次以上</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75e0698943501-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75e0698943501-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59263762e75e0698943501-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75e0698943501-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">    </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>只能可以出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次或者<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span>次</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75e0698943501-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">   </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>只能可以出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span>次，<span class=\"crayon-cn\">3</span>次，<span class=\"crayon-cn\">4</span>次，<span class=\"crayon-cn\">5</span>次，<span class=\"crayon-cn\">6</span>次<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span>一直到<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span>次</div><div class=\"crayon-line\" id=\"crayon-59263762e75e0698943501-3\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">     </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>必须至少出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次或着<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次以上</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0027 seconds] -->\r\n<p><strong>正则表达式中的圆括号的用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59263762e75e3785130157\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/th(in){1}king/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59263762e75e3785130157-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59263762e75e3785130157-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59263762e75e3785130157-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/th(in){1}king/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59263762e75e3785130157-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>正则表达式中的圆括号表示将多个字符当成一个完整的对象来看待。比如 <code>/th(in){1}king/</code> 就表示其中字符串 “in” 必须出现 1 次。而如果不加圆括号就变成了 <code>/thin{1}king/</code> 这个就表示其中字符 “n” 必须出现 1 次。</p>\n<p>看到这里，如果你对 poetry.txt 件中写的诗比较熟悉，你就会发现。。。我去！这诗根本就不是我写的。所以论多读书是多么的重要。我有幸借用莎士比亚的诗来向你讲解如何在 awk 中使用正则表达式。现在该想想晚上吃什么，晚上去吃火锅。。。—_—</p>\n<h2 id=\"h2_0\">使用 awk 的一些总结</h2>\n<p>因为 awk 算起来也是一种编程语言，它的功能远远不止我们上面讲的这些，awk 还有一些其他比较复杂的功能。但一般我们不建议将 awk 用的太过于复杂。通常面对一些比较复杂的场景我们还是要使用其他的一些工具，比如 shell 脚本，Lua 等等……</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111002\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111002votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111002\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "详解 awk 工具的使用方法", "tags": "IT技术,awk", "url_obj_id": "aae94ada54655fb3b913193e2bee306b", "create_date": "2017/05/17", "url": "http://blog.jobbole.com/111002/", "bookmark_num": 5, "front_image_path": "full/78b619ca60d2d1b9557cdf4810ee5df49f010a2a.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/10/58e81f3ff36189eef0d754b03017307d.jpg"]}
{"comment_num": 1, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q4000052677\">听风</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://red-badger.com/blog/2016/11/29/gitgithub-in-plain-english\">Red Radger</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>本文旨在使用通俗易懂的文字，讲解版本控制背后的理论，以便你能对程序员们如何工作有个全局概念。本文不涉及代码，不用下载啥东西，循序渐进，不关注繁复细节，只有文字和一些不怎么漂亮的手绘涂鸦。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj1eoiyg20pk0eedgn.gif\" width=\"600\" height=\"338\"></p>\n<h2>写本文的动机</h2>\n<p>学习任何东西都能在网络上找到如此之多的指导教程，这一直令我惊讶不已。Git 和 Github 也不例外，网络上有大量优秀资源，这些资源要么只对其中一个，要么兼顾二者引导你开始学习。以下是我特别喜欢的一些资源：</p>\n<ul>\n<li><a href=\"http://blog.teamtreehouse.com/git-for-designers-part-1\" target=\"_blank\">Treehouse – 写给设计师的 Git 入门介绍</a></li>\n<li><a href=\"http://rogerdudler.github.io/git-guide/\" target=\"_blank\">Roger Dudler – Git 简易教程</a></li>\n<li><a href=\"https://www.pluralsight.com/blog/software-development/github-tutorial\" target=\"_blank\">Pluralsight – Github：初学者指南</a></li>\n</ul>\n<p>然而，我发现这些教程总是跳过许多理论知识，直接解释如何通过命令行或 Github 桌面应用程序使用 Git 。坦白说，如果你只是想知道你的开发团队谈论的到底是什么，这些指导教程也绰绰有余了。如上所述，我的目标是对版本控制的整体概念进行简明扼要地讲解，同时希望能让你了解到版本控制是如此酷。</p>\n<h2>让我们从最基础的开始：版本控制</h2>\n<p><em><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj1wi8wj20d406mq3o.jpg\" width=\"472\" height=\"238\"></em></p>\n<p style=\"text-align: center;\"><em><span style=\"color: #808080;\">Image credit: weebletheringskite, WordPress</span></em></p>\n<p>版本控制（Version control）:学习它，爱上它，享受它。顾名思义，<strong>版本控制系统是任何能让你了解到一个文件的历史，以及它的发展过程的系统。</strong>之前作为平面设计师时，我常常会遇到这种文件：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1ffofj2t62hj20b406nwfj.jpg\" width=\"400\" height=\"239\"></p>\n<p>看起来眼熟？尽管上述系统不是一个好用的系统 ，但它确实是一个版本控制系统。更复杂点的例子就像，Google 文档的 “修订历史”或  Photoshop 的“历史”工具。</p>\n<h2> 开始 Git</h2>\n<p><strong>Git </strong><strong>是一种专为处理文本文件而设计的版本控制系统。</strong>因为，归根到底，这就是代码的本质：一堆堆以某种方式联合在一起的文本文件。Git 是一个可安装应用，它允许你对你自己所做的更改进行注释，用以创建易于导航的系统历史。</p>\n<p>（附： “Git”  也是工程师取的名字，我们对市场部同仁感到抱歉）</p>\n<p><strong>那么，</strong><strong> Git </strong><strong>做了什么，是简单地保存文件所做不到的呢？</strong>从根本上讲，文件保存就是一个简化的版本控制系统，但坦率地说，它并不是一个好用的系统，因为它只能前进。当然，你也许会争论“撤消”按钮可以让你的文件回滚到以前的状态。但我们都清楚，“撤消”按钮有其局限性，最明显示的是，在关闭文件时，文件的过去也随之丢失。</p>\n<p>另外，文件保存是非常个人化的。它不能够显示整个系统的历史，只能够显示该文件的。针对这一点，你可能会想，“嗯，我不是一个工程师，我不需要为系统烦恼”。我愿意花些时间来解释一下，很多事情你认为不是“系统”，而实际上它们就是。</p>\n<p><strong>以  Sally为例，她是一个正在写下一个大冒险奇幻小说系列的作家。</strong>Sally 已经写完该系列小说中的第一本，并把它传给了她的编辑。此外，由于她才华出众，在等待编辑的反馈的同时，她还写了第二本书的前三章。每本书都建立了独立的 World 文件。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj32av3j20ku0bqdgp.jpg\" width=\"690\" height=\"388\"></p>\n<p>在某个快乐的日子，Sally  等来了她的编辑关于第一本书的反馈。他担心年轻的读者不想读一系列专写兽人故事的书，希望她在这个故事中引入一些精灵。关于这点，Sally  叹了口气，但很快意识到，她的精灵新角色将带来始料未及的冲突和曲折的情节。然后，她做了以下事情：</p>\n<ul>\n<li>在第一本书中加入新角色，并修改故事情节。</li>\n<li>完成第一本书之后，对第二本书的故事情节，进行必要的修改。</li>\n<li>所有的这些修改，导致她需要引入某个地理位置到第一本书中，而不是第二本书。</li>\n<li>重新编辑第一本书，让它包含新的地理位置。</li>\n</ul>\n<p>终于，她推开了她的键盘，确信已经把精灵融入到了她的奇幻世界之中。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj3zzlvj20ku0ixabq.jpg\" width=\"690\" height=\"627\"></p>\n<p>你瞧，Sally 实际上在处理一个系统。她的两本书互相影响。角色、地理位置和故事情节在两本书中流动交织。然而，遗憾的是，一个月后，她的文件系统里什么都没有了。Word 的 “文档历史”工具，或她曾经粘贴在显示屏边缘用于记录修改过程的便签纸，将把所有的变化过程都揉合在一起。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj4dj6vj20ku0hidhf.jpg\" width=\"690\" height=\"580\"></p>\n<p>这正是Git 大放光芒之处。如果 Sally 一直结合 Git 使用Word，她就能对所有这些相关的变化做一个关于“将精灵引入到系列”的简洁小结。她可以看到所有穿插在页、章节、文件，以及每本书中的修改记录，让她真正地了解引入精灵对她的奇幻系列产生的影响。这个“简洁的小结”就是我们在 Git 领域中所讲的<strong>提交（</strong><strong>commit</strong><strong>）</strong>。</p>\n<p><strong>回顾一下</strong>。 Git 是一个软件，它允许你通过提交对一个系统（或一组）文件的历史进行注释。这些提交便是在给定时间点对系统做出的差异“快照”。</p>\n<p>那么，如果我是Sally，我的<strong>提交历史</strong>看起来是这样子的：</p>\n<h2><strong><a href=\"http://jbcdn2.b0.upaiyun.com/2016/12/f1727ddec3c0dada075793786d81decc.jpg\"><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1ffofj4vmyqj20ku0fzdhc.jpg\"></a><br>\nGithub</strong></h2>\n<p>到目前为止，一切都还不错。但是，<strong>如果 Sally 同时用到两台电脑工作，将会发生什么呢？</strong>问得好。这时，就该用到 Github了。注意，不要和 Git 混淆了。Github 获取 Git 中的提交历史，并将其存储在互联网上，因此你可以从任一一台电脑访问它。你在本机（例如：你当前正在使用的电脑）<strong>推送（</strong><strong>pushing</strong><strong>）</strong>提交到 Github，然后，从另一台新的或不同的电脑上<strong>拉取（</strong><strong>pulling</strong><strong>）</strong>这些提交。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1ffofj5of16j20ku0cd75j.jpg\"></p>\n<p>让我们假设上图为 Sally 的工作流程。她在家里的台式电脑（左边，橘黄色的）上开启她一天的工作。接下来，她完成了几个章节的写作，又做了一些编辑工作，等等。整个过程中，她对工作总共进行了三次策略性的“快照”（Git 提交）。</p>\n<p>下午，Sally 常常喜欢带着她的笔记本电脑（上图中的右侧，蓝色的）去咖啡馆写作。今天也不例外。因此，在关闭家里的台式电脑之前，她需要确认当前的Git 提交历史已<strong>推送（</strong><strong>push</strong><strong>）</strong>到了在线Github。一旦被上传到 Github，这些提交记录就被存储在<strong>远程仓库（</strong><strong>remote repository</strong><strong>）</strong>中。</p>\n<p>我们先来分析一下几个计算机术语：<strong>远程（</strong><strong>remote）</strong>仅仅意味着联网（与“本地”的意思相反，和之前我们理解到的意思一样的，代表当前正在使用的电脑）。而<strong>仓库（</strong><strong>repository，经常简写为“repo”</strong>），就是一个具备 Git 超级权限的文件夹。</p>\n<p>因此，<strong>Github 就是让你把工作（通过Git提交进行注解）存储在了一个指定的在线文件夹（repo）</strong>。明白了吧？简单。</p>\n<p>午餐之后，在当地的一家咖啡馆中，Sally 拿出了她的笔记本电脑。很明显，她想接着家里的工作进度继续。因些，她从 Github 仓库上获取到最新进度的工作。“从 Github 上获取她的工作”，这一过程就叫<strong>拉取（</strong><strong>pulling</strong><strong>）</strong>。再看一下上面这幅图片，你将看到 Sally 拉取了之前她在家时进行的三个提交。</p>\n<p>现在，在她的笔记本电脑上，Sally 有整个系统（包含她的幻想系列的所有文本文件）的最新的完整副本，并能够基于上次的进度，继续工作。她写了更多的章节，对工作进行了两次以上的策略“快照”（提交）。最后，Sally 把这些提交<strong>推送</strong>（<strong>push</strong>）到 Github 上，结束了这一天的工作。这样第二天上午的时候，在家里的台式电脑上就可以取得这些最新进度的工作。</p>\n<h2>协同工作</h2>\n<p>好吧，这一切都能说得通。但是， Sally再如何酷，整个项目也只有她一人而已。<strong>工程团队要如何确保他们的工作不会重叠？</strong></p>\n<p>简而言之，创建分支。将你的 Git 提交历史想像成一棵树。树的主干就是我们谈到的主分支。为了让团队成员避免彼此牵扯，他们在独立于他人的隔离区（在一个功能分支）进行工作，然而最终，每个人的工作成果都会被提交到主代码库 （主分支）。</p>\n<p>现在，回到 Sally 的例子。她加入了奇幻作家协会，在这里每个人都与他人合作完成这本书——《奇幻系列生物辞典》。这本辞典更像一本教材，由多个作者共同完成：Sally、Tom 和 Adam。</p>\n<p>让我们来看看《奇幻系列生物辞典》项目的在线 Github 仓库，现在的情况是：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj5zx9vj20ku0hdq53.jpg\"></p>\n<p>如上图所示，树的类比完全适用于奇幻作家协会在这个项目上的合作情况，仓库历史沿主分支向上移动。常规工作流始于每个作者为完成一个工作任务（例如编写章节内容，或排版章节）而在主分支上创建分支。只有当更改得到其他合作作家的批准时，分支才会被合并到主分支上（请谨记，主分支上的内容，才是最终要发布的内容）。</p>\n<p>当一个分支的内容<strong>合并（</strong><strong>merged</strong><strong>）</strong>到主分支时，意味着该分支的内容会覆盖主分支上的。因此，现有内容的任何更改都将会替代之前的。当然，任何新添加的内容也会添加到主分支。实际上，当分支合并到主分支时，该分支的提交历史被添加到主分支提交历史的顶部。</p>\n<p>然而，你可能正在思考：<strong>人们在本机的工作和之后才推送到 Github 的工作变更是如何连接到一起的呢？</strong></p>\n<p>关于这个问题，重点在于：你在 Github 的远程仓库是你本机工作项目的一个镜像。这意味着，你在自己的电脑里存储了该项目（例如：一个已设置可进行 Git 提交的文件夹）的本地 Git 仓库。在这个本地的 Git 仓库（再次，这是一个特定术语，指你的电脑里某个启用了 Git 功能的文件夹）中，你拥有与该项目相关的所有文件，在本文的例子中，即《奇幻系列生物辞典》。</p>\n<p>它的工作原理很像 Dropbox ：你在不同的设备（你的家庭电脑、办公室电脑，等等）上创建本地文件夹，进行工作并更新这些文件。最后，这些操作被同步到网络上。然而，我们知道，Git/Github 工作流还包含了一些额外的步骤。首先，你必须有意识地对某一时刻的工作执行“快照”（即执行一次提交）。然后，你必须特意地推送这些提交（push） 到 Github。只有这样，你的工作才被同步到网络上的位置（Github 版本库）。</p>\n<p>既然如此，为什么不自动化该工作流呢？为什么不让它像 Dropbox一样，当你更新本地文件时，同时自动更新 Github 上的文件？有很多理由让我们不这么做。最主要的理由是——bugs 。同出版界一样，软件工程中也不是所有写过的东西都要保留。有时，你希望实验一下你的想法，如果实验失败，你希望有一种简单的方式能让工作快速回滚到之前的正确状态上。这也是为什么我们提倡这个经验法则，即在你试图用不同的方法编辑或实验之前，先对当前你希望保留的修改进行提交。频繁地提交小块工作有益无害，事实上，许多工程师为自己能做到这一点而感到自豪。</p>\n<p>现在，回到《奇幻系列生物辞典》。由于  Sally 对兽族有较深的了解，她被挑选为写兽族章节。但她不想在没有经过其它合作人员允许的情况下去修改这本书，于是，她创建了一个本地分支，并在该分支上进行写作和提交。然后，<strong>她将本地分支推送到 Github</strong>。像往常一样，Github 的远程仓库是本地库的一个镜像，最新进展显示 Sally 已创建了一个包含部分提交的分支（如下图所示）。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj6qbgpj20ku0h6405.jpg\"></p>\n<p>随着她对本章节的持续写作，Sally 进行了更多的提交，并将它们推送到 Github 的在线镜像分支。终于，她准备请 Tom 和 Adam 一起对她的工作进行评审。因此，她在 Github 上发布了一个 <strong>Pull Request（发布请求）</strong>，这是一个 Github 功能，允许她解释该分支相对于主分支做了哪些修改。Github 还提供了一个简易平台，合作人员可以在该平台上针对分支的修改内容进行讨论，并要求 Sally 在分支合并到主分支之前对一些有异议的内容进行修改。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffofj7m86oj20ku0fndhe.jpg\"></p>\n<p>在对部分内容请求修改后，如上图所示，Tom 和 Adam 对 Sally 的分支内容很满意，并决定将她的工作成果合并到 Github 的主分支上。此时，他们所要做的就是将 Sally 之前独立提交的内容，添加到主分支的提交历史顶部：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1ffofj7ymv4j20b40eutbq.jpg\"></p>\n<p>此时，Sally可以切换（或<strong>“check out”</strong>）到本地计算机上的主分支，并将先前在功能分支（兽人章节分支）中的独立提交拉取下来。现在她又要在新的主分支上重新开始了：以该主分支为基础为她的下一步工作创建一个新的本地分支，帮助汤姆编辑有关妖精的章节。因此，这一过程又将重复:</p>\n<ol>\n<li>创建本地分支</li>\n<li>在本地分支上编辑修改，然后提交</li>\n<li>推送提交（Push）到 Github</li>\n<li> 创建发布请求（Pull Request），说明该分支包含了哪些更改</li>\n<li>合并（Merge）分支内容到主分支</li>\n<li>将主分支上的最新提交拉取（pull）到本地</li>\n<li>重复上述步骤</li>\n</ol>\n<p>正如你所看到的，这是一个非常流畅的工作流，完美地结合了独立工作与团队协作。你本机的 Git 提供了一个绝妙的方法，即通过由你自己控制和策划的丰富的历史提交，来创建你工作的各种版本。Github 是一个非常棒的在线版本控制工具，不仅存储和提供了清晰的可视化历史记录，而且还能进行协同工作和质量控制。</p>\n<p>总而言之，我希望我已经说服你去<strong>尝试使用 Git  和 Github 进行任何项目</strong>。没有理由只有工程师能从这个很棒的工具中受益。毕竟，我们也想看到更多有关兽人的故事。</p>\n<h2></h2>\n<h3>致谢：</h3>\n<p>非常感谢 <a href=\"https://www.youtube.com/channel/UCs-SOeljpyBAvS6fYAR2egw\">Common Craft</a> 对本文的涂鸦和解释风格的启发。还要感谢这个视频《 <a href=\"https://www.youtube.com/watch?v=ddO9idmax0o\">saving me from the horror of having to explain Twitter to my mum</a> 》。</p>\n<h3>本文涉及的术语</h3>\n<ul>\n<li><strong>Version Control（版本控制）:</strong> 任何一个能够让你了解文件的历史，以及该文件的发展进程的系统。</li>\n<li><strong>Git</strong><strong>：</strong>一个版本控制程序，通过对变更进行注释，以创建一个易于遍历的系统历史。</li>\n<li><strong>Commit（提交）</strong><strong>：</strong>在指定时间点对系统差异进行的注释 “快照”。</li>\n<li><strong>Local（本地）</strong><strong>：</strong>指任意时刻工作时正在使用的电脑。</li>\n<li><strong>Remote（远程）</strong><strong>：</strong> 指某个联网的位置。</li>\n<li><strong>Repository (仓库，简称 repo)</strong><strong>：</strong>配置了Git超级权限的特定文件夹，包含了你的项目或系统相关的所有文件。</li>\n<li><strong>Github</strong><strong>：</strong>获取本地提交历史记录，并进行远程存储，以便你可以从任何计算机访问这些记录。</li>\n<li><strong>Pushing（推送）</strong><strong>：</strong>取得本地Git提交（以及相关的所有工作），然后将其上传到在线Github。</li>\n<li><strong>Pulling（拉取）</strong><strong>：</strong>从在线的Github上获取最新的提交记录，然后合并到本地电脑上。</li>\n<li><strong>Master (branch)</strong><strong>：主分支，</strong>提交历史 “树”的 “树干”，包含所有已审核的内容/代码。</li>\n<li><strong>Feature branch（功能分支/特性分支）：</strong>一个基于主分支的独立的位置，在再次并入到主分支之前，你可以在这里安全地写工作中的新任务。</li>\n<li><strong>Pull Request（发布请求）</strong><strong>：</strong>一个 Github 工具，允许用户轻松地查看某功能分支的更改 （the difference或 “diff”），同时允许用户在该分支合并到主分支之前对其进行讨论和调整。</li>\n<li><strong>Merging（合并）</strong><strong>：</strong>该操作<strong>指</strong>获取功能分支的提交，加入到主分支提交历史的顶部。</li>\n<li><strong>Checking out（切换）</strong><strong>：</strong>该操作指从一个分支切换到另一个分支。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111187\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111187votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111187\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 21 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">听风</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/9538B04AD8C6883F49C38BC8ECDDAF3C/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q4000052677\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q4000052677/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 16</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 3, "title": "大白话解释 Git 和 GitHub", "tags": "IT技术,Git,Github", "url_obj_id": "465760c151650c2c990cfa9661af173e", "create_date": "2017/05/18", "url": "http://blog.jobbole.com/111187/", "bookmark_num": 21, "front_image_path": "full/099774d99d1417d2fd9047e2e802db4ced3179c5.jpg", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj32av3j20ku0bqdgp.jpg"]}
{"comment_num": 5, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/ityouknow\">纯洁的微笑</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffrw8w1u4tj20hi0a0749.jpg\"></p>\n<p>我相信大家都可能听到过这样一个故事，一名记者看见农村的一个正在放羊的小孩：</p>\n<blockquote><p>问他“你的理想是什么？”<br>\n小孩回答说：“放羊！”<br>\n“羊儿喂大了干什么？”<br>\n“卖钱！”<br>\n“有了卖羊儿的钱干什么？”<br>\n“娶老婆！”<br>\n“娶老婆干什么？”<br>\n“生小孩！”<br>\n“生小孩来干什么？”<br>\n“放羊！”<br>\n……</p></blockquote>\n<p>这段流传甚广的段子，但是我们想想这个故事背后的原因是什么。放羊的小孩对世界的理解也就是：放羊挣钱娶老婆生小孩再放羊。对外面世界的了解可能趋向于了零，在他的世界里，这就是美好的一切，幸福的生活。对世界认识的局限性会导致思维的局限性，思维的局限性会导致目标的局限性，目标的局限性最终导致行为的局限性，从而影响你人生中的各种选择。</p>\n<h2 id=\"关于贫穷\">关于贫穷</h2>\n<p><strong>故事一</strong></p>\n<p>我在知乎看到的这个故事<a href=\"https://www.zhihu.com/question/56322619/answer/156776118\">你在哪一刻体验到了真正的贫富差距？</a>,故事情节大概是这个样子的。</p>\n<blockquote><p>13年的夏天，作者偶然遇到了一个小伙子，一副农民工的打扮，问去从这里到xx城市应该怎么走？作者有点诧异，因为这里距离XX城市要有100百多公里，给他指了指方向，告诉他往西大约一百多公里。小伙子点点头说了声谢谢大哥就往前走了，以为会是个乞讨者或者流浪汉，讨点钱或要点吃的。可他只是问问路，而且看上去是要徒步过去的意思。小伙子走出去几十米，在人行道边坐下，拿出一瓶水喝了几口，然后低着头摆弄着地下的什么玩意，像是在休息。</p>\n<p>好奇心驱使作者去了解情况，才知道他是要去xx市找自己的老乡，老乡在xx市的一个厂里面工作，工资比现在的高一些，老乡给他拖了一个口信，他现在工作的地方老板不给他发工资并且扣了他的身份证。于是他就准备徒步两百多公里去投靠老乡。小伙子没受过教育，家在云南山区，没有电话，打工是为了补贴家用，同村出来的几个人如今都分散了，没有朋友，没有依靠。小伙子在讲这些的时候，在他的眼睛里没看到赶去见同乡的盼望，没看到被工头欺负后的愤怒，在他看来好像一切都很正常，像是在叙述别人的故事，低垂的眼里空洞无意，就像个老人在等待明天。</p></blockquote>\n<p><strong>故事二</strong></p>\n<p>有次看中央电视台的一个节目，是采访居住在交通闭塞的大山里村民的生活。有一个画面我记忆特别深刻，中央电视台采访一个小伙子，记者问他：你为什么不出去打工来挣钱呢，那个小伙子说了一句，我听不懂你说啥。这句话深深的震撼了我，那个小伙子和我应该是同龄吧，大概也是三十岁左右，几十年没有走出去过小山村，竟然都听不懂普通话，更不敢出去看看外面的世界。那一刻我感觉这个世界在他的眼里充满了迷茫。</p>\n<p>后来村长说，这个村子常年不通公路，村里面的人要出去需要先坐牛车，再坐拖拉机两天后才能到达小县城，村里面就一个小学，一个教室里面坐了六个年级的学生，很多孩子上到一半就回家干活了。这两年有一些年轻人走出了村子去深圳、东莞打工，慢慢的也带动了一些人，但还是有一些年轻人因为不会说普通话，不能直接和人交流，就一直都没有出去，在村里面种地生活。这是21世纪呀，非常有可能他们一辈子就走不去了。</p>\n<p> </p>\n<p>贫穷在这个年代仍然是存在的，只是可能你不了解。但贫穷其实不是最可怕的，最可怕的是贫穷的人不知道贫穷的可怕，不了解外面的世界，所以对他们来讲没有走出去的动力和勇气，只有让他们了解外面的世界，认识外面的世界，从思想上有了改变的动力和目标，才能真正的走出贫穷。</p>\n<p>教育有时候就是开智，明事理 ，认识世界，可以有一个和外界交流的窗口。到现在为止，高考仍然是很多人走出老家，跨越阶级的最公平，最重要的一条道路，虽然它仍然有很多的弊端。</p>\n<h2 id=\"思维误区\">思维误区</h2>\n<p>我上初中的时候，大家都羡慕不上学去外面世界闯荡的人们。去南方打工、当兵、学一门技术的都觉得挺时髦，可以不用上无用的学，勇敢的走出小县城，自己赚钱自己花，再也没有了上学的约束。我初中的五个好兄弟，两个当了兵，一个去学了理发，一个去学了厨师，只有我一个考上高中，继续求学，每年他们回来都会聊聊他们在外面的故事，一番啤酒下肚之后，我是既羡慕又被吸引，对外面的世界充满了憧憬，多年以后我才知道他们在外面受了多少的苦，但是回老家了，必须要搞的在外面很精彩。</p>\n<p>其实上过大学的就比没有上过大学的能力好很多吗？有可能只是在开始的时候选择对了而已。我们都处在一个大的洪流之中，不是说选择了不读书以后就混不好，选择了读书就肯定会有不错的生活。但是整体的机遇来讲，读过大学的比没有读过大学的会更多一点，没有读过大学的人大多从事了体力劳动或者技能类的一些工作，读过大学不管怎么样，大都是白领类的工作。</p>\n<p>我们这里不讨论极个别厉害人的情况，研究一下为什么会出现这种情况。上大学让你在那些方面有了提升，很多人大学四年几乎没有好好学习过，玩了四年照样出来找了不错的工作，所以说大学对人能力的提升不一定会比没有上学的强，在外面对能力的提升反而是更快。我个人认为最本质的是认知的提升会不一样，那怕你的四年什么都没有做，但是你至少看到很多人做的事情，别人做事情的经验也会成为你的的经验，毕业后大家都去找了工作，你肯定也会跟着找了工作，大不了差了一点。都是在认知上，对世界的认识上有了很大的不同，才最终影响了你未来的选择和目标。</p>\n<p>说到这里想起了波仔的那条理论，你的生活水平就是你身边最亲近的五个人的平均值。我就不信你和奥巴马是哥们，还和我一起在敲代码。其实仔细观察你身边的高管，高层，起步就没在一个层级里面。</p>\n<p>程序员呢，其实也是一样。大家有没有一种感觉，刚毕业一年左右的时候是最自信的，觉得自己已经掌握了程序开发的基本规律，应付工作没有问题，简历上写的各种精通，精通前端，精通数据库，精通core java等等。反而工作多年以后越发觉得，研究不够深入涉猎不够广泛，很多的新老技术还都停留在使用阶段。为了解释这个问题我画了两个图。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffrvhabgsbj20ci0c53yi.jpg\"></p>\n<p> </p>\n<p>把整个的IT知识领域用一个圆圈来表示，黑色实体部分就是我们刚开始认知的区域，因为我们刚开始知道的少，了解的少，里面的圆的周长就会小很多，我们感觉到自己需要了解的东西也相对小。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffrvhfb6a8j20cj0btjrf.jpg\"></p>\n<p> </p>\n<p>当我们通过不断的学习、扩宽自己知识的边界，就像里面的小圆不断的长大一些，我们感受到的未知也越来越多，认识到自己了解的内容占整个体系只是很小的一部分。</p>\n<p>很多人，不是不想学习，是不知道如何去学习，很多时候遇到问题，不知道外界有很多解决方案。另外，不进步不学习不可怕，最可怕的是，比我们厉害的人比我们更努力。</p>\n<h2 id=\"如何打破\">如何打破</h2>\n<p>1、要跳出你的圈子，我从西安到北京，IT行业工作氛围，技术特征完全没有在一个水平线上。要时常的跳出自己的圈子，站到外面去看原来的自己。</p>\n<p>2、读书，不断的读书，不断的读好书，其实读书是了解作者怎么看这个世界，读好书更是了解很多大师人物对世界的理解。通过读书打开自己对世界认识的另一扇窗，技术人除了看技术书籍，更应该看一些其它领域的书，来扩宽自己的视野。</p>\n<p>3、对于技术，多逛逛技术性网站，了解一下最新的前沿知识，比如vue活跃的时候，博客园就出了很多关于vue的教程，微服务火的时候，博客园首页经常有关于微服务的文章，时常关注让你了解有这么个东西，在解决问题的时候或者定方案的时候知道会有这么一个选项。</p>\n<p>4、多走出自己的视角，做为程序员总是以程序的思维去思考问题。比如遇到了问题，这个问题对产品、客户意味着什么，领导是如何考虑的，当领导让你干某件事的时候他关心的什么。刚好我这里有一个职场真实的小故事，分享给大家。</p>\n<blockquote><p>某一线互联网电商平台，空降了一名技术高管，要求紧急上线一个项目，必须三个月上线，安排下去，技术总监认真的分析了需求和现有公司的资源，告知这个项目最少需要四个月加班才能完成，高管说实在没有办法吗，总监说，已经是极限了。高管直接就把这位总监给开了，然后问下一个总监周期需要多久，这位总监考虑了一下说：2个月，高管说，项目你来负责，最后这个项目整整做了六个月，但是大家也都相安无事。</p></blockquote>\n<p>5、培养一个行业之外的爱好，最好是运动类的，只有身体好了，精神才更好，才能体会挥汗之后的畅快之感。具体的，比如坚持每周去户外，在北京的话像绿野这种就可以，参加几次就可以融入组织。程序员的话，建议打羽毛球，感觉这类运动对程序员是最有益处，避免各种颈椎病，游泳也是很好的一个选择。经常保持运动的人，整个人的精神状态是不一样的，我们大多数办公室工作者都处于亚健康状态，锻炼真的很重要。</p>\n<p>6、github对程序员来讲真是一个宝库，提交分享代码都是最基础的，建博客、建网站、建工具github都可以免费让你搞定，可以作为你创意或者实践的一个绝佳场所，也可以好好看看其他牛人的杰作，也有很多github第三方的网站可以帮你找到优秀的开源项目。</p>\n<h2 id=\"最后\">最后</h2>\n<p>很多时候的改变，不是我们不想改变，不愿意改变，是不知道如何改变，不知道什么才是好的选择，或者在深刻一点，很多人到现在都不知道什么是好的什么是坏的。</p>\n<p>所以说很多时候的改变，最先是思维的改变，思维的改变转换成行动，然后达到真正的改变。</p>\n<p>我们是不是这个版本：</p>\n<blockquote><p>“你做程序员干什么？”<br>\n“找个体面又高薪的工作。”<br>\n“找到理想的工作后呢？”<br>\n“再寻觅一个温柔漂亮的好老婆。”<br>\n“找到好老婆后呢？”<br>\n“生一个聪明智慧的孩子！”<br>\n“生了孩子后呢？”<br>\n“从小就好好教育孩子努力学习，考个好大学，最好再做一名程序员！”</p>\n<p>……</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/bdbb2fd2100937012521bcca7666214a.png\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/4d73722317836066abc1944476af6821.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110949\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110949votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110949\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow\">纯洁的微笑</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/7a2dae804fcc41edb889ce67f7973c58.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我的微信公众号：纯洁的微笑（KeepPureSmile），欢迎大家关注。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/ityouknow\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/ityouknow/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 33</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.ityouknow.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/ityouknow\"><i class=\"fa fa-weibo\"></i></a> <a title=\"QQ：863865929\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/ityouknow\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "思维的局限", "tags": "职场,思维", "url_obj_id": "eeb2200670f9743832fe29b6e1fd63bb", "create_date": "2017/05/20", "url": "http://blog.jobbole.com/110949/", "bookmark_num": 7, "front_image_path": "full/759a999114df6e2094bdf5dee3fe62dc9f855fc7.jpg", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffrw8w1u4tj20hi0a0749.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://highscalability.com/blog/2017/5/3/homegrown-master-master-replication-for-a-nosql-database.html\">Dennis Anikin</a>   译文出处：<a target=\"_blank\" href=\"http://www.iteye.com/news/32435\">ITeye/贺雨言</a>   </div><p><a href=\"https://tarantool.org/\" target=\"_blank\">Tarantool</a> DBMS 的高性能应该很多人都听说过，包括其丰富的工具套件和某些特定功能。比如，它拥有一个非常强大的 on-disk 存储引擎 Vinyl，并且知道怎样处理 JSON 文档。然而，大部分文章往往忽略了一个关键点：通常 Tarantool 仅仅被视为存储器，而实际上其最大特点是能够在存储器内部写代码，从而高效处理数据。如果你想知道我和igorcoding是怎样在Tarantool内部建立一个系统的，请继续往下看。</p>\n<p>如果你用过Mail.Ru电子邮件服务，你应该知道它可以从其他账号收集邮件。如果支持OAuth协议，那么在收集其他账号的邮件时，我们就不需要让用户提供第三方服务凭证了，而是用OAuth令牌来代替。此外，Mail.Ru Group有很多项目要求通过第三方服务授权，并且需要用户的OAuth令牌才能处理某些应用。因此，我们决定建立一个存储和更新令牌的服务。</p>\n<p>我猜大家都知道OAuth令牌是什么样的，闭上眼睛回忆一下，OAuth结构由以下3-4个字段组成：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59268826cfea9938303788\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n{\r\n    “token_type” : “bearer”,\r\n    “access_token” : “XXXXXX”,\r\n    “refresh_token” : “YYYYYY”,\r\n    “expires_in” : 3600\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59268826cfea9938303788-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfea9938303788-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfea9938303788-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfea9938303788-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfea9938303788-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfea9938303788-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59268826cfea9938303788-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfea9938303788-2\"><span class=\"crayon-h\">    </span>“<span class=\"crayon-v\">token</span><span class=\"crayon-sy\">_</span>type”<span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-i\">bearer</span>”<span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfea9938303788-3\"><span class=\"crayon-h\">    </span>“<span class=\"crayon-v\">access</span><span class=\"crayon-sy\">_</span>token”<span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-i\">XXXXXX</span>”<span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfea9938303788-4\"><span class=\"crayon-h\">    </span>“<span class=\"crayon-v\">refresh</span><span class=\"crayon-sy\">_</span>token”<span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-i\">YYYYYY</span>”<span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfea9938303788-5\"><span class=\"crayon-h\">    </span>“<span class=\"crayon-v\">expires</span><span class=\"crayon-sy\">_</span>in”<span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3600</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfea9938303788-6\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p> </p>\n<ul>\n<li>访问令牌（access_token）——允许你执行动作、获取用户数据、下载用户的好友列表等等；</li>\n<li>更新令牌（refresh_token）——让你重新获取新的access_token，不限次数；</li>\n<li>过期时间（expires_in）——令牌到期时间戳或任何其他预定义时间,如果你的access_token到期了，你就不能继续访问所需的资源。</li>\n</ul>\n<p>现在我们看一下服务的简单框架。设想有一些前端可以在我们的服务上写入和读出令牌，还有一个独立的更新器，一旦令牌到期，就可以通过更新器从OAuth服务提供商获取新的访问令牌。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/8de52e4feca00a7237e54637f8643e15.png\"></p>\n<p>如上图所示，数据库的结构也十分简单，由两个数据库节点（主和从）组成，为了说明两个数据库节点分别位于两个数据中心，二者之间由一条垂直的虚线隔开，其中一个数据中心包含主数据库节点及其前端和更新器，另一个数据中心包含从数据库节点及其前端，以及访问主数据库节点的更新器。</p>\n<h3>面临的困难</h3>\n<p>我们面临的主要问题在于令牌的使用期（一个小时）。详细了解这个项目之后，也许有人会问“在一小时内更新1000万条记录，这真的是高负载服务吗？如果我们用一个数除一下，结果大约是3000rps”。然而，如果因为数据库维护或故障，甚至服务器故障（一切皆有可能）导致一部分记录没有得到更新，那事情将会变得比较麻烦。比如，如果我们的服务（主数据库）因为某些原因持续中断15分钟，就会导致25%的服务中断（四分之一的令牌变成无效，不能再继续使用）；如果服务中断30分钟，将会有一半的数据不能得到更新；如果中断1小时，那么所有的令牌都将失效。假设数据库瘫痪一个小时，我们重启系统，然后整个1000万条令牌都需要进行快速更新。这算不算高负载服务呢？</p>\n<p>一开始一切都还进展地比较顺利，但是两年后，我们进行了逻辑扩展，增加了几个指标，并且开始执行一些辅助逻辑…….总之，Tarantool耗尽了CPU资源。尽管所有资源都是递耗资源，但这样的结果确实让我们大吃一惊。</p>\n<p>幸运的是，系统管理员帮我们安装了当时库存中内存最大的CPU，解决了我们随后6个月的CPU需求。但这只是权宜之计，我们必须想出一个解决办法。当时，我们学习了一个新版的Tarantool（我们的系统是用Tarantool 1.5写的，这个版本除了在Mail.Ru Group，其他地方基本没用过）。Tarantool 1.6大力提倡主主备份，于是我们想：为什么不在连接主主备份的三个数据中心分别建立一个数据库备份呢？这听起来是个不错的计划。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/cc471d6d9be23e6208d85a378109a9e9.png\"></p>\n<p>三个主机、三个数据中心和三个更新器，都分别连接自己的主数据库。即使一个或者两个主机瘫痪了，系统仍然照常运行，对吧？那么这个方案的缺点是什么呢？缺点就是，我们将一个OAuth服务提供商的请求数量有效地增加到了三倍，也就是说，有多少个副本，我们就要更新几乎相同数量的令牌，这样不行。最直接的解决办法就是，想办法让各个节点自己决定谁是leader，那样就只需要更新存储在leader上的节点了。</p>\n<h3>选择leader节点</h3>\n<p>选择leader节点的算法有很多，其中有一个算法叫Paxos，相当复杂，不知道怎样简化，于是我们决定用Raft代替。Raft是一个非常通俗易懂的算法，谁能通信就选谁做leader，一旦通信连接失败或者其他因素，就重新选leader。具体实施办法如下：<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9227cca016fb31c2337a2d5fe74af2e8.png\"></p>\n<p>Tarantool外部既没有Raft也没有Paxos，但是我们可以使用net.box内置模式，让所有节点连接成一个网状网（即每一个节点连接剩下所有节点），然后直接在这些连接上用Raft算法选出leader节点。最后，所有节点要么成为leader节点，要么成为follower节点，或者二者都不是。</p>\n<p>如果你觉得Raft算法实施起来有困难，下面的Lua代码可以帮到你：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59268826cfeb6219972606\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nlocal r = self.pool.call(self.FUNC.request_vote,\r\n                     self.term, self.uuid)\r\nself._vote_count = self:count_votes(r)\r\n\r\nif self._vote_count &gt; self._nodes_count / 2 then\r\n    log.info(“[raft-srv] node %d won elections”, self.id)\r\n    self:_set_state(self.S.LEADER)\r\n    self:_set_leader({ id=self.id, uuid=self.uuid })\r\n    self._vote_count = 0\r\n    self:stop_election_timer()\r\n    self:start_heartbeater()\r\nelse\r\n    log.info(“[raft-srv] node %d lost elections”, self.id)\r\n    self:_set_state(self.S.IDLE)\r\n    self:_set_leader(msgpack.NULL)\r\n    self._vote_count = 0\r\n    self:start_election_timer()\r\nend</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfeb6219972606-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfeb6219972606-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-1\"><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pool</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">call</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">FUNC</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">request_vote</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-2\"><span class=\"crayon-h\">                     </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">term</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">uuid</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-3\"><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_vote_count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">count_votes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-4\"> </div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-5\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_vote_count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_nodes_count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">info</span><span class=\"crayon-sy\">(</span>“<span class=\"crayon-sy\">[</span><span class=\"crayon-v\">raft</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">srv</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">node</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">won </span><span class=\"crayon-i\">elections</span>”<span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">_set_state</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">S</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LEADER</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">_set_leader</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">uuid</span><span class=\"crayon-o\">=</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">uuid</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_vote_count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">stop_election_timer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">start_heartbeater</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-12\"><span class=\"crayon-st\">else</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">info</span><span class=\"crayon-sy\">(</span>“<span class=\"crayon-sy\">[</span><span class=\"crayon-v\">raft</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">srv</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">node</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lost </span><span class=\"crayon-i\">elections</span>”<span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">_set_state</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">S</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IDLE</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">_set_leader</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">msgpack</span><span class=\"crayon-sy\">.</span><span class=\"crayon-t\">NULL</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_vote_count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-59268826cfeb6219972606-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">start_election_timer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfeb6219972606-18\"><span class=\"crayon-st\">end</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0042 seconds] -->\r\n<p>现在我们给远程服务器发送请求（其他Tarantool副本）并计算来自每一个节点的票数，如果我们有一个quorum，我们就选定了一个leader，然后发送heartbeats，告诉其他节点我们还活着。如果我们在选举中失败了，我们可以发起另一场选举，一段时间之后，我们又可以投票或被选为leader。</p>\n<p>只要我们有一个quorum，选中一个leader，我们就可以将更新器指派给所有节点，但是只准它们为leader服务。</p>\n<p>这样我们就规范了流量，由于任务是由单一的节点派出，因此每一个更新器获得大约三分之一的任务，有了这样的设置，我们可以失去任何一台主机，因为如果某台主机出故障了，我们可以发起另一个选举，更新器也可以切换到另一个节点。然而，和其他分布式系统一样，有好几个问题与quorum有关。</p>\n<h3>“废弃”节点</h3>\n<p>如果各个数据中心之间失去联系了，那么我们需要有一些适当的机制去维持整个系统正常运转，还需要有一套机制能恢复系统的完整性。Raft成功地做到了这两点：<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/97de50e237f5a064e28da960336470e4.png\"></p>\n<p>假设Dataline数据中心掉线了，那么该位置的节点就变成了“废弃”节点，也就是说该节点就看不到其他节点了，集群中的其他节点可以看到这个节点丢失了，于是引发了另一个选举，然后新的集群节点（即上级节点）被选为leader，整个系统仍然保持运转，因为各个节点之间仍然保持一致性（大半部分节点仍然互相可见）。</p>\n<p>那么问题来了，与丢失的数据中心有关的更新器怎么样了呢？Raft说明书没有给这样的节点一个单独的名字，通常，没有quorum的节点和不能与leader联系的节点会被闲置下来。然而，它可以自己建立网络连接然后更新令牌，一般来说，令牌都是在连接模式时更新，但是，也许用一个连接“废弃”节点的更新器也可以更新令牌。一开始我们并不确定这样做有意义，这样不会导致冗余更新吗？</p>\n<p>这个问题我们需要在实施系统的过程中搞清楚。我们的第一个想法是不更新：我们有一致性、有quorum，丢失任何一个成员，我们都不应该更新。但是后来我们有了另一个想法，我们看一下Tarantool中的主主备份，假设有两个主节点和一个变量（key）X=1，我们同时在每一个节点上给这个变量赋一个新值，一个赋值为2，另一个赋值为3，然后，两个节点互相交换备份日志（就是X变量的值）。在一致性上，这样实施主主备份是很糟糕的（无意冒犯Tarantool开发者）。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/05b25c33db00dc6774bfff54d7760ecf.png\"></p>\n<p>如果我们需要严格的一致性，这样是行不通的。然而，回忆一下我们的OAuth令牌是由以下两个重要因素组成：</p>\n<ul>\n<li>更新令牌，本质上永久有效；</li>\n<li>访问令牌，有效期为一个小时；</li>\n</ul>\n<p>我们的更新器有一个refresh函数，可以从一个更新令牌获取任意数量的访问令牌，一旦发布，它们都将保持一个小时内有效。</p>\n<p>我们考虑一下以下场景：两个follower节点正在和一个leader节点交互，它们更新自己的令牌，接收第一个访问令牌，这个访问令牌被复制，于是现在每一个节点都有这个访问令牌，然后，连接中断了，所以，其中一个follower节点变成了“废弃”节点，它没有quorum，既看不到leader也看不到其他follower，然而，我们允许我们的更新器去更新位于“废弃”节点上的令牌，如果“废弃”节点没有连接网络，那么整个方案都将停止运行。尽管如此，如果发生简单的网络拆分，更新器还是可以维持正常运行。</p>\n<p>一旦网络拆分结束，“废弃”节点重新加入集群，就会引发另一场选举或者数据交换。注意，第二和第三个令牌一样，也是“好的”。</p>\n<p>原始的集群成员恢复之后，下一次更新将只在一个节点上发生，然后备份。换句话来说，当集群拆分之后，被拆分的各个部分各自独立更新，但是一旦重新整合，数据一致性也因此恢复。通常，需要N/2+1个活动节点（对于一个3节点集群，就是需要2个活动节点）去保持集群正常运转。尽管如此，对我们而言，即使只有1个活动节点也足够了，它会发送尽可能多的外部请求。</p>\n<p>重申一下，我们已经讨论了请求数量逐渐增加的情况，在网络拆分或节点中断时期，我们能够提供一个单一的活动节点，我们会像平时一样更新这个节点，如果出现绝对拆分（即当一个集群被分成最大数量的节点，每一个节点有一个网络连接），如上所述，OAuth服务提供商的请求数量将提升至三倍。但是，由于这个事件发生的时间相对短暂，所以情况不是太糟，我们可不希望一直工作在拆分模式。通常情况下，系统处于有quorum和网络连接，并且所有节点都启动运行的状态。</p>\n<h3>分片</h3>\n<p>还有一个问题没有解决：我们已经达到了CPU上限，最直接的解决办法就是分片。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/83fb7821212be0306ef05d0356e6b96f.png\"></p>\n<p>假设我们有两个数据库分片，每一个都有备份，有一个这样的函数，给定一些key值，就可以计算出哪一个分片上有所需要的数据。如果我们通过电子邮件分片，一部分地址存储在一个分片上，另一部分地址存储在另一个分片上，我们很清楚我们的数据在哪里。</p>\n<p>有两种方法可以分片。一种是客户端分片，我们选择一个返回分片数量的连续的分片函数，比如CRC32、Guava或Sumbur，这个函数在所有客户端的实现方式都一样。这种方法的一个明显优势在于数据库对分片一无所知，你的数据库正常运转，然后分片就发生了。</p>\n<p>然而，这种方法也存在一个很严重的缺陷。一开始，客户端非常繁忙。如果你想要一个新的分片，你需要把分片逻辑加进客户端，这里的最大的问题是，可能一些客户端在使用这种模式，而另一些客户端却在使用另一种完全不同的模式，而数据库本身却不知道有两种不同的分片模式。</p>\n<p>我们选择另一种方法—数据库内部分片，这种情况下，数据库代码变得更加复杂，但是为了折中我们可以使用简单的客户端，每一个连接数据库的客户端被路由到任意节点，由一个特殊函数计算出哪一个节点应该被连接、哪一个节点应该被控制。前面提到，由于数据库变得更加复杂，因此为了折中，客户端就变得更加简单了，但是这样的话，数据库就要对其数据全权负责。此外，最困难的事就是重新分片，如果你有一大堆客户端无法更新，相比之下，如果数据库负责管理自己的数据，那重新分片就会变得非常简单。</p>\n<p>具体怎样实施呢？<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e94160e3f5ba5cf6ef9c1952c4cf77a8.png\"></p>\n<p>六边形代表Tarantool实体，有3个节点组成分片1，另一个3节点集群作为分片2，如果我们将所有节点互相连接，结果会怎样呢？根据Raft，我们可以知道每一个集群的状态，谁是leader服务器谁是follower服务器也一目了然，由于是集群内连接，我们还可以知道其他分片（例如它的leader分片或者follower分片）的状态。总的来说，如果访问第一个分片的用户发现这并不是他需要的分片，我们很清楚地知道应该指导他往哪里走。</p>\n<p>我们来看一些简单的例子。</p>\n<p>假设用户向驻留在第一个分片上的key发出请求，该请求被第一个分片上的某一个节点接收，这个节点知道谁是leader，于是将请求重新路由到分片leader，反过来，分片leader对这个key进行读或写，并且将结果反馈给用户。</p>\n<p>第二个场景：用户的请求到达第一个分片中的相同节点，但是被请求的key却在第二个分片上，这种情况也可以用类似的方法处理，第一个分片知道第二个分片上谁是leader，然后把请求送到第二个分片的leader进行转发和处理，再将结果返回给用户。</p>\n<p>这个方案十分简单，但也存在一定的缺陷，其中最大的问题就是连接数，在二分片的例子中，每一个节点连接到其他剩下的节点，连接数是6*5=30，如果再加一个3节点分片，那么连接数就增加到72，这会不会有点多呢？</p>\n<p>我们该如何解决这个问题呢？我们只需要增加一些Tarantool实例，我们叫它代理，而不叫分片或数据库，用代理去解决所有的分片问题：包括计算key值和定位分片领导。另一方面，Raft集群保持自包含，只在分片内部工作。当用户访问代理时，代理计算出所需要的分片，如果需要的是leader，就对用户作相应的重定向，如果不是leader，就将用户重定向至分片内的任意节点。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/19850d7316e4796ac8a04aec49c4ed50.png\"></p>\n<p>由此产生的复杂性是线性的，取决于节点数量。现在一共3个节点，每个节点3个分片，连接数少了几倍。</p>\n<p>代理方案的设计考虑到了进一步规模扩展（当分片数量大于2时），当只有2个分片时，连接数不变，但是当分片数量增加时，连接数会剧减。分片列表存储在Lua配置文件中，所以，如果想要获取新列表，我们只需要重载代码就好了。</p>\n<p>综上所述，首先，我们进行主主备份，应用Raft算法，然后加入分片和代理，最后我们得到的是一个单块，一个集群，所以说，目前这个方案看上去是比较简单的。</p>\n<p>剩下的就是只读或只写令牌的的前端了，我们有更新器可以更新令牌，获得更新令牌后把它传到OAuth服务提供商，然后写一个新的访问令牌。</p>\n<p>前面说过我们的一些辅助逻辑耗尽了CPU资源，现在我们将这些辅助资源移到另一个集群上。</p>\n<p>辅助逻辑主要和地址簿有关，给定一个用户令牌，就会有一个对应的地址簿，地址簿上的数据量和令牌一样，为了不耗尽一台机器上的CPU资源，我们显然需要一个与副本相同的集群，只需要加一堆更新地址簿的更新器就可以了（这个任务比较少见，因此地址簿不会和令牌一起更新）。</p>\n<p>最后，通过整合这两个集群，我们得到一个相对简单的完整结构：<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/229720c176a9c195da04aff536c54360.png\"></p>\n<h3>令牌更新队列</h3>\n<p>为什么我们本可以使用标准队列却还要用自己的队列呢？这和我们的令牌更新模型有关。令牌一旦发布，有效期就是一个小时，当令牌快要到期时，需要进行更新，而令牌更新必须在某个特定的时间点之前完成。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2d35c676f1ed569aae74c8933dcba90c.png\"></p>\n<p>假设系统中断了，但是我们有一堆已到期的令牌，而在我们更新这些令牌的同时，又有其他令牌陆续到期，虽然我们最后肯定能全部更新完，但是如果我们先更新那些即将到期的（60秒内），再用剩下的资源去更新已经到期的，是不是会更合理一些？（优先级别最低的是还有4-5分钟才到期的令牌）</p>\n<p>用第三方软件来实现这个逻辑并不是件容易的事，然而，对于Tarantool来说却不费吹灰之力。看一个简单的方案：在Tarantool中有一个存储数据的元组，这个元组的一些ID设置了基础key值，为了得到我们需要的队列，我们只需要添加两个字段：status（队列令牌状态）和time（到期时间或其他预定义时间）。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7e26ff22ccda5e92f04a9af8621b954d.png\"></p>\n<p>现在我们考虑一下队列的两个主要功能—put和take。put就是写入新数据。给定一些负载，put时自己设置好status和time，然后写数据，这就是建立一个新的元组。</p>\n<p>至于take，是指建立一个基于索引的迭代器，挑出那些等待解决的任务（处于就绪状态的任务），然后核查一下是不是该接收这些任务了，或者这些任务是否已经到期了。如果没有任务，take就切换到wait模式。除了内置Lua，Tarantool还有一些所谓的通道，这些通道本质上是互联光纤同步原语。任何光纤都可以建立一个通道然后说“我在这等着”，剩下的其他光纤可以唤醒这个通道然后给它发送信息。</p>\n<p>等待中的函数（等待发布任务、等待指定时间或其他）建立一个通道，给通道贴上适当的标签，将通道放置在某个地方，然后进行监听。如果我们收到一个紧急的更新令牌，put会给通道发出通知，然后take接收更新任务。</p>\n<p>Tarantool有一个特殊的功能：如果一个令牌被意外发布，或者一个更新令牌被take接收，或者只是出现接收任务的现象，以上三种情况Tarantool都可以跟踪到客户端中断。我们将每一个连接与指定给该连接的任务联系起来，并将这些映射关系保持在会话保存中。假设由于网络中断导致更新过程失败，而且我们不知道这个令牌是否会被更新并被写回到数据库。于是，客户端发生中断了，搜索与失败过程相关的所有任务的会话保存，然后自动将它们释放。随后，任意已发布的任务都可以用同一个通道给另一个put发送信息，该put会快速接收和执行任务。</p>\n<p>实际上，具体实施方案并不需要太多代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59268826cfec3665193538\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction put(data)  \r\n    local t = box.space.queue:auto_increment({  \r\n        ‘r’, -- [[ status ]]  \r\n        util.time(), -- [[ time ]]  \r\n        data -- [[ any payload ]]  \r\n    })  \r\n  \r\n    return t  \r\nend  \r\n  \r\nfunction take(timeout)  \r\n    local start_time = util.time()  \r\n    local q_ind = box.space.tokens.index.queue  \r\n    local _,t  \r\n  \r\n    while true do  \r\n        local it = util.iter(q_ind, {‘r’}, {iterator = box.index.GE})  \r\n        _,t = it()  \r\n        if t and t[F.tokens.status] ~= ‘t’ then  \r\n            break  \r\n        end  \r\n  \r\n        local left = (start_time + timeout) — util.time()  \r\n        if left &lt;= 0 then return end  \r\n        t = q:wait(left)  \r\n        if t then break end  \r\n    end  \r\n    t = q:taken(t)  \r\n    return t  \r\nend  \r\n  \r\nfunction queue:taken(task)  \r\n    local sid = box.session.id()  \r\n    if self._consumers[sid] == nil then  \r\n        self._consumers[sid] = {}  \r\n    end  \r\n    local k = task[self.f_id]  \r\n    local t = self:set_status(k, ‘t’)  \r\n  \r\n    self._consumers[sid][k] = {util.time(), box.session.peer(sid), t}  \r\n    self._taken[k] = sid  \r\n    return t  \r\nend  \r\n  \r\nfunction on_disconnect()  \r\n    local sid = box.session.id  \r\n    local now = util.time()  \r\n  \r\n    if self._consumers[sid] then  \r\n        local consumers = self._consumers[sid]  \r\n        for k, rec in pairs(consumers) do  \r\n            time, peer, task = unpack(rec)  \r\n  \r\n            local v = box.space[self.space].index[self.index_primary]:get({k})  \r\n            if v and v[self.f_status] == ‘t’ then  \r\n                v = self:release(v[self.f_id])  \r\n            end  \r\n        end  \r\n        self._consumers[sid] = nil  \r\n    end  \r\nend</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59268826cfec3665193538-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-59268826cfec3665193538-61\">61</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">put</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">space</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">queue</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">auto_increment</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-3\"><span class=\"crayon-h\">        </span>‘<span class=\"crayon-i\">r</span>’<span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">status</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">time</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">time</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">any </span><span class=\"crayon-i\">payload</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-7\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-9\"><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-10\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-11\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">take</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">timeout</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">start_time</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">time</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">q_ind</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">space</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tokens</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">index</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">queue  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-14\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-15\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">while</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-17\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">it</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">iter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">q_ind</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span>‘<span class=\"crayon-i\">r</span>’<span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">iterator</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">index</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">GE</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-18\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">it</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-19\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">F</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tokens</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">status</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span>‘<span class=\"crayon-i\">t</span>’<span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-20\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">break</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-21\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-22\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-23\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">start_time</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">timeout</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span>—<span class=\"crayon-h\"> </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">time</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-24\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-25\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">wait</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-26\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">break</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">taken</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-30\"><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-31\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-32\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">queue</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">taken</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">task</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-33\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">sid</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">id</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-34\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-35\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-36\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-37\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">task</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">f_id</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-38\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">set_status</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span>‘<span class=\"crayon-i\">t</span>’<span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-39\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-40\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">time</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">peer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-41\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_taken</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sid  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-42\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-43\"><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-44\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-45\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">on_disconnect</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-46\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">sid</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">id  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-47\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">now</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">time</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-48\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-49\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-50\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">local </span><span class=\"crayon-v\">consumers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-51\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rec </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pairs</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">consumers</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-52\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">peer</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">task</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unpack</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rec</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-53\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-54\"><span class=\"crayon-h\">            </span><span class=\"crayon-i\">local</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">box</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">space</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">space</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">index</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">index_primary</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-55\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">v</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">f_status</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span>‘<span class=\"crayon-i\">t</span>’<span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-56\"><span class=\"crayon-h\">                </span><span class=\"crayon-v\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">release</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">v</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">f_id</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-57\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-58\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-59\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_consumers</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sid</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59268826cfec3665193538-60\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-59268826cfec3665193538-61\"><span class=\"crayon-st\">end</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0115 seconds] -->\r\n<p>Put只是接收用户想要插入队列的所有数据，并将其写入某个空间，如果是一个简单的索引式FIFO队列，设置好状态和当前时间，然后返回该任务。</p>\n<p>接下来要和take有点关系了，但仍然比较简单。我们建立一个迭代器，等待接收新任务。Taken函数只需要将任务标记成“已接收”，但有一点很重要，taken函数还能记住哪个任务是由哪个进程接收的。On_disconnect函数可以发布某个特定连接，或者发布由某个特定用户接收的所有任务。</p>\n<h3>是否有可选方案？</h3>\n<p>当然有。我们本可以使用任意数据库，但是，不管我们选用什么数据库，我们都要建立一个队列用来处理外部系统、处理更新等等问题。我们不能仅仅按需更新令牌，因为那样会产生不可预估的工作量，不管怎样，我们需要保持我们的系统充满活力，但是那样，我们就要将延期的任务也插入队列，并且保证数据库和队列之间的一致性，我们还要被迫使用一个quorum的容错队列。此外，如果我们把数据同时放在RAM和一个（考虑到工作量）可能要放入内存的队列中，那么我们就要消耗更多资源。</p>\n<p>在我们的方案中，数据库存储令牌，队列逻辑只需要占用7个字节（每个元组只需要7个额外的字节，就可以搞定队列逻辑！），如果使用其他的队列形式，需要占用的空间就多得多了，大概是内存容量的两倍。</p>\n<h3>总结</h3>\n<p>首先，我们解决了连接中断的问题，这个问题十分常见，使用上述的系统让我们摆脱了这个困扰。</p>\n<p>分片帮助我们扩展内存，然后，我们将连接数从二次方减少到了线性，优化了业务任务的队列逻辑：如果发生延期，更新我们所能更新的一切令牌，这些延期并非都是我们的故障引起的，有可能是Google、Microsoft或者其他服务端对OAuth服务提供商进行改造，然后导致我们这边出现大量的未更新的令牌。</p>\n<p>去数据库内部运算吧，走近数据，你将拥有便利、高效、可扩展和灵活的运算体验！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111276\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111276votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111276\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "NoSQL 数据库的主主备份", "tags": "IT技术,NoSQL,数据库", "url_obj_id": "b1bf4796b153541f055976afe97caa18", "create_date": "2017/05/24", "url": "http://blog.jobbole.com/111276/", "bookmark_num": 0, "front_image_path": "full/f063941289465ff36a2dca85db55733a7ae2d8e0.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2013/02/NoSQL-Not-Only-SQL.jpg"]}
{"comment_num": 3, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://steve-yegge.blogspot.com/2017/05/why-kotlin-is-better-than-whatever-dumb.html\">Steve Yegge</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：5月18日，安卓团队在谷歌 I/O 2017 大会上宣布 Kotlin 成为官方头等支持语言。这条爆炸性资讯在当天就是 Hacker News 首页热门讨论，与此同时，谷歌技术大牛 Steve Yegge 也写了一篇关于 Kotlin 的使用体会总结文章，同样也在首页热门，并<a href=\"https://news.ycombinator.com/item?id=14362975\" target=\"_blank\">引发 200+ 讨论</a>。伯乐在线编译如下。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1ffu5zuwglij20dw099406.jpg\"></p>\n<p style=\"text-align: center;\">（Steve Yegge ）</p>\n<h3>为什么说 Kotlin 比你们用的那些垃圾语言都好</h3>\n<p>哈，这个标题党的题目让你点进来看了吧。不要奇怪，现在标题党在网上很普遍的。而且这篇文章给出的回答，肯定能震撼到你。</p>\n<p>说真的，其实我不想去攻击你们的语言信仰……至少不会“大大地”想。毕竟你喜欢的语言大放异彩的时期，可能要追溯到冰川时代了，对不？如果你喜欢的语言到今天还没有死，那只能说明这门语言在逐渐地改进和更新，保持与时俱进。</p>\n<p>但改进的速度呢？好吧……假设你现在用的语言碰巧是 Java，并且你也沉溺于 Java 曾经是一门非常优秀的语言的想法，那么你就完蛋了。而且是早就完蛋了。尽管人类都不太喜欢思考终极命运问题，但是相比于在 20 多年前刚刚问世，Java 8 仅仅是做了部分语言特性的替换，对此你禁不住要想：“我真的要和这种语言来共度过的余生么？还是说 Java 也就只能这样了？”</p>\n<p>因为终于要开始做 Android 开发了，我把各种老旧的语言问题又过了一遍。我写过一个老游戏 <a href=\"http://reddit.com/r/wyvernrpg\">Wyvern</a>，这个游戏已经有一个 iOS 版本了，最近我决定再搞一个 Android 版本。我从来没料到计算机语言会折腾到让我“思考人生”（例如“我这是他娘的在浪费生命么？”）如果你写过 Android 程序的话，你就知道在 Android 领域，语言的问题是会让你相当难熬的。</p>\n<p>我第一次尝试写 Android 程序是在去年夏天，我的个老天爷，那感觉简直糟透了。其实是有人警告过我的。他们都说：“那些 API 可是很难搞啊。”而我却不听劝。一意孤行。</p>\n<p>我想：这些玩意儿能糟糕到哪儿去呢？反正不就是 Java 么？</p>\n<h3>历史代码的灾难</h3>\n<p>真是很不走运——因为很复杂的历史原因，并且也没人在意——造成 Android 的核心 API 实在是糟糕透顶。我是说：真的很糟，真的很糟，真的很糟。你只能关掉参考书，深呼吸，然后出去猛喝咖啡来压压惊。人们之前给我的告诫看来是完全正确的。</p>\n<p>Android API 库就是一个百宝箱。很多 API 真的是非常好用。我可以说，很多在 iOS 开发里非常难搞的事情在 Android 里面却很容易。Product flavors、Downloads 服务、findViewById() 方法、Preferences activity 等等，这些都是很好的例子。有太多 Android 里面有的东西在 iOS 里面是诶有的，所以在 iOS 里面你总能看到：开发者自己实现的恶心的和优雅的应用库并存。</p>\n<p><strong>但是</strong>！注意左边是一个大写加粗的但是！在写 Android 程序的时候，人们只关注那些不好的 API，就像你开车时候只会数路上遇到了几个红灯一样，绿灯的数量是没人关心的。因为人们只会通过红灯的数量来评价路途是否通顺。</p>\n<p>Android 确实有几个很糟糕的“红灯”API。例如 Fragments，这就是在 Andoird “红灯” API 中的招牌 API。这个 API 的整个生命周期的糟糕程度达到了令人发指的地步，好吧其实 Activities 和 Fragments 都是如此。说句不中听的，iOS 反而却没有这么糟糕的API。去年夏天我试了试这些API，它们是如此之糟糕以至于我当时就放弃了。我算是彻底服了。去它的，我还是以后找个人来帮我写这些程序吧。</p>\n<p>接下来的一年半，我就没再碰过 Android 编程。</p>\n<h3>来自俄罗斯的救星</h3>\n<p style=\"text-align: left;\">我一直听说，有一种新语言叫做 Kotlin，可以用来写基于 JVM 或者 Android 程序。发明这种语言的不是别国，正是战斗的民族俄罗斯。更具体一点儿，它是由 JetBrains 开发。JetBrains 可是世界知名的 IDE 开发商，代表作是 Intellij IDEA，还有他们那可爱而且大名鼎鼎的橘色，绿色，紫色和黑色混合的暗色“Darcula”主题。</p>\n<p style=\"text-align: center;\"><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fftzgxa728j20ic0b0wom.jpg\" width=\"660\" height=\"396\"></p>\n<p style=\"text-align: center;\"><em>图：一个千年老妖按捺不住对 Java 8 的兴奋</em></p>\n<p>那么为什么要给这种语言起名叫 Kotlin 呢？好吧，有一种说法是因为 Java 的第一个字母是“J”，而 Kotlin 则用了Java 的下一个字母“K”作为开头。除此之外，有人还猜想（这种猜想可能来自加州大学伯克利分校），“Kotlin”这个名字的灵感还来源于“克里姆林宫”，“赫鲁晓夫”以及“克格勃”。这些都是前苏联的骄傲，所以他们就用了一个前苏联军事基地的名字“Kotlin”来命名这种语言。总之这个名字不错，而且你会习惯它的。</p>\n<blockquote><p>伯乐在线补充：Steve Yegge 在前文关于 Kotlin 的名字来源，应该错了。在他自己原文评论中，也有网友指出了。</p>\n<p>正确的应该是：① JetBrains 是一家注册地在捷克布拉格的公司，在全球共有 6 个办公点：布拉格、圣彼得堡、莫斯科、波士顿、慕尼黑和新西伯利亚。但主要管理层和开发者是在圣彼得堡。② 芬兰湾中有个岛就是「Kotlin/科特林」，在圣彼得堡以西 32 公里。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fftze72i5xj20mr0c1grh.jpg\"></p></blockquote>\n<p>我发现去年业界关于 Kotlin 只是有不少“嘀咕（buzz）”。注意，只是“嘀咕”，不是天花乱坠地吹牛宣传。人们只是低调地“嘀咕”着。好吧，总之，我当时看了一下，然后就觉得这个语言和我过去 15 年看过的 50 ~ 100 种计算机语言一样，这也是一门可以替代 Java 的语言，当然，我认为任何理性的语言都能替代 Java。</p>\n<h3>对 Kotlin 的第一印象</h3>\n<p>我第一次看到 Kotlin 的时候，真心觉得这种语言不可能在现实生活中用到，真的是一点可能性都没有。其实我也就是走马观花。我的第一印象？这个语言也没什么大问题。它很简洁，也具有先进的特性。如果说它时髦也行，因为它几乎囊括了计算机语言设计上的所有最新潮流。不过这也没什么大不了，因为很多语言也都满足这一点。比如，Rust。Rust 也是一门健壮的，名字起得很好的，但是没什么人用的语言。</p>\n<p>Kotlin 给我的一种奇怪的感觉是“似曾相识”，后来我才反应过来，原来这是因为它和 Swift 很像。我之所以没有马上反应过来，是因为我的 iOS 程序因为历史代码的原因不得不用 Objective-C 而不是 Swift 来写。当然现在我也弄明白了：其实 Kotlin 的历史比 Swift 要悠久几年，所以正确的说法应该是：<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655438427&amp;idx=2&amp;sn=ed5433de4a067d6aae2facd6dd094ec2&amp;chksm=bd730a2c8a04833ad8f44780d12ea1fb18503472397daec8645aa3d0fe316c58e61fa7c83d69#rd\" target=\"_blank\">Swift 和 Kotlin 很像</a>。</p>\n<p>不过即便如此我当时也没准备用这种语言干活。Kotlin 对我来说确实是一种语法优雅的语言，但是我觉得我对这门语言还没有掌握到足够的程度，以至于让我可以用它来应付残酷的现实工作。</p>\n<h3>从 Java 叛逃到 Kotlin</h3>\n<p>我不太记得我是具体怎么爱上 Kotlin 的了。但是我敢肯定的是这绝对不是有意为之。</p>\n<p>我努力回忆了一下，事情是这样的，我做的那个游戏的玩家跟我说了好久，让我开发一个 Android 版本。这个游戏是 12 月份在 Apple Store 上架的，然后几周之内，大量粉丝就跟我说，他们是 Andorid 用户，所以没法玩到这个游戏。所以，尽管我已经“发誓”再也不碰Android 编程了，但是用户就是上帝，所以我又开始尝试了。不过这一次要换个玩儿法——不能再把胃口坏在 Android 的 Java 语言上了。我需要有个现成的框架，或者什么类似的东西，来让工作变得简单一点儿。</p>\n<p>在 1 月中旬，我做了一个粗略评估，然后就决定用 Kotlin 来开发了，Kotlin 当时可同时支持 Dalvik 和 Art 两种 Android 虚拟机。我觉得我的评估是基于以下几个原因：</p>\n<ul>\n<li>1. Kotlin 已经小有名气；</li>\n<li>2. 当时我写 iOS 版的时候就想用 Swift（但是没用成）；</li>\n<li>3. Kotlin有一种挺不错的 Android DSL 叫做 Anko，这勾起了我的兴趣，虽然最后我并没有真的用到它。</li>\n</ul>\n<p>所以我就用 Kotlin 开始做了。在接下来的 4-5 周内，我用 Kotlin 重写了游戏的服务平台。要知道这个平台之前已经有 20 多年历史了。用了一个月的 Kotlin，我就被完全征服了。我不是要说 Scala 或者其他语言的坏话，但是对我这种普通码农来说，Koltin 是完美的。我的要求不高，给口饭吃就行，知道不？Scala 固然很好，但是它好得过头了，就像牛蛙\\牛脑\\松露蜗牛这些高档菜那么好。要知道我就是个蓝领，Clojure、Scala 这类的语言对我来说太高大上了。</p>\n<p>我大约花了 3 天时间来学习 Kotlin 的各种语法，然后就开始正式编程了，虽然我还是很不熟练，但是我知道这种语言和 IDE 工具足以让我解决各种麻烦。</p>\n<p>当我对这种语言稍微熟悉了一些以后，我就知道，我应该不会再去爱上另外一种语言了，因为 Kotlin 实在是太迷人了。你在代码写出来的东西让你觉得很酷。当然我以前用其他的语言编程的时候也体验过类似的感觉，但是<strong>那些语言的学习曲线一般都非常陡峭</strong>。Kotlin呢，它就是大救星：当 Java 程序员为了 Java 8 弄出来的一大堆新概念挠头的时候，Kotlin 出现了。Kotlin 能实现 Java 8 的各种新特性，并且通过对 coroutines 的支持，其实能实现更强大的功能，而且语法表现力更简洁。Java 8 确实也能表达很有意思的逻辑，但是很繁琐，感觉就像让你说话之前要先给你嘴里塞沙子。</p>\n<p>我想 Kotlin 上手很容易的原因太显而易见了，要归功于它的 IDE 支持。现在几乎所有的 JVM 语言或者 Android 语言的 IDE 支持都是由社区的几个志愿者在维护（当然 Java 除外）。而 Kotlin 则是来自世界级的 IDE 厂商（Jetbrains），所以 Kotlin 打一开始就是自带 IDE 支持的。有多少语言能做到从发明伊始就能有 IDE 支持呢？编程语言的进化历程一般做不到这一点。况且有的编程语言从一开始就是要避开 IDE 这个因素的（Hi！Rob）另外一个能一开始就做到 IDE 支持的语言就是 C#，当然 C# 毫无疑问是全世界最好的编程语言之一。</p>\n<blockquote><p>伯乐在线译注：上面这段中的 Rob，应该是指 Go 语言的发明者 Rob Pike，作者在这里也许是暗讽 Go 语言从发明到现在都没有一个靠谱的 IDE 支持吧。</p></blockquote>\n<p>作为一个自带 IDE 支持的语言，你在 Kotlin buffer 敲代码的时候，打字基本对就可以了。IDE 会帮你补全你没写完的部分。你知道吗，你甚至可以把Java代码复制到IDE里面，然后 IDE 会帮你自动转换成Kotlin代码。如果你觉得 Java 的 IDE 都还不错，那么我可以很荣幸地告诉你，Kotlin IDE 会把这种“不错”推进到前所未有的地步。甚至有一个前微软工程师跟我说：“我本以为微软的 Visual Studio 是 IDE 界的标杆，是不可超越的。但是我觉得 IntelliJ IDEA 的确要更好。”在我看来，因为我对 Visual Studio 不熟悉，所以我在这里只是引用他说的话。不过我认为 IntelliJ IDEA 至少和 VS 是同等水平。</p>\n<p>诚然，在现实工作中我还是要经常切换到 Emacs 的。IntelliJ 在你打字很快的时候还是有点儿反应不过来。如果你打字总是只打一半儿的话，那么自动补全动能的运行压力还是很大。况且对纯文本的处理也很糟糕，这是所有 IDE 的通病。所以 IDE 和 Emacs 你都是需要用到的。不幸的是，目前 Emcacs 对 Kotlin 的支持现在也就那么回事儿，不过相信以后会越来越好。我现在反正就是在 Emacs 和 IntelliJ 之间来回切换。目前还算是 OK。</p>\n<p>就是这样了。我曾经花了大约 10 年的时间，来找一种语言来取代 Java。我真的找得很努力很辛苦。讽刺的是，在我放弃了以后，这种东西居然出来了。去看看吧。Kudos 对 JetBrains 来说，是一个惊艳的成就。</p>\n<h3>Android：Kotlin 的杀手锏</h3>\n<p>这年头新生编程语言几乎很难产生什么巨大影响力。不是说现在没有新语言产生了，相反是每年都有质量不错的新语言产生，但是然并卵，没人用！要给“不可能”划定界限很难。但是计算机语言的市场已经非常饱和了。如果要让一个新的语言能够大火（而且这个规律在过去 10 到 20 年都成立），那么这个语言就必须有一个“杀手级”的应用。这门语言需要绑定一个平台，让大家都非常迫切地区使用这个平台，这才能促进大家学习这门语言以便在这个平台上编程。</p>\n<p>就目前看来，我们上面所说的杀手级应用——也就是我们上面扯了这么多的东西——却是 Android 恶心的 API。每当你顺着 Android 路线往下走，一遇到 API 就会卡壳，这只会让你去诅咒 Android 这个平台。Android 不论有多少优秀的 API 都不管用，重要的是，Android 糟糕的 API 太多了，所以你不得不停下来去找”现成”的办法（solution）。</p>\n<p>不过兄弟，Android 里面解决问题的“现成办法”可是不少。对于新手来说，有一大堆 Java annotation processors可用，这就为语言的问题埋下伏笔。更不要提一堆迷你的框架（比如 Lyft 的 Scoop）。还有那些和 Android（Java）完全独立的框架：React Native、Cordova、Xamarin、Flutter等等。</p>\n<p>如果以上说的技术你都不喜欢，那么你还可以从语言的角度来解决问题。当然，那些完全独立的框架是基于特定语言的，而并不是Java。</p>\n<p>Kotlin 的竞争优势在于它并不是完全隔离于 Java 语言。它基本上是 100% 可与 Java 相互翻译转换的。这很像C++ 与 C 的关系一样（但它们做不到 100% ）。Kotlin 也是在不断进化的。所以你可以直接把你写的 Kotlin 代码扔到 Android 工程中，连目录都不用改，然后程序就能正常运行了，方便得眼睛都不用眨一下。</p>\n<p>其他种类的 Android 平台都倾向于迫使你去学习一种全新的语言以及对应的平台，其编程范式，理念和特性都各不相同。Kotlin 则是让你直接写出 Android 可运行的类，就跟其他 Android 程序员用 Java 写出来的一样。其实其底层的 API 都是一样的，但是 Kotlin 组织得要好很多。</p>\n<p>还记得我去年夏天把 Android 编程书扔了然后再也不打算看了么。现在 Kotlin 则让我感觉：Android 编程是快乐的？我甚至觉得可能 Android 那些糟糕的 API 很可能并不是那么糟，只是 Java 把它搞得太恶心了而已。</p>\n<p>Kotlin 致力于让大家绕过 Android API 那些恶心的东西，并且能让你充分发挥你的经验，这一点甚至比 iOS 做得还要好。好吧，至少来说比 Objective-C 做得好，因为我觉得 Swift 肯定也不会差。知道为什么吗？因为 Swift 和 Kotlin 很像啊。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fftzgxualfj215o0k00sy.jpg\" width=\"600\" height=\"288\"></p>\n<h3>我特别喜欢 Kotlin 的地方有哪些？</h3>\n<p>嗯，这个话题其实要细说就很大了，我觉得我最好再开一篇文章来写这个。这里我就提一下那些高级（high-level）且共性的点。</p>\n<ul>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 很像 Java</strong></span>。它长得不像 Clojure 或者 Scala 那么奇怪（承认现实把，这两种语言就是挺奇怪的）。所以你学 Kotlin 应该很快。这门语言显然就是写给 Java 开发者来用的。</li>\n<li>它比 Java 更安全。Java 很多需要 annotation processors 来做的事情在 Kotlin 里则是内置的，例如 overriding，nullability等等。而且 Kotlin 对数值转换的规则也更安全，虽然我不太喜欢 Kotlin 的处理方式，但是我还是很感谢这门语言强制我去思考我的数值表现形式。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 和 Java 是可以互译的</span></strong>。真的是指无缝互译。我见过很多 JVM 语言最后挂掉，就是因为其不支持子类继承机制。我不知道什么时候就会用到静态内部类，非静态内部类，或者什么破玩意儿类。Kotlin 在设计时就把和Java互译的属性放在第一位，也就是说，把 Java 翻译到 Kotlin 可以逐渐进行，一次可以直接转换一个文件。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 很简洁</span></strong>。你要知道我也算是个高尔夫球手，所以我实话实说。如果在一切都相同的情况下，我更喜欢短的程序，只要它写的逻辑清楚。Kotlin 对我来说就像是打了一轮好局。平均下来我发现 Kotlin 的代码长度比相同逻辑的 Jython 代码短了 5%-10%（这可是我用某种“黄金标准”测出来的），而且还能保证程序的可读性和类型安全。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 更贴近实际</strong></span>。Kotlin 支持在一个文件里定义多个类，支持一等方法，操作符重载，扩展方法，类型别名，字符串模板，还有一堆看上去没什么新意的语言特性它都支持。而我就是不明白为什么 Java 什么都不支持，连人们需要的语言特性它都不做。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 进化很快</strong></span>。例如刚刚宣布启动的对 coroutine 的支持，将会成为提供 asyn/await， geneator 以及所有其他无锁并发特性的基础设施。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 很擅长“拿来主义”</strong></span>。Kotlin 经常从其他的计算机语言设计中抄点子，并且也毫不避讳。他们说：“我们很喜欢 C# 的处理方式，所以我们就自己照着撸了一个。”</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 支持 DSL</strong></span>。DSL 不到深思熟虑万不得已的话千万不要引入，但是不得不承认 DSL 威力巨大。例如你看 Gradle 的 DSL 和 Maven 比，在典型的 Maven 项目里，配置代码肯定要超过上千行。所以 Kotlin 是来给你降工作压力的。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 的 IDE 是在是太棒了</span></strong>。刚才不久我才在 Emacs 里写程序文件，结果 Emacs 报了一对错。而我把同样的代码拷贝到 IntelliJ 里面，然后按 Alt-Enter 逐一自动修复了 50 多条，然后所有的错误就都搞定了。这真是帮了大忙啊。</li>\n<li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 很有趣</span></strong>。我跟你们说，Kotlin 就是有趣。也许这是我发自潜意识地在做广告。Kolint 的关键字和方法名都很有意思。Kotlin 把我从一个只会死编程的码农转变为了一个计算机语言的爱好者。</li>\n</ul>\n<p>总之，你就这么想：我收拾东西搬家，然后碰到了邻居 Kotlin。我之前也算见过的一堆计算机语言，但是只有 Kotlin，能够让我在那么短的时间内重写我的游戏服务器代码。而我现在则是在用 Kotlin 重写我之前写过的一切。</p>\n<p>我也知道还有好多其他的程序员也对 Kotlin 感觉非常好，打算成为 Kotlin 程序员。其中大部分的人应该在 1-2 年之内水平就能超过我了。我们私下里谈论过，互相都说“Kotlin 让编程感觉美好的感觉又回来了。”还不错，再我们尚未对编程全部失去兴趣之前，Kotlin 来了。就仿佛你只要把语言的语法学会了。这回把你带回到那种第一次学编程的感觉，无论写什么都觉得自己很牛逼。</p>\n<p>再一次，向 JetBrains 致敬。他们对计算机语言做出了巨大的贡献！我脱帽致敬。</p>\n<p>那么 Kotlin 比你用的任何其他编程语言都好吗？我想对我来说是的。因为，如果你碰巧是在用 Java 的话。如果你一整天就是泡在椅子面前写 Java，那么你会发现 Kotlin 简直就是一股清流。所以也让我知道你们是怎么想的吧。</p>\n<p>免责声明：本文只是阐述我个人对 Android 开发的观点，并不代表我的雇主（谷歌）或者 JetBrains 的观点。</p>\n<p> </p>\n<h3>伯乐在线摘录原文的一些评论：</h3>\n<p><strong>Igor Tovstopyat-Nelip</strong></p>\n<blockquote><p>好文章！</p>\n<p>JetBrains 不在捷克。虽然它是在（捷克）布拉格成立的，但主要在圣彼得堡。他们很多管理层和开发者都是俄罗斯人，很多是从圣彼得堡大学毕业的 。</p>\n<p>关于取名，Java 语言是出自印尼群岛中的 Java 岛。Kotlin 是芬兰湾中的一座岛，离圣彼得堡很近。彼得大帝在 18 世纪早期从瑞典那里抢过了圣彼得堡。此后，一直是俄国波罗的海舰队的海军基地。圣彼得堡有北国风光之美，海军神庙（Naval Temple）令人印象深刻。</p>\n<p>我们公司（位于亚特兰大）也试过多种 JVM 语言，Java 是首选。现在我们更对 Kotlin 感兴趣了。大家都非常喜欢。并且 Kotlin 和 Java 是无缝互通的。</p>\n<p>Kotlin 也能编译成 JS，并且值得一提的是，Kotlin Native 也处于火热发展中，看起来会是 Rust 的强劲对手。</p></blockquote>\n<p>匿名网友：</p>\n<blockquote><p>我过去也一起用过 Eamcs 和 JetBrains 的 IDE（PyCharm 和 Webstorm）。虽然这种组合很怪，但出奇的好。Emacs 适合心灵控制级别的文本编辑，IDE 适合面向鼠标的闲逛和小修改。</p></blockquote>\n<p>Stephen French：</p>\n<blockquote><p>我喜欢 C#，对 Java 落后太多真的失望至极，因为我的工作倾向 JVM。Kotlin 看起来非常有意思！</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111249\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111249votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111249\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 57</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "谷歌大牛说：为什么 Kotlin 比你们用的那些垃圾语言都好", "tags": "开发,Kotlin,Steve Yegge", "url_obj_id": "e1424ea1775d8a39ee3e2c46397ddc08", "create_date": "2017/05/22", "url": "http://blog.jobbole.com/111249/", "bookmark_num": 2, "front_image_path": "full/58c8f6bdcba8e16863b39c2cc43c3203d1887c67.jpg", "front_image_url": ["http://wx4.sinaimg.cn/large/7cc829d3gy1ffu5zuwglij20dw099406.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/nemoland\">李大萌</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/a-software-engineers-essential-time-estimation-guide-d7328238c510#.2ytnlnobo\">Kat Busch</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><div>\n<blockquote><p>霍夫斯塔特定律：实际花费的时间总是比预期的要长，即便你考虑到了本条定律。——Douglas Hofstadter</p></blockquote>\n</div>\n<p>有位 PM 最近告诉我她面临的一个难题：“软件工程师永远不能估算出他们的项目需要多长时间。我该怎么办？”还有两位 CEO 最近也告诉我同样的事情。</p>\n<p>《<a href=\"http://blog.jobbole.com/24924/\" target=\"_blank\" rel=\"f:url\">为什么程序员总是不能准确估测项目时间？</a>》，我们都深有体会。我曾经遇到过一个项目，预计需要两天完成，结果做了四个月。在这种情况下，即使用“时间翻倍”的经验估算，也依然差出了一个数量级之多。这样真的非常影响业务。我曾见过整个公司为了举办一个发布活动费尽心力，结果却不得不推迟数月。</p>\n<p>从高级层面上讲，这个问题在于在时间估算的时候，工程师、PM、经理、公关以及其他所有人的看法存在不同。大多数工程师本能考虑的是，如果一切都按照计划进行，写出一个可用的原型需要的最短时间。但下游的人想知道的是项目何时准备发布——这完全是另外一回事了。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffgg4m0k3sj20gs0b674p.jpg\"></p>\n<p>对于工程师而言，把握估算项目所需时间是一段终身的旅程。忽视这个问题，会给你以及与你直接或间接接触的每个人带来困扰。精准把握估算项目所需时间会让你脱颖而出，同事们将会把这些和你的专业精神，稳定性和工作质量相关联。</p>\n<h2>为什么我们要时间估算</h2>\n<p>首先我来回答一下工程师经常问到的问题：“为什么要估算时间？”许多工程师抱怨（有一定道理）这是一份间接成本。“如果我开足马力去做，会更快地完成项目！”</p>\n<p>主要有两个原因：外部依赖和优先次序。</p>\n<h3>外部依赖</h3>\n<p>没有任何有效活动会在真空中运作。项目通常有外部依赖，例如与非工程团队（通讯，金融，公关，客服）、其他工程团队甚至最终用户本身的协作。协调这些外部依赖关系通常是经理、PM或CEO的职责。这意味着最有资格做时间估算的人（工程师）不是最需要估算时间信息的人。这种不对称导致了根本的矛盾。</p>\n<h3>优先次序</h3>\n<p>时间估算也是确定工作优先级的关键。“钱花的值不值”是项目中的重要指标，没有真正的估算，也就无法确定钱花的值不值。即使你正在做的功能是世界上最棒的，如果花时间做一个全面的估计，你可能会意识到这将需要花费很长时间才能完成。</p>\n<p>假设你正在做一个项目，这将使网站的速度提升50％，但在相同的时间内，可以完成两个项目，每个项目将使网站快40％。如果没有花时间做一个初步的估计，你永远不会知道你可以做出一个访问速度更快的网站！</p>\n<h2>时间估算入门</h2>\n<p>现在大家都同意绝大多数时候都需要时间估算，我们来谈谈技巧。</p>\n<p>我们低估时间是因为我们考虑的是“我需要多长时间才能写出这个基本版本？”</p>\n<p>但交付的东西不仅仅是基础版。还需要考虑到编写，测试，调试和润色所需的时间。不要忘了开会、访谈、做代码审查以及发送电子邮件等事情也需要时间。</p>\n<p>低估时间的另一个原因是我们几乎总是在编码过程中遇到“未知数”，这些未知数是不可能完全预测和考虑周全的。也许IDE会更新，中断了项目，你花费一天的时间去修复它。在时间估算中无法考虑到这一点。</p>\n<p>但是，我们仍然可以比最初的直觉做的更好。以下是我的做法：</p>\n<h3>第一步：制定技术计划</h3>\n<p>在着手开始工作前，你应该已经有了一份技术规划或设计文件，可以为任何重要的项目提供帮助。可以用这个让别人知道你在做什么，并获得反馈。制定技术计划是启动时间估算的理想阶段。当完成技术细节设计时，会发现未知问题，你将会神奇地修改估算时间。也许你会意识到，可能需要把一个正在使用的库升级到新版本，这可能会增加一天的时间。甚至可能意识到计划使用的库实际上并不存在，需要自己写。</p>\n<p>颗粒度在这里很重要。如果任何一步感到模糊或者不清楚，或许你会跳过这个步骤（应该学习更多），或者需要将其分解成更小的步骤。同时如果某个步骤粒度太细，那么在实践中可能会不堪一击使整个计划无效。</p>\n<p>有关技术计划里应该考虑哪些方面，请参阅 Alicia Chen 的这篇文章《<a href=\"https://medium.com/@owlishness/what-do-you-mean-we-need-more-time-c4b7120aa707\" target=\"_blank\">What do you mean ‘we need more time’?</a>》。其中一个关键点是消除与 PM 或其他利益相关方之间的任何潜在歧义，这样最终你就不会因做错了某些事而不得不重新开始。</p>\n<h3>第二步：为每个步骤增加时间预算</h3>\n<p>估算一下技术方案中的每一步将执行多长时间。这通常会涉及对细节的研究（“有没有已经有人实现了这个库的功能？”）。根据项目的性质，罗列一个简单原型，可能会有助于暴露出许多未来潜在的痛点。</p>\n<h3>第三步：添加大量的额外时间</h3>\n<p>现在你已经有一个初步的估计，但是我们之前提到的所有的点还需要考虑。</p>\n<ul>\n<li>随时调试：总是会有Bug。调试很大程度上取决于你对特定代码库的经验和代码库的成熟度。</li>\n</ul>\n<ul>\n<li>会议、访谈、假期等：可能你不会在工位一直编码。你真正会有多少个小时进行编码？估算时应该至少看看你的日历。</li>\n</ul>\n<ul>\n<li>最终测试和bug清理：通常你在编码的同时应该也在写测试，但是很多团队在发布前，需要进行一轮润色工作或集成测试。在估算中要给予这些工作足够的预算。如果分阶段进行推出，最初推出的1％内容，可能会暴露需要修复的bug，需要考虑到这一点。</li>\n</ul>\n<ul>\n<li>代码审查：项目需要做几轮代码审查？通常需要多长时间？一定要确保有充足的评审人员（也可以确认一下他们的日程安排）。如果这是只有一个评审人员的项目，应该提前征求他们同意，要求他们安排一名候补人员，以防评审人员会休假或者在关键节点太忙。</li>\n</ul>\n<p>一旦开始将所有这些时间开销添加到项目中，就会开始看到自己的时间估算值与项目实际启动时匹配地多了。是的，实际情况可能会比估计的更长，你可能会倍感压力去缩短工期。但是当大家知道他们可以依靠你时，他们会欣赏你的估算。</p>\n<h3>第四步：项目发布后，对时间估算做回顾总结</h3>\n<p>在项目完成之后回顾一下所做的工作，这听起来很痛苦。但是这种审查回顾会让你从中学到很多，下次做的更好。</p>\n<p>哪个过程结果与预期的时间不同？如果集成测试花费了比预期两倍的时间，记下来，下次给测试留下更多的时间。或者尝试改进集成测试系统。</p>\n<p>你一定会看到自己的估算随着时间的推移而不断改善。甚至可以在这个过程中提出一些很好的见解，来帮助整个团队。</p>\n<h3>最后，一切都与沟通有关</h3>\n<p>你的时间表和其他变动事宜，应该提前告知其他人。如果在发布前一个月让经理知道你正在使用的库中存在新的安全漏洞，不得不从头开始，他们会有时间相应的通知公关，财务或用户，需要推迟发布。</p>\n<p>和其他协作方沟通得来的重要反馈，有助于调整时间估算。设计师可能会说：“哦，如果这个花哨的动画将要花一整周的时间，我们可以完全剪掉它。”PM可能会补充说：“这只是用户研究中的一个原型实验。我们不需要为这个迭代做太多的bug清理。”经理可能会说，“你把一半的时间用在了开会？我来解决这个事情！”</p>\n<p>对于工程师来说，不要为了取悦上级，向不切实际的时间表妥协。坦诚地说出你的估算时间和变更方式，这样更专业。</p>\n<p>对于其他所有人来说，尊重估算的时间是很难的，而且这需要一个过程。你只能坐下来砍掉实际上不需要发布的功能或阶段，来缩短预计的时间，而不是通过唠叨把时间缩短。</p>\n<p>我们永远无法完美估算项目所需的时间。唯一的办法就是保持开放、多沟通、有同理心，并果断地确定优先次序。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111132\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111132votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111132\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">李大萌</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            码农一枚        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/nemoland\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/nemoland/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a> · <a title=\"QQ：727231337\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：qq_nemo\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "程序员必备的项目时间估算指南", "tags": "其他,时间,时间估算", "url_obj_id": "c9e14199490768f06f81fc017a40950f", "create_date": "2017/05/15", "url": "http://blog.jobbole.com/111132/", "bookmark_num": 5, "front_image_path": "full/7bb53a63c829a4038664776a418d955c94adfe80.jpg", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffgg4m0k3sj20gs0b674p.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.oschina.net/news/84807/is-linux-kerne-design-outdated\">开源中国</a>   </div><p>Linux 多年来取得的成绩毋庸多言。但最近，reddit 上有人发起了一个话题，想知道 Linux 的内核设计是否已经过时，并得到了一些有趣的答案。</p>\n<p>这位 <a href=\"https://www.reddit.com/user/Ronis_BR\" target=\"_blank\" data-cke-saved-href=\"https://www.reddit.com/user/Ronis_BR\">Ronis_BR</a> 的用户提问大致如下：</p>\n<blockquote><p>Linux 是在 1992 年启动的，一些特性到现在都没有改变。我猜想最新的操作系统内核设计技术（如果存在…）应该较之前有很大的进步。那 Linux 内核是否已经过时？</p>\n<p>与 Windows、macOS、FreeBSD 内核的设计相比，Linux 内核的设计有没有在哪些方面比较先进？（注意，重点是设计的先进，而不是哪一个更好）。</p></blockquote>\n<p>该话题引起了近 400 条回复，大家纷纷发表了自己对内核设计的<a href=\"https://www.reddit.com/r/linux/comments/69umqo/is_linux_kernel_design_outdated/\" target=\"_blank\">看法</a>，节选几条不同的观点：</p>\n<p><strong>ExoticMandibles：</strong></p>\n<blockquote><p>“过时”？不存在的。Linux kernel 对现代内核的设计其实是非常了解的，只是它选择了保持传统的形式。</p>\n<p>内核设计的核心在于“安全/稳定”和“性能”之间的关系。Microkernels（微内核）以性能为代价保证安全。如果你有极小的微内核，那么它将具有相对较小的 API surface，使其难以被攻击。而且当你有一个错误的文件时，驱动程序崩溃而不占用内核，可以无损重启。优越的稳定性！优越的安全性！一切很美好。</p>\n<p>但这种方案的缺点是所有 IPC 永远且不可避免的开销。如果你的程序想从文件加载数据，则必须访问文件系统驱动，这意味着 IPC 要处理进程上下文切换和两次 ring transitions 。然后，文件系统驱动要求内核与硬件通信，这也意味着两次 ring transitions。然后文件系统驱动发送其回复，这意味着又一轮的两次，以及另一次上下文切换。总开销：两次上下文切换，两次 IPC 调用和六次 ring transitions。非常贵！</p>\n<p>宏内核将所有设备驱动合拢到内核中。所以当出现一个错误的图形驱动，就可以占用内核，或者如果它有一个安全漏洞，那么可能被用来危及系统。但是，如果你的程序需要从磁盘加载某些东西，则会调用内核，进行 ring transitions，与硬件通话，计算结果，并返回结果，进行另一个 ring transitions。总开销：两次 ring transitions。便宜得多，也快得多！</p>\n<p>简而言之，微内核是：“放弃性能来提高安全性和稳定性”；宏内核是：“保持性能，只要修复安全和稳定性问题就可以了”。而目前，大家更愿意接受后者。</p></blockquote>\n<p><strong>Scandalousmambo</strong>:</p>\n<blockquote><p>开发一个和 Linux kernel 相同的系统，从本质上决定了它一旦设计出来就会“过时”。</p></blockquote>\n<p><strong>KugelKurt：</strong></p>\n<blockquote><p>尽管这里讨论的大部分内容都是关于微内核与宏内核的关系，但是最近的研究还涉及到编程语言。如果你今天启动一个全新的内核，那么就可能不会用 C 去写。微软的 Singularity 和 Midori 项目探讨了用 C＃托管代码内核的可行性。</p></blockquote>\n<p><strong>Daemonpenguin</strong>：</p>\n<blockquote><p>有一些概念，在理论上可以提供更好的内核设计。比如，理论上微内核也有一些非常好的设计选择，使得它们具有便携性、可靠性和潜在的自我修正能力。</p>\n<p>然而，无论理论多么好，人们总是会根据实际情况进行设计。Linux 内核拥有如此多的硬件支持，那么多公司支持开发，其他内核（不管设计得多炫酷）都不太可能赶得上。</p>\n<p>例如，MINIX 具有良好的设计和一些很棒的功能，但硬件支持很少，几乎没有人为此平台开发。</p>\n<p>……</p></blockquote>\n<p>欢迎大家就此事在下方回复自己的看法。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111023\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111023votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111023\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "Linux kernel 的设计是否已经过时？", "tags": "IT技术,Linux", "url_obj_id": "d795d554428262ad0ade24737336ea63", "create_date": "2017/05/15", "url": "http://blog.jobbole.com/111023/", "bookmark_num": 0, "front_image_path": "full/a0c1bbf258eb5064ea3d6b896485a481525b7f95.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/10/9aeba2223d66a3c6692233694383abce.jpg"]}
{"comment_num": 1, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/unconventional-way-of-learning-a-new-programming-language-e4d1f600342c#.c1mxajs5w\">Sahil Dua</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：以往我们认为学习新编程语言的最佳方式是看语法，然后做小项目练习。Sahil Dua 另辟蹊径，找到了学习新语言的另类方式：参与对应的开源项目。参与的过程中，需要查看已有的模块，了解这种语言的模式，对自己写出高质量的代码非常有益。</p>\n<p>补充：Sahil Dua，创业公司 Refiral 合伙人，DuckDuckGo 开源社区 leader 之一，多个开源项目主要贡献者。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fft52tryq7j20xc0m8grz.jpg\" width=\"600\" height=\"400\"></p>\n<hr>\n<p>目前编程语言超过 500 多种。学习一门新的编程语言对我们来说已是家常便饭。很有可能你熟悉 C++ 和 Java，而你的工作需要用到 Python 或者你非常精通 Python，但你工作写代码需要用 Java 。再或者你想学习一种炫酷的编程语言来拓展你的技能。</p>\n<p><strong>如果你想学习一门新的编程语言，你选择哪种方法？</strong></p>\n<ol>\n<li>网络教程</li>\n<li>网络公开课（MOOC）</li>\n</ol>\n<p>有些人甚至主张，学习新编程语言最好的方法其实如下：</p>\n<ul>\n<li>学习语法；</li>\n<li>创建一些个人项目；</li>\n</ul>\n<p>嗯，说得过去！你想学习一门编程语言，你学了它的语法，创建一些个人小项目可以确保你应用到这些语法知识。</p>\n<p>在学习不同的编程语言时，我创建了 20 个以上的小项目。相信我，当你为一周甚至一整晚就能快速完成的小项目写代码时，你只是想完成任务。你所关心的只是——“我的代码能运行吗？”你几乎不关心代码的质量。</p>\n<blockquote><p>任何傻瓜都可以编写计算机能理解的代码。优秀的程序员写人类能理解的代码。”  —— Martin Fowler</p></blockquote>\n<p>那么，在尝试学习一门新的编程语言时，你怎样获得好的实践呢？</p>\n<h3>参与该语言的开源项目。</h3>\n<p>是不是感到惊讶？一些人或许会认为 —— ”等等，开源是很难的。只有当我们精通这门语言，我们才能为开源项目做出贡献，对吗？“。答案是否定的。</p>\n<p>让我先给你讲个故事。</p>\n<p>去年，我得到了一个来自 Booking.com 的全职工作 offer，而且我得知我工作的编程语言是 Perl （这是他们公司首要的后端语言）。2016 年 6 月，当我完成我的大学学位，我开始学习 Perl ，以便准备我大学后的第一份工作。我入职的时间是 7 月的第二周，因此我差不多有一个多月的学习时间。</p>\n<p>我开始阅读 Perl 的语法，并开始理解该语言的一些常见模式。到这里，我真正想使用 Perl 来创建一些东西，这样我就可以应用我学到的该语言的知识，实践它的各种概念。当我在为使用 Perl 创建一些东西寻找 idea 时，我在 GitHub 上偶遇了 DuckDuckGo 的开源组织。我注意到一些开源项目是用 Perl 语言写的。我浏览了一下发布的 issues，找到了很多带有“初学者”标签的 Issue 。我立即开始工作，并提交了一些 pull requests。快进到今天，我成为了它们一些开源项目的主要贡献者，以及 DuckDuckGo 20 个开源社区的领导者之一。</p>\n<blockquote><p>这个故事的意思：我通过参与 Perl 语言的开源项目最终学会了 Perl 语言。</p></blockquote>\n<h3>为什么参与到开源就奏效了呢？</h3>\n<p>就在我学习了 Perl 的语法后，我开始参与开源项目。在那期间，我常常查看现有的模块。我时常注意 Perl 正被使用的模式。因此我开始挑选这些好的实例应用到我自己的代码中，这有助于我学习怎样用 Perl 更好地写代码。</p>\n<p>这不只是巧合；让我告诉你另一个故事，以获得更多的相关性。</p>\n<p>最近，在 Booking.com 工作时，我接受了一些任务，其中有一个是在 Go 语言写的服务系统上添加一些功能。下面是我和队友的对话：</p>\n<blockquote><p>我：我真的很喜欢这个任务，我想完成它。你怎么看？他：是的，的确很有意思。但是它要用到 Go，你熟悉 Go 吗？<br>\n我：不。<br>\n他：那你想学吗？<br>\n我 : 是的！<br>\n他：😊 你可以的！</p></blockquote>\n<p>所以，那就是我学习另一种编程语言—— Go 的起点！</p>\n<p>我开始学习 Go 的语法，并在其官网上找到了一个很棒的初学者指南，足以让我掌握这门语言的基本概念。</p>\n<p>再一次地，我开始寻找一些发布的 Issue 中带有“初学者”或者“简易修复”标签的 Go 语言开源项目。我通过 Google 找到了一个项目，大致就是 GitHub 的 REST API 包装器。</p>\n<p>在我开始学习 Go 语言的第二天，我在那个项目上发了第一个 pull request。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out aligncenter\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fft2f208b5j214e08qjrn.jpg\"></p>\n<p style=\"text-align: center;\">我去年一整年的贡献图 ( https://github.com/sahildua2305 )</p>\n<h3>开源项目是如何提供帮助的？</h3>\n<p>那么，你现在可能会疑惑参与开源项目怎样可以帮到你获得好的语言实践。有好几个方面，让我们逐个讨论。</p>\n<p><strong>代码质量</strong></p>\n<p>大多数优秀的开源项目都有严格的代码标准，想要你的代码融入其中，你必须遵守这些准则。这会帮助你适应这些准则，因此写出高质量的代码，即使你才刚学习这门语言。</p>\n<p>不仅如此，你还有机会查看代码的其余部分，看看别人是怎么样写代码，写文档的。</p>\n<p><strong>代码审查</strong></p>\n<p>为开源项目做贡献最佳之处就是代码审查（code review）。当 push 你的代码，你得到与该项目相关的专家的反馈，因此它给了你一个提高对这门语言理解的机会。</p>\n<p>你获得了一次如何写处优秀代码的私人机会，并且还免费的呢！</p>\n<p><strong>鼓励和赞赏</strong></p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fft2f2uu3cj212w088js3.jpg\"></p>\n<p style=\"text-align: center;\">这是我在 Go Lang 上发出的第一个 PR 后，别人写下的<a href=\"https://github.com/google/go-github/pull/497\" target=\"_blank\">第一个评论</a>。</p>\n<p>作为软件开发人员，我们的工作确实需要得到理解和鼓励；开源社区能让你得到足够的鼓励和支持。在我为开源贡献的所有经历中，我从未收到过任何侮辱性或消极的评论。每个人都是特别愿给他人鼓励和帮助。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fft2f2xjlaj212w032t8r.jpg\"></p>\n<p style=\"text-align: center;\">DuckDuckGo 社区其他人给我的评论</p>\n<p>所以，下次你想要学一门新语言，大步向前去冒险吧！找到一个开源项目去做贡献，在学习这门语言和它微妙之处的道路上行进。</p>\n<p> </p>\n<p>【伯乐在线补充】：希望作者这个不走传统惯例的方法，对大家有启发。如果你对如何参与开源还不怎么了解，请看 GitHub 的这篇文章《<a href=\"http://blog.jobbole.com/111204/\" target=\"_top\"><span data-rel=\"title\">新人必看的开源指南：如何参与并做贡献</span></a>》。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111244\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111244votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111244\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/8341DCC9FE0583B4AE1889698815B015/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "不按传统套路，我是这样学习新编程语言的", "tags": "开发,学习,开源,程序员", "url_obj_id": "118884f5e6dde8887a27b20d5cacc7f8", "create_date": "2017/05/21", "url": "http://blog.jobbole.com/111244/", "bookmark_num": 4, "front_image_path": "full/c5211d7c4148aff2a5ef1731666ac946c02b5e31.jpg", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fft52tryq7j20xc0m8grz.jpg"]}
{"comment_num": 5, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.bennorthrop.com/Essays/2016/reflections-of-an-old-programmer.php\">Ben Northrop</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/news/84850/reflections-of-an-old-programmer\">开源中国</a>   </div><p>【导读】：Ben Northrop 在 2016 年满了 40 岁，本文是他对职业生涯的思考。他认为从长远来看，应该多投资一些不容易过期、衰竭期较长的知识领域中。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffn0as06qzj20gp0d1tkl.jpg\"></p>\n<p>我是一名程序员，几个月前刚过完 40 岁生日。某个星期六的早晨，我参加了一个 React Native 技术交流会，演讲者正在竭力说服我们为什么它会成为移动开发领域真正的下一个大事件。但对我来说，它有点像 15 年前的 JSP，将所有的逻辑都放在演示代码里面。但我“老”了，我认为这是因为自己还没有完全理解它。</p>\n<p>演讲者展示完 PPT 后，现场进行编码，还展示了大约半打我没听说过的配套工具，这些都让我感到有点沮丧。</p>\n<p>当然，我并不是真的惊讶。在过去 20 年里，我也掌握了一些比较流行的技术，并享受驾驭它们的乐趣。新的东西总能给编程带来一丝激动的体验，并且能让事情变得更容易、更快和更清楚。但是在这个特别的早晨，在40岁的这个门槛上，我不得不承认我感觉有些落伍。我知道如果想跟上节奏，我得继续付出，抛弃一些已经充分吸收的知识，吸收一些新的知识，为下一次旅程做准备。</p>\n<p>我在想，我的编程生涯不像其他的专业人士，医生到了 40 岁不用担心他对血管系统的知识会蒸发，同样的，律师、水管工、会计、英语老师，也是如此。他们积累的知识是相对稳定的，并随着年龄会给予他们相应的尊重和补偿。但是在编程领域，20年的经验，似乎并没有赋予同样的优势。</p>\n<h3>两个概念</h3>\n<p>当然，我们的行业也不是那么糟糕 —— 程序员需要爱上很多东西 —— 有趣的是，无休止的跟进，好像是我们这个领域或多或少独一无二的特点。编程生涯是真的如此不同吗？如果是，为什么？对我们的事业轨迹来说又意味着什么？我想从以下两个观点来尝试回答这些问题。</p>\n<p><strong>第一个是知识衰退</strong>。我们所知道的一切，不仅仅是编程，都有一个有效期，过了这个期限将不再有用。我16岁学会了开车，到现在依然用的很好，这种技能可以认为有一个相对较长的半衰期 。医生的知识会越来越渊博，是因为他学习的每一件事情都是基于他以前的知识。而在编程领域，无论好还是坏，我认为：</p>\n<blockquote><p>程序员所积累的编程知识在十年后将有一半没用。</p></blockquote>\n<p>这可能有些偏激……但起码对我来说，似乎是正确的。如果我在这个期限中不学任何其他的东西，我敢打赌，只有大约一半的知识我可以在 2026 年继续使用（比如长期活着的 SQL ），另一半可能都是没用的（React Native，也许？） 。当然，我会不断获得新的知识来取代要死掉的那些东西，但这足够吗？ 2026 年我会比现在知道更多（有用的）知识吗？</p>\n<p>这也就是带来了<strong>第二个概念，知识积累速度。</strong>在所有领域，必须满足一定的知识门槛才能获得“认证”（或至少可聘用），职业生涯的早期通常都是在努力获取知识。然而，在编程领域，由于知识的快速衰减，似乎我们从来没有真正度过“学生时期”，我们必须永远一直学习。</p>\n<h3>三个阶段</h3>\n<p>如果去记录程序员的知识衰退和积累速度，我认为可能会是这样：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffn00hg72wj20hb0bqjrs.jpg\"></p>\n<p>在职业生涯的开始，可以称之为热切的学徒阶段，积累知识比较容易。一切都是新的，每个经验都是获得更多知识的工具。而且，由于年轻，我们不会有太多的义务，所以可能不介意花几个晚上和周末拿起新的语言和框架。重要的是，雇主对我们的期望值也比较低，我们可以在工作期间抠出一点时间来填补知识。这是一个有趣的阶段，连自己都没意识到自己有多坚持。</p>\n<p>然后，我们不再是新手，成为了自给自足的开发者。我们在学习中的投资已经得到回报，所知道的一切全部有用。在这个充满知识的阶段，我们开始赢得客户、同行和管理者的尊重，获得头衔、薪水和机会。虽然我们当时不一定看得出来，但这也是一个重要的转折点。</p>\n<p>两件事情发生了。首先，“高级”的晋升不仅仅是金钱，而是更多的期待。雇主需要他们的“明星程序员”成为领导者 – 帮助初级开发人员，审查代码，执行访谈，参加更多会议，帮助他们维护、构建复杂的旧版软件。这一切都很合理，但它巧妙地牺牲了我们的知识积累速度，我们不再有时间去读一些科技博客、文章。第二，这时候，我们首次体会到（或至少认识到）一点点知识的朽烂，早期学到的一些东西开始过时了。</p>\n<p>随后，我们进入第三个，也是最后一个阶段，衰落和流失。是的，我们是知识渊博和富有成就的，但我们也明白，事实上知道的已经比最初阶段更少（有用的）东西。我们可能没有时间积累足够的新知识来填补，这是令人沮丧的。我认为这就是为什么，在这时候，许多人开始转向 – 管理、销售、测试或农业（我的梦想）。我们意识到需要再次努力来保持我们的水平和熟练度 – 不然的话，我们的工作会在5年后比现在更糟。</p>\n<h3>两个方向</h3>\n<p>我正处于第三阶段。我还是很喜欢学习，但我明白，不努力的话，我可能会一直保持在“专家”的平衡状态边缘。</p>\n<p>首先，我尝试采取长远的观点。不要过度榨取自己，要尽可能的取得获得新经验的机会。我看到不少同事虽然获得了丰厚的薪酬，但职业很少有机会接触新兴事物。再过五年，他们会意识到他们的宝贵知识已经蒸发，薪酬与实际价值相去甚远。在某些情况下，我认为短期内赚更少的钱（有更好的雇主）会在长期的职业生涯中产生更多的钱（和稳定）。</p>\n<p>第二，考虑到时间有限，我试图去学习那些耐用的知识。也就是说，把精力投入在那些有更长的衰减期的知识上，比如，算法逻辑、应用安全、性能优化和架构。</p>\n<p>最后，很乐意听到大家的想法！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111182\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111182votetotal\">5</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111182\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 13 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 5, "title": "一名 40 岁“老”程序员的反思", "tags": "职场,程序员,职场", "url_obj_id": "8df5bb7e4280a3b3c671d801e0bafdfd", "create_date": "2017/05/16", "url": "http://blog.jobbole.com/111182/", "bookmark_num": 13, "front_image_path": "full/3a9b3ac14a7d164c4fac1f8dd02ad33fe714e281.jpg", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1ffn0as06qzj20gp0d1tkl.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>今天是 Google I/O 2017 大会第一日。一觉醒来，发现 Kotlin 成为了 Android 的官方开发语言。谷歌安卓团队今天宣布对 Kotlin 提供 first-class 的支持。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffprvu5jnvj20sg0edqj7.jpg\" width=\"553\" height=\"279\"></p>\n<p>马后炮一下，谷歌在和甲骨文 Java 版权官司之后，必然要做的调整之一就是改语言。</p>\n<h3>关于 Kotlin，先了解这些</h3>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 是一个基于 JVM 的新编程语言，用 JetBrains 的话来说是「更现代化、更强大」的语言。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 由 JetBrains 在 2010 年开发，2011 年开源了： https://github.com/JetBrains/kotlin  。2016 年发布 1.0 版，2017 年 4 月发布 1.1.2 版。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>谷歌安卓团队和 JetBrains 的关系不一般。Android Studio 就是基于 JetBrains 开发的 IntelliJ IDEA 社区版；</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>谷歌和 JetBrains 将为 Kotlin 成立一个非盈利基金会。Kotlin 语言的开发，还是 JB 为主导。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 语言的开发团队，目前大约 40 人。会继续往常那样运作。Andrey Breslav 还是 Kotlin 语言的首席设计师。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>JetBrains 对 Kotlin 的愿景是：用同一种语言，桥接多平台的不同应用的端对端开发。包括全栈 Web 应用、Android 和 iOS 客户端、嵌入式/物联网等等。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 与 Java 100% 互通，并具备诸多 Java 尚不支持的新特性。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Android Studio 3.0 预览版已支持 Kotlin。下载 AS 3.0 预览版后，打开现有的 Java 文件，在「Code」菜单中选择「Convert Java File to Kotlin File」。AS 会添加 Kotlin 依赖，然后把 Java 代码转成同等功能的 Kotlin 代码。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 易于上手，可以逐步引入到现有项目中。这意味着安卓开发者目前现有的技能和技术积累/投资并没有浪费。</li>\n</ul>\n<p><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffprvzlsf7j215o0k00sy.jpg\" width=\"555\" height=\"266\"></p>\n<h3>国内开发者讨论</h3>\n<p>@平常中的光辉：</p>\n<blockquote><p>安卓也有了自己的开发语言，就像苹果的object-c，一个来自java，一个来自c，两种流派的竞争，java面向对象，c面向过程,java诞生在电子消费产品和互联网应用，c诞生在单片机</p></blockquote>\n<p>@练习恶魔</p>\n<blockquote><p>听说Kotlin可以开发安卓了，赶紧看了一眼语言特性。发现这货就是个JVM上的C# 啊。。然后放心的去干别的了</p></blockquote>\n<p>@安徽农民</p>\n<blockquote><p>看了Kotlin的语法，怎么赶紧与Swift简直是兄弟俩啊，风格太接近了，特别是用？表示可能为null的情形。这俩谁先谁后啊？</p></blockquote>\n<p>@sunnyxibei</p>\n<blockquote><p>今年的IO并没有太多的闪光点，最棒的就是对kotlin的官方“认证”了 ，成为官方“钦定”的开发语言，一场IO大会下来，jetBrains或是最大赢家</p></blockquote>\n<p>@BroncoTc:</p>\n<blockquote><p>jvm语言那么多，为啥就是kotkin？</p></blockquote>\n<p>@据悉社:</p>\n<blockquote><p>因为Kotlin学习的curve最小，它就是Java本来应该的样子，你几乎可以把它当C井直接用（逃。而现在的Java是Java一系列错误设计决定之后失败的样子。。。</p></blockquote>\n<p>@二蒙：</p>\n<blockquote><p>以前以为Google会放弃安卓，没想到是安卓放弃了Java 。真的很鄙视Oracle，默默为SUN 点根蜡烛</p></blockquote>\n<p>@老赵：</p>\n<blockquote><p>JB不愧是世上第一的IDE开发商（两个第一，五个前三，十个前五）</p></blockquote>\n<h3>Kotlin 学习资源</h3>\n<ul class=\"list-paddingleft-2\">\n<li>Try Kotlin：http://try.kotlinlang.org/</li>\n<li>Getting Started Guide：https://kotlinlang.org/docs/tutorials/getting-started.html</li>\n</ul>\n<p><strong>参考</strong></p>\n<p>JetBrains、微博、Verturebeta、cnBeta</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111024\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111024votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111024\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 238</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "大事件：Kotlin 成了 Android 开发的官方语言", "tags": "开发,Kotlin,安卓开发", "url_obj_id": "b64db56ac3ac38d9f64dea7bd872d7f9", "create_date": "2017/05/18", "url": "http://blog.jobbole.com/111024/", "bookmark_num": 3, "front_image_path": "full/70a26ac7d36e9a80368f97ef3948b78809073482.jpg", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffprvu5jnvj20sg0edqj7.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.ybrikman.com/writing/2014/04/09/six-programming-paradigms-that-will/\">ybrikman</a>   译文出处：<a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/890965\">开源中国/局长</a>   </div><p>每时每刻我都在琢磨一种编程语言所做的一些与众不同的事情，这改变了我对编程的思考。在这篇文章中，我想分享一些我最喜欢的发现。</p>\n<p>这不是那种“函数式编程将改变世界”的博客文章：这篇文章的内容会更加深奥。我敢打赌大多数读者都没有听过下面的编程语言和范型，所以我希望你像我一样有很大的兴趣来学习这些新概念。</p>\n<p>注意：对于下面的大多数语言我拥有的经验很少：我只是发现它们背后的思想十分有魅力，但对于它们我没有任何专业知识，所以有任何更正和错误请指出。另外，如果你发现这里存在没有提到的任何新的范型和想法，欢迎把它们分享出来。</p>\n<p><em>更新：这篇文章上了 <a href=\"http://www.reddit.com/r/programming/comments/22nhb2/six_programming_paradigms_that_will_change_how/\" target=\"_blank\" rel=\"nofollow\">r/programming</a> 和 <a href=\"https://news.ycombinator.com/item?id=7565153\" target=\"_blank\" rel=\"nofollow\">HN</a> 的首页。感谢反馈，我已经添加了一些修正。</em></p>\n<h3><strong>默认支持并发（Concurrent by default）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/893809b18796c9cecaac388d73d8fc08.jpg\" alt=\"\" width=\"512\" height=\"416\"></p>\n<p>示例语言：<a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a>, <a href=\"http://www.cs.cmu.edu/~aldrich/plaid/\" target=\"_blank\" rel=\"nofollow\">Plaid</a></p>\n<p>让我们先从改变思维方式开始吧：有一些编程语言默认情况下就是支持并发的。也就是说，每行代码都是并行执行的。</p>\n<p>例如，假设你写了三行代码 A，B 和 C：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198ca1103074603\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nA;\r\nB;\r\nC;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198ca1103074603-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198ca1103074603-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198ca1103074603-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198ca1103074603-1\"><span class=\"crayon-v\">A</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198ca1103074603-2\"><span class=\"crayon-v\">B</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5926843198ca1103074603-3\"><span class=\"crayon-v\">C</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>在大多数编程语言中，A 会先执行，然后执行 B，最后执行 C。但在像 <a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a> 这样的语言中，A, B, 和 C 都将同时执行。</p>\n<p><a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a> 语言中代码行之间的控制流或排序只是代码行之间显式依赖的副作用。例如，如果 B 具有对 A 中定义的变量的引用，则 A 和 C 将同时执行，并且 B 将在 A 完成之后执行。</p>\n<p>来看一下 ANI 中的一个例子。如<a href=\"https://code.google.com/p/anic/wiki/Tutorial\" target=\"_blank\" rel=\"nofollow\">教程</a>中所述，ANI 程序由用于操作流和数据流的“管道”和“锁存器”组成。这种非同一般的语法很难解析，而且这门语言似乎已经死了，不过这些概念还是非常有趣的。</p>\n<p>这是 ANI 中的“Hello World”示例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198caa287753421\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"Hello, World!\" -&gt;std.out</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198caa287753421-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198caa287753421-1\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>在 ANI 语法中，我们将 <code>\"Hello, World!\"</code> 对象（一个字符串）发送到 <code>std.out</code> 流。如果我们发送另一个字符串到 <code>std.out</code> 会怎么样？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cae597377005\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"Hello, World!\" -&gt;std.out\r\n\"Goodbye, World!\" -&gt;std.out</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cae597377005-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cae597377005-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cae597377005-1\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">out</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cae597377005-2\"><span class=\"crayon-s\">\"Goodbye, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>这两行代码并行执行，所以它们可能在控制台以任何顺序结束。现在，看看当我们某行代码中引入一个变量并在之后引用会发生什么情况：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cb2126436934\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ns = [string];\r\n\"Hello, World!\" -&gt;s;\r\ns -&gt;std.out;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cb2126436934-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cb2126436934-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cb2126436934-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cb2126436934-1\"><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cb2126436934-2\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cb2126436934-3\"><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>第一行声明了一个名为 <code>s</code> 的 “锁存器”（锁存器有一点像变量），其中包含一个字符串；第二行将 <code>\"Hello, World!\"</code> 发送到 <code>s</code>，第三行“解锁” <code>s</code> 并将内容发送到 <code>std.out</code>。因此，可以看到 ANI 的隐形程序排序：由于每一行的运行都取决于前一行，因此这里的代码将会按照编写的顺序执行。</p>\n<p><a href=\"http://www.cs.cmu.edu/~aldrich/plaid/\" target=\"_blank\" rel=\"nofollow\">Plaid 语言</a>也声称默认情况下支持并发，但使用的是<a href=\"http://www.cs.cmu.edu/~aldrich/papers/onward2009-concurrency.pdf\" target=\"_blank\" rel=\"nofollow\">这篇论文</a>中所描述的一种权限模型来构建控制流。Plaid 还探索了其他有趣的概念，例如 <a href=\"http://www.cs.cmu.edu/~aldrich/papers/onward2009-state.pdf\" target=\"_blank\" rel=\"nofollow\">Typestate-Oriented Programming</a>（面向类型状态编程），其中状态更改成为语言的重要因素：你定义的对象不再是作为类，而是可以由编译器检查的一系列状态和转换。看起来这十分有趣，正如 Rich Hickey 的 <a href=\"http://www.infoq.com/presentations/Are-We-There-Yet-Rich-Hickey\" target=\"_blank\" rel=\"nofollow\">Are we there yet</a> 讲话中所讨论的将时间作为语言结构的首要因素。</p>\n<p>Multicore 正处在上升期，并发性仍然比大多数语言更难。ANI 和 Plaid 对于这个可能产生惊人的性能提升的问题提供了一个新的思路；不过问题是“默认支持并行”是否让并发更容易或难以管理。</p>\n<p><em>更新：上面的描述讲解了 ANI 和 Plaid 的基本本质，但我互换地使用了术语“并发”和“并行”，事实上它们具有不同的含义。有关更多信息，请参阅 <a href=\"http://vimeo.com/49718712\" target=\"_blank\" rel=\"nofollow\">Concurrency Is Not Parallelism</a> （并发不是并行）这篇文章。</em></p>\n<p> </p>\n<h3><strong>依赖类型（Dependent types）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/aca78d9187e2083ce110a8992ca12f83.png\" alt=\"\" width=\"384\" height=\"108\"></p>\n<p>示例语言：<a href=\"http://www.idris-lang.org/\" target=\"_blank\" rel=\"nofollow\">Idris</a>, <a href=\"http://wiki.portal.chalmers.se/agda/pmwiki.php\" target=\"_blank\" rel=\"nofollow\">Agda</a>, <a href=\"http://en.wikipedia.org/wiki/Coq\" target=\"_blank\" rel=\"nofollow\">Coq</a></p>\n<p>你可能已经习惯 C 和 Java 等语言的类型系统，编译器可以检查一个变量是整数、列表还是字符串。但如果你的编译器可以检查变量是“正整数”、“长度为 2  的列表”，还是“一个回文字符串”，那又会怎么样呢？</p>\n<p>这是支持<a href=\"http://en.wikipedia.org/wiki/Dependent_type\" target=\"_blank\" rel=\"nofollow\">依赖类型</a>的语言背后的思想：你可以在编译时指定检查变量值的类型。Scala 的 <a href=\"https://github.com/milessabin/shapeless\" target=\"_blank\" rel=\"nofollow\">shapeless 库</a>增加了对 Scala 依赖类型的部分实验支持（尚未正式支持），并提供了简单的方法来查看示例。</p>\n<p>这里是如何声明一个 <code>Vector</code> 的代码，其中使用了 shapeless 库，包含值 1，2，3：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cb7081830128\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cb7081830128-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cb7081830128-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这里创建了一个变量 <code>l1</code>，它的类型签名不仅指定它是一个包含 <code>Ints</code> 的 <code>Vector</code>，而且还指定它是一个长度为 3 的 <code>Vector</code>。编译器可以使用此信息来捕获错误。让我们使用 <code>Vector</code> 中的 <code>vAdd</code> 方法来执行两个 <code>Vectors</code>之间的成对加法（pairwise addition）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cbb591980115\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil\r\nval l2 = 1 :#: 2 :#: 3 :#: VNil\r\n \r\nval l3 = l1 vAdd l2\r\n \r\n// Result: l3 = 2 :#: 4 :#: 6 :#: VNil</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cbb591980115-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbb591980115-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cbb591980115-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbb591980115-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cbb591980115-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbb591980115-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cbb591980115-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbb591980115-2\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cbb591980115-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbb591980115-4\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">l1 </span><span class=\"crayon-e\">vAdd </span><span class=\"crayon-v\">l2</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cbb591980115-5\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbb591980115-6\"><span class=\"crayon-c\">// Result: l3 = 2 :#: 4 :#: 6 :#: VNil</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>上面的例子正常运行，因为类型系统知道两个 <code>Vectors</code> 的长度都为 3。然而，如果我们尝试 <code>vAdd</code> 两个长度不同的 <code>Vectors</code>，我们会在编译时得到一个错误，而不必等到运行时。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cbf495016671\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil\r\nval l2 = 1 :#: 2 :#: VNil\r\n \r\nval l3 = l1 vAdd l2\r\n \r\n// Result: a *compile* error because you can't pairwise add vectors \r\n// of different lengths!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cbf495016671-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbf495016671-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cbf495016671-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbf495016671-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cbf495016671-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cbf495016671-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cbf495016671-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cbf495016671-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbf495016671-2\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: VNil</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cbf495016671-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbf495016671-4\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">l1 </span><span class=\"crayon-e\">vAdd </span><span class=\"crayon-v\">l2</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cbf495016671-5\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cbf495016671-6\"><span class=\"crayon-c\">// Result: a *compile* error because you can't pairwise add vectors </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cbf495016671-7\"><span class=\"crayon-c\">// of different lengths!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>Shapeless 是一个了不起的库，但就我所看到的，它仍然有点粗糙，只支持依赖类型的一个子集，并导致生成相当详细的代码和类型签名。另一方面，<a href=\"http://www.idris-lang.org/\" target=\"_blank\" rel=\"nofollow\">Idris</a> 使类型成为编程语言的首要成员，因此它的依赖类型系统看起来更强大和更干净。为了比较，请查看演讲 — <a href=\"http://www.infoq.com/presentations/scala-idris\" target=\"_blank\" rel=\"nofollow\">Scala vs Idris: Dependent Types, Now and in the Future</a> 。</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Formal_verification\" target=\"_blank\" rel=\"nofollow\">形式化验证方法</a>已经存在很长一段时间了，但大多数情况下都十分麻烦，无法用于通用编程。依赖类型在像 Idris 这样的语言中，甚至在未来的 Scala 中，可能会提供更轻量的和更实用的替代方案，这仍然能大大提高类型系统提供捕获错误的能力。当然，没有类型系统可以捕获所有的错误，由于终止（halting）问题的固有局限性，但如果做得好，依赖类型可能是静态类型系统下一个大的飞跃。</p>\n<p> </p>\n<h3><strong>Concatenative 语言</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/10c2374341c05901cc095e52c66d3e51.jpg\" alt=\"\" width=\"160\" height=\"108\"></p>\n<p>示例语言：<a href=\"http://www.forth.com/forth/\" target=\"_blank\" rel=\"nofollow\">Forth</a>, <a href=\"http://www.cat-language.com/\" target=\"_blank\" rel=\"nofollow\">cat</a>, <a href=\"http://c2.com/cgi/wiki?JoyLanguage\" target=\"_blank\" rel=\"nofollow\">joy</a></p>\n<p>有没有想过在没有变量和函数应用的情况下编程是一种怎样的体验？没有？我也没试过。但显然有些人做了，他们提出了 <a href=\"http://en.wikipedia.org/wiki/Concatenative_programming_language\" rel=\"nofollow\">concatenative 编程</a>这个概念。这个概念背后的思想是语言中的所有内容都是一个函数，用于将数据推送到堆栈或从堆栈弹出数据；程序几乎完全通过功能组合来构建（<a href=\"http://concatenative.org/wiki/view/Concatenative%20language/Concatenation%20is%20composition\" rel=\"nofollow\">concatenation is composition</a>）。简单的说即是基于堆栈的编程语言。</p>\n<p>这听起来很抽象，所以让我们来看一个简单的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cc4033284271\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n2 3 +</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cc4033284271-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cc4033284271-1\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>在这里，我们将两个数字推到堆栈上，然后调用 <code>+</code> 函数，它将两个数字从堆栈中弹出，并将结果添加到堆栈中：代码的输出是 5。这里有一个更有趣的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cc7730092606\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef foo {\r\n  10 &lt;\r\n  [ 0 ]\r\n  [ 42 ]\r\n  if\r\n}\r\n \r\n20\r\nfoo</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cc7730092606-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cc7730092606-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cc7730092606-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cc7730092606-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cc7730092606-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cc7730092606-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cc7730092606-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cc7730092606-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cc7730092606-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cc7730092606-1\"><span class=\"crayon-e\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">foo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cc7730092606-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cc7730092606-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cc7730092606-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cc7730092606-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cc7730092606-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cc7730092606-7\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cc7730092606-8\"><span class=\"crayon-cn\">20</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cc7730092606-9\"><span class=\"crayon-v\">foo</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>我们来一行一行看这段代码：</p>\n<ol>\n<li>首先，我们声明一个函数 <code>foo</code>。请注意，cat 中的函数不指定输入参数：所有参数从堆栈中隐式读取。</li>\n<li><code>foo</code> 调用 &lt;<code> 函数，它会弹出堆栈中的第一个选项，将其与 10 进行比较，并将 <code>True</code> 或 <code>False</code> 返回到堆栈。</code></li>\n<li>接下来，我们将值 0 和 42 推到堆栈上：我们将它们放在括号中，以确保它们被压入未被评估的堆栈。这是因为它们将被用作“then”和“else”分支（分别）用于调用下一行的 <code>if</code> 函数。</li>\n<li><code>if</code> 函数从堆栈中弹出 3 个选项：布尔条件，“then”分支和“else”分支。根据布尔条件的值，它会将“then”或“else”分支的结果推回堆栈。</li>\n<li>最后，我们将 20 推到堆栈并调用 <code>foo</code> 函数。</li>\n<li>当所有都完成了，我们最终会得到数字 42。</li>\n</ol>\n<p>有关这种语言更详细的介绍，请参阅 <a href=\"http://www.codecommit.com/blog/cat/the-joy-of-concatenative-languages-part-1\" target=\"_blank\" rel=\"nofollow\">The Joy of Concatenative Languages</a>。</p>\n<p>这种编程风格有一些有趣的属性：</p>\n<ul>\n<li>程序可通过无数的方式来分割和连接，以创建新的程序；</li>\n<li>极简的语法（甚至比 LISP 还小）产生了非常简洁的程序；</li>\n<li>强大的元编程支持</li>\n</ul>\n<p>我发现 concatenative 编程是一个非常开眼界的体验，但我还没实践过。似乎你必须记住或想象堆栈的当前状态，而不是能够从代码中的变量名读取它，这可能使得很难理解代码。</p>\n<p> </p>\n<h3><strong>声明式编程（Declarative programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7fe4a9d22babfc1db6d8f7eed34e0119.png\" alt=\"\" width=\"400\" height=\"400\"></p>\n<p>示例语言：<a href=\"http://en.wikipedia.org/wiki/Prolog\" target=\"_blank\" rel=\"nofollow\">Prolog</a>, <a href=\"http://en.wikipedia.org/wiki/SQL\" target=\"_blank\" rel=\"nofollow\">SQL</a></p>\n<p><a href=\"http://en.wikipedia.org/wiki/Declarative_programming\" target=\"_blank\" rel=\"nofollow\">声明式编程</a>已经存在了很多年，但大多数程序员仍不知道它是一个怎样的概念。简要来说：在大多数主流语言中，你是在描述如何解决特定的问题；在声明式语言中，你只需描述所需的结果，语言本身可推导出结果。</p>\n<p>例如，如果你在 C 语言中从头开始编写排序算法，你会编写合并排序的说明，逐步描述如何递归地将数据集分为两部分并按顺序将其合并到一起：<a href=\"http://www.cs.cityu.edu.hk/~lwang/ccs4335/mergesort.c\" target=\"_blank\" rel=\"nofollow\">这里是一个例子</a>。如果使用声明式语言如 <a href=\"http://en.wikipedia.org/wiki/Prolog\" target=\"_blank\" rel=\"nofollow\">Prolog</a> 对数字进行排序，可以直接描述你需要的输出：“我想要相同的值列表，但索引 <code>i</code> 中的每个项目应小于或等于索引 <code>i + 1</code> 中的项目”。将上面 C 语言的解决方案和 Prolog 代码进行比较：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198ccd809859538\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsort_list(Input, Output) :-\r\n  permutation(Input, Output),\r\n  check_order(Output).\r\n  \r\ncheck_order([]).\r\ncheck_order([Head]).\r\ncheck_order([First, Second | Tail]) :-\r\n  First =&lt; Second,\r\n  check_order([Second | Tail]).</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198ccd809859538-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198ccd809859538-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198ccd809859538-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198ccd809859538-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198ccd809859538-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198ccd809859538-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926843198ccd809859538-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198ccd809859538-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926843198ccd809859538-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198ccd809859538-1\"><span class=\"crayon-e\">sort_list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Input</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198ccd809859538-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">permutation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Input</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198ccd809859538-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198ccd809859538-4\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5926843198ccd809859538-5\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198ccd809859538-6\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Head</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5926843198ccd809859538-7\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">First</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Second</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198ccd809859538-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">First</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Second</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198ccd809859538-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Second</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>如果你使用过 SQL，那么你已经使用了声明式编程，可能自己没有意识到这一点：当你发出一个像 <code>select X from Y where Z</code> 这样的查询，你就是在描述你想要返回的数据集；数据库引擎的工作实际上是如何执行查询。你可以在大多数数据库中使用 explain 命令来查看执行计划并弄清楚在引擎下发生了什么。</p>\n<p>声明式语言的优点在于它允许你在更高层次的抽象下工作：你的任务就是描述所需输出的规范。例如，在 <a href=\"http://www.ybrikman.com/writing/2012/02/16/seven-languages-in-seven-weeks-prolog_16/\" target=\"_blank\" rel=\"nofollow\">Prolog 语言实现的一个简单数独解算器</a>中只列出了一个数独谜题的答案的每行、列和对角线应该是怎样的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cd1496087361\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudoku(Puzzle, Solution) :-\r\n  Solution = Puzzle,\r\n  \r\n  Puzzle = [S11, S12, S13, S14,\r\n            S21, S22, S23, S24,\r\n            S31, S32, S33, S34,\r\n            S41, S42, S43, S44],\r\n  \r\n  fd_domain(Solution, 1, 4),\r\n  \r\n  Row1 = [S11, S12, S13, S14],\r\n  Row2 = [S21, S22, S23, S24],\r\n  Row3 = [S31, S32, S33, S34],\r\n  Row4 = [S41, S42, S43, S44],      \r\n  \r\n  Col1 = [S11, S21, S31, S41],\r\n  Col2 = [S12, S22, S32, S42],\r\n  Col3 = [S13, S23, S33, S43],\r\n  Col4 = [S14, S24, S34, S44],      \r\n  \r\n  Square1 = [S11, S12, S21, S22],\r\n  Square2 = [S13, S14, S23, S24],\r\n  Square3 = [S31, S32, S41, S42],\r\n  Square4 = [S33, S34, S43, S44],      \r\n  \r\n  valid([Row1, Row2, Row3, Row4,\r\n         Col1, Col2, Col3, Col4,\r\n         Square1, Square2, Square3, Square4]).\r\n \r\nvalid([]).\r\nvalid([Head | Tail]) :- fd_all_different(Head), valid(Tail).</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd1496087361-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd1496087361-31\">31</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-1\"><span class=\"crayon-e\">sudoku</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-3\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-5\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-6\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-7\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-8\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">fd_domain</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-10\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-13\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-15\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-16\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-17\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-18\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-19\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-20\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-21\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-22\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-23\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-24\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-25\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-26\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Row1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row4</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-27\"><span class=\"crayon-h\">         </span><span class=\"crayon-v\">Col1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col4</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-28\"><span class=\"crayon-h\">         </span><span class=\"crayon-v\">Square1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square4</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-29\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd1496087361-30\"><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd1496087361-31\"><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Head</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fd_all_different</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Head</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0072 seconds] -->\r\n<p>下面是如何运行上面的数独解算器：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926843198cd6058408987\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n| ?- sudoku([_, _, 2, 3,\r\n             _, _, _, _,\r\n             _, _, _, _,\r\n             3, 4, _, _],\r\n             Solution).\r\n \r\n \r\nS = [4,1,2,3,2,3,4,1,1,2,3,4,3,4,1,2]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926843198cd6058408987-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd6058408987-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd6058408987-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd6058408987-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd6058408987-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd6058408987-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926843198cd6058408987-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926843198cd6058408987-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926843198cd6058408987-1\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">?</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudoku</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd6058408987-2\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd6058408987-3\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd6058408987-4\"><span class=\"crayon-h\">             </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd6058408987-5\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd6058408987-6\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5926843198cd6058408987-7\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926843198cd6058408987-8\"><span class=\"crayon-v\">S</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p>不幸的是，声明式编程语言的缺点是性能开销大。上面提到的排序算法时间复杂度可能是 <code>O(n!)</code>；数独解算器使用暴力搜索；而且大多数开发人员不得不提供数据库提示和额外的索引，以避免执行 SQL 查询时开销大且效率低的计划。</p>\n<p> </p>\n<h3><strong>符号式编程（Symbolic programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/dc5631032a4b6e0925aa2289c5f6ff4e.png\" alt=\"\" width=\"303\" height=\"235\"></p>\n<p>示例语言：<a href=\"https://www.youtube.com/watch?v=L6iUm_Cqx2s\" target=\"_blank\" rel=\"nofollow\">Aurora</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=L6iUm_Cqx2s\" target=\"_blank\" rel=\"nofollow\">Aurora</a> 语言是<a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" target=\"_blank\" rel=\"nofollow\">符号式编程</a>的一个例子：使用这些语言编写的“代码”不仅可以包含纯文本，还可以包括图像、数学方程、图和图表等。你可以以该数据的原生格式来操作和描述各种大量的数据，而不是全部以文本形式描述。Aurora 也是完全可交互的，它会立即显示每行代码的结果，像 steroids 中的 REPL。</p>\n<p>Aurora 语言由 <a href=\"http://www.chris-granger.com/\" target=\"_blank\" rel=\"nofollow\">Chris Granger</a> 创建，它还构建了 <a href=\"http://www.lighttable.com/\" target=\"_blank\" rel=\"nofollow\">Light Table IDE</a>。Chris 在它的文章 <a href=\"http://www.chris-granger.com/2014/03/27/toward-a-better-programming/\" target=\"_blank\" rel=\"nofollow\">Toward a better programming</a>（为了更好地编程）中概述了创建 Aurora 的动机：一些目标是使编程更直观、直接和减少偶然的复杂性。要了解更多的信息，观看 <a href=\"http://worrydream.com/\" target=\"_blank\" rel=\"nofollow\">Bret Victor 的</a>演讲：<a href=\"http://vimeo.com/36579366\" target=\"_blank\" rel=\"nofollow\">Inventing on Principle</a>, <a href=\"http://vimeo.com/67076984\" target=\"_blank\" rel=\"nofollow\">Media for Thinking the Unthinkable</a>, 和 <a href=\"http://worrydream.com/#!/LearnableProgramming\" target=\"_blank\" rel=\"nofollow\">Learnable Programming</a>。</p>\n<p><em>更新：“符号式编程”可能不太适合用于描述 Aurora。有关更多信息，请参阅 <a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" target=\"_blank\" rel=\"nofollow\">Symbolic programming</a> 的维基主页。</em></p>\n<p> </p>\n<h3><strong>基于知识的编程（Knowledge-based programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/53fe167d21d19ac5536159d2a6ef234f.png\" alt=\"\" width=\"500\" height=\"136\"></p>\n<p>示例：<a href=\"https://www.wolfram.com/language/\" target=\"_blank\" rel=\"nofollow\">Wolfram Language</a></p>\n<p>很像上面提到的 Aurora 语言，<a href=\"https://www.wolfram.com/language/\" target=\"_blank\" rel=\"nofollow\">Wolfram 语言</a>也是基于符号的编程。然而，符号层仅仅是为 Wolfram 语言的核心提供一致的接口，Wolfram 语言是基于知识的编程语言：内置了大量的库、算法和数据。这使得可以轻松地从图形化的 Facebook 连接，到操纵图像、查找天气、处理自然语言查询、绘制地图上的方向、求解数学方式等方面做好一切。</p>\n<p>我猜想 Wolfram 语言有最大的“标准库”和任何现有语言的数据集。对于 Internet connectivity 是编写代码的固有功能，我也感到十分兴奋：它几乎像一个 IDE，其中的自动完成功能进行谷歌搜索。看符号式编程模型是否像 Wolfram 所说的那样灵活并真正利用所有这些数据，这将是非常有趣的。</p>\n<p><em>更新：尽管 Wolfram 声称 Wolfram 语言支持“符号式编程”和“知识编程”，但这些术语的定义有所不同，有关更详细的信息请参阅 <a href=\"http://en.wikipedia.org/wiki/Knowledge_level\" rel=\"nofollow\">Knowledge level</a> 和 <a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" rel=\"nofollow\">Symbolic Programming</a> 的维基主页。</em></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111165\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111165votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111165\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "6 个编程范型将改变你对编程的看法", "tags": "开发,编程", "url_obj_id": "bc41ccf93755b05f04046b5f0ef8c8f2", "create_date": "2017/05/13", "url": "http://blog.jobbole.com/111165/", "bookmark_num": 2, "front_image_path": "full/378869acdf1423acc6fcf04b341a00c25e7fb117.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/893809b18796c9cecaac388d73d8fc08.jpg"]}
{"comment_num": 2, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://medium.com/@bartobri/applying-the-linus-tarvolds-good-taste-coding-requirement-99749f37684a\">Brian Barto</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8498-1.html\">Linux中国</a>   </div><p>在<a href=\"https://www.ted.com/talks/linus_torvalds_the_mind_behind_linux\">最近关于 Linus Torvalds 的一个采访中</a>，这位 Linux 的创始人，在采访过程中大约 14:20 的时候，提及了关于代码的 “good taste”。good taste？采访者请他展示更多的细节，于是，Linus Torvalds 展示了一张提前准备好的插图。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffjtjwjg02j20m80ci0tz.jpg\"></p>\n<p>他展示的是一个代码片段。但这段代码并没有 “good taste”。这是一个具有 “poor taste” 的代码片段，把它作为例子，以提供一些初步的比较。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e22500d419de9fe5192d222fef980a51.png\" alt=\"Poor Taste Code Example\"></p>\n<p>这是一个用 C 写的函数，作用是删除链表中的一个对象，它包含有 10 行代码。</p>\n<p>他把注意力集中在底部的 <code>if</code> 语句。正是这个 <code>if</code> 语句受到他的批判。</p>\n<p>我暂停了这段视频，开始研究幻灯片。我发现我最近有写过和这很像的代码。Linus 不就是在说我的代码品味很差吗？我放下自傲，继续观看视频。</p>\n<p>随后， Linus 向观众解释，正如我们所知道的，当从链表中删除一个对象时，需要考虑两种可能的情况。当所需删除的对象位于链表的表头时，删除过程和位于链表中间的情况不同。这就是这个 <code>if</code> 语句具有 “poor taste” 的原因。</p>\n<p>但既然他承认考虑这两种不同的情况是必要的，那为什么像上面那样写如此糟糕呢？</p>\n<p>接下来，他又向观众展示了第二张幻灯片。这个幻灯片展示的是实现同样功能的一个函数，但这段代码具有 “goog taste”　。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e7c9836afc370ab34c38a7f9fe10d051.png\" alt=\"Good Taste Code Example\"></p>\n<p>原先的 10 行代码现在减少为 4 行。</p>\n<p>但代码的行数并不重要，关键是 <code>if</code> 语句，它不见了，因为不再需要了。代码已经被重构，所以，不用管对象在列表中的位置，都可以运用同样的操作把它删除。</p>\n<p>Linus 解释了一下新的代码，它消除了边缘情况，就是这样。然后采访转入了下一个话题。</p>\n<p>我琢磨了一会这段代码。 Linus 是对的，的确，第二个函数更好。如果这是一个确定代码具有 “good taste” 还是 “bad taste” 的测试，那么很遗憾，我失败了。我从未想到过有可能能够去除条件语句。我写过不止一次这样的 <code>if</code> 语句，因为我经常使用链表。</p>\n<p>这个例子的意义，不仅仅是教给了我们一个从链表中删除对象的更好方法，而是启发了我们去思考自己写的代码。你通过程序实现的一个简单算法，可能还有改进的空间，只是你从来没有考虑过。</p>\n<p>以这种方式，我回去审查最近正在做的项目的代码。也许是一个巧合，刚好也是用 C 写的。</p>\n<p>我尽最大的能力去审查代码，“good taste” 的一个基本要求是关于边缘情况的消除方法，通常我们会使用条件语句来消除边缘情况。你的测试使用的条件语句越少，你的代码就会有更好的 “taste” 。</p>\n<p>下面，我将分享一个通过审查代码进行了改进的一个特殊例子。</p>\n<p>这是一个关于初始化网格边缘的算法。</p>\n<p>下面所写的是一个用来初始化网格边缘的算法，网格 grid 以一个二维数组表示：grid[行][列] 。</p>\n<p>再次说明，这段代码的目的只是用来初始化位于 grid 边缘的点的值，所以，只需要给最上方一行、最下方一行、最左边一列以及最右边一列赋值即可。</p>\n<p>为了完成这件事，我通过循环遍历 grid 中的每一个点，然后使用条件语句来测试该点是否位于边缘。代码看起来就是下面这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59267862f058f213318309\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (r = 0; r &lt; GRID_SIZE; ++r) {\r\n    for (c = 0; c &lt; GRID_SIZE; ++c) {\r\n        // Top Edge\r\n        if (r == 0)\r\n            grid[r][c] = 0;\r\n        // Left Edge\r\n        if (c == 0)\r\n            grid[r][c] = 0;\r\n        // Right Edge\r\n        if (c == GRID_SIZE - 1)\r\n            grid[r][c] = 0;\r\n        // Bottom Edge\r\n        if (r == GRID_SIZE - 1)\r\n            grid[r][c] = 0;\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59267862f058f213318309-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f058f213318309-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-5\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-8\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-14\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59267862f058f213318309-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f058f213318309-16\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p>虽然这样做是对的，但回过头来看，这个结构存在一些问题。</p>\n<ol>\n<li>复杂性 — 在双层循环里面使用 4 个条件语句似乎过于复杂。</li>\n<li>高效性 — 假设 <code>GRID_SIZE</code> 的值为 64，那么这个循环需要执行 4096 次，但需要进行赋值的只有位于边缘的 256 个点。</li>\n</ol>\n<p>用 Linus 的眼光来看，将会认为这段代码没有 “good taste” 。</p>\n<p>所以，我对上面的问题进行了一下思考。经过一番思考，我把复杂度减少为包含四个条件语句的单层 <code>for</code> 循环。虽然只是稍微改进了一下复杂性，但在性能上也有了极大的提高，因为它只是沿着边缘的点进行了 256 次循环。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59267862f059e636181189\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (i = 0; i &lt; GRID_SIZE * 4; ++i) {\r\n    // Top Edge\r\n    if (i &lt; GRID_SIZE)\r\n        grid[0][i] = 0;\r\n    // Right Edge\r\n    else if (i &lt; GRID_SIZE * 2)\r\n        grid[i - GRID_SIZE][GRID_SIZE - 1] = 0;\r\n    // Left Edge\r\n    else if (i &lt; GRID_SIZE * 3)\r\n        grid[i - (GRID_SIZE * 2)][0] = 0;\r\n    // Bottom Edge\r\n    else\r\n        grid[GRID_SIZE - 1][i - (GRID_SIZE * 3)] = 0;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59267862f059e636181189-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f059e636181189-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line\" id=\"crayon-59267862f059e636181189-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f059e636181189-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p>的确是一个很大的提高。但是它看起来很丑，并不是易于阅读理解的代码。基于这一点，我并不满意。</p>\n<p>我继续思考，是否可以进一步改进呢？事实上，答案是 YES！最后，我想出了一个非常简单且优雅的算法，老实说，我不敢相信我会花了那么长时间才发现这个算法。</p>\n<p>下面是这段代码的最后版本。它只有一层 <code>for</code> 循环并且没有条件语句。另外。循环只执行了 64 次迭代，极大的改善了复杂性和高效性。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59267862f05a3400164189\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (i = 0; i &lt; GRID_SIZE; ++i) {\r\n    // Top Edge\r\n    grid[0][i] = 0;\r\n    // Bottom Edge\r\n    grid[GRID_SIZE - 1][i] = 0;\r\n    // Left Edge\r\n    grid[i][0] = 0;\r\n    // Right Edge\r\n    grid[i][GRID_SIZE - 1] = 0;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59267862f05a3400164189-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f05a3400164189-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59267862f05a3400164189-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f05a3400164189-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59267862f05a3400164189-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f05a3400164189-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59267862f05a3400164189-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f05a3400164189-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59267862f05a3400164189-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59267862f05a3400164189-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59267862f05a3400164189-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f05a3400164189-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f05a3400164189-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f05a3400164189-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f05a3400164189-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f05a3400164189-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f05a3400164189-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f05a3400164189-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line\" id=\"crayon-59267862f05a3400164189-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59267862f05a3400164189-10\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>这段代码通过每次循环迭代来初始化四条边缘上的点。它并不复杂，而且非常高效，易于阅读。和原始的版本，甚至是第二个版本相比，都有天壤之别。</p>\n<p>至此，我已经非常满意了。</p>\n<p>那么，我是一个有 “good taste” 的开发者么？</p>\n<p>我觉得我是，但是这并不是因为我上面提供的这个例子，也不是因为我在这篇文章中没有提到的其它代码……而是因为具有 “good taste” 的编码工作远非一段代码所能代表。Linus 自己也说他所提供的这段代码不足以表达他的观点。</p>\n<p>我明白 Linus 的意思，也明白那些具有 “good taste” 的程序员虽各有不同，但是他们都是会将他们之前开发的代码花费时间重构的人。他们明确界定了所开发的组件的边界，以及是如何与其它组件之间的交互。他们试着确保每一样工作都完美、优雅。</p>\n<p>其结果就是类似于 Linus 的 “good taste” 的例子，或者像我的例子一样，不过是千千万万个 “good taste”。</p>\n<p>你会让你的下个项目也具有这种 “good taste” 吗？</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111159\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111159votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111159\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 2, "title": "向 Linus 学习，让代码具有 good taste", "tags": "开发,Linus Torvalds,代码", "url_obj_id": "8951632453e9593063a817f94e0e4bf8", "create_date": "2017/05/13", "url": "http://blog.jobbole.com/111159/", "bookmark_num": 6, "front_image_path": "full/9274d0cae01a507ba2db43fe747fe8174c24fa11.jpg", "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1ffjtjwjg02j20m80ci0tz.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://blog.hackerearth.com/how-can-r-users-learn-python-for-data-science\">Manish Saraswat</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><div>\n<h2>导语</h2>\n<blockquote><p>学习新技能最好的方法是实践！</p></blockquote>\n<p>本文是帮助 R 用户增强技能和为数据科学进阶而学习 Python (从零开始)。毕竟，R 和 Python 是数据科学从业者必需掌握的两门最重要的编程语言。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1ffokq3itiyj20h00dngnw.jpg\" width=\"491\" height=\"394\"></p>\n<p>Python 是一门功能强大和多用途的编程语言，在过去几年取得惊人发展。它过去用于 Web 开发和游戏开发，现在数据分析和机器学习也要用到它。数据分析和机器学习是 Python 应用上相对新的分支。</p>\n<p>作为初学者，学习 Python 来做数据分析是比较痛苦的。为什么？</p>\n<p>在谷歌上搜索“Learn Python ”，你会搜到海量教程，但内容只是关于学习 Python 做 Web 开发应用。那你如何找到方法？</p>\n<p>在本教程，我们将探讨 Python 在执行数据操作任务上的基础知识。同时，我们还将对比在 R 上是如何操作的。这种并行比较有助于你将 R 和 Python 上的任务联系起来。最后，我们将采用一个数据集来练习我们新掌握的 Python 技能。</p>\n<p><span style=\"color: #ff0000;\">注意：阅读这篇文章时最好具备一定的 R 基础知识。</span></p>\n<h2>内容概要</h2>\n<ol>\n<li>为什么学习 Python（即使你已经懂 R ）</li>\n<li>理解 Python 的数据类型和结构（与 R 对比）</li>\n<li>用 Python 写代码（与 R 对比）</li>\n<li>用一个数据集实践 Python</li>\n</ol>\n<h3>为什么学习 Python（即使你已经懂R）</h3>\n<p>毫无疑问，R 在它自身的领域是极其强大的，实际上，它最初是用来做统计计算和操作。强大的社区支持使得初学者可以很快掌握 R .</p>\n<p>但是， Python 正迎头赶上，无论成熟公司还是初创公司对Python 的接受程度要远远大于 R 。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1ffokq30blrj20ks0e9jrj.jpg\"></p>\n<p>根据 indeed.com 提供的数据（2016年1月至2016年12月），“用 Python 做机器学习”的招聘信息数量要比“用 R 做机器学习” 增长快得多（约 123%）。这是因为：</p>\n<ol>\n<li>Python 以更好的方式支持机器学习覆盖的全部范围。</li>\n<li>Python 不仅支持模型构建，而且支持模型部署。</li>\n<li>相比 R , Python 支持多种强大的诸如 keras、convnet,、theano 和 tensorflow 深度学习库。</li>\n<li>Python的库相对独立，每个库都拥有数据科学工作者所需要的所有函数。你不需要像在 R 中一样在各种包之间来回查找一个函数。</li>\n</ol>\n<h3>理解 Python 数据类型和结构(与 R 对比)</h3>\n<p>编程语言是基于它的变量和数据类型来理解复杂的数据集。是的，假设你有一个 100 万行，50 列的数据集。编程语言会如何理解这些数据呢？</p>\n<p>基本上，R 和 Python 都有未定义数据类型。独立和非独立变量都有着不同的数据类型。解释器根据数据类型分配内存。Python 支持的数据类型包括：</p>\n<ol>\n<li><strong>数值型（Numbers）</strong>——存储数值。这些数值可以存储为4种类型：整型，长整型，浮点型，复数型。让我们分别理解。\n<ul>\n<li>整型（Integer）——  它指的是整数类型，比如 10 、13 、91、102 等。相当于 R 中的整型（<code>integer</code>）。</li>\n<li>长整型（Long）——它指的是用八进制或者十六进制表示的长整数，在 R 中，用 64 位包读取十六进制值。</li>\n<li>浮点型（Float）——指的是小数值，比如 1.23 ,  9.89 等， R 中浮点数包含在数值型（<code>numeric</code>）。</li>\n<li>复数型（Complex）——它指的是复数值，比如 as 2 + 3i, 5i 等。不过这种数据类型在数据中不太常见。</li>\n</ul>\n</li>\n<li><strong>布尔型（Boolean）</strong>——布尔型只存储两个值（True 和 False）。在 R 中，它可以存储为因子（factor）类型或字符（character）类型。R 和 Python 的布尔值之间存在着微小的差别。在 R 中，布尔型存储为 TRUE 和 FALSE。在 Python 中，它们存储为 True 和 False 。字母的情况有差异。</li>\n<li><strong>字符串（Strings）</strong>——它存储文本（字符）数据，如“elephant,”lotus,”等，相当于R的字符型（character）。</li>\n<li><strong>列表</strong>——它与 R 的列表数据类型相同。它能够存储多种变量类型的值，如字符串、整数、布尔值等。</li>\n<li><strong>元组</strong>—— R 中没有元组类型，把元组看成是 R 中的向量，它的值不能改变。即它是不可变的。</li>\n<li><strong>字典</strong>——  它提供支持 key-value 对的二维结构。简而言之，把键（key )看作是列名，对（pair）看作是列值。</li>\n</ol>\n<p>因为 R 是统计计算语言，所有操作数据和读取变量的函数都是固有的。而另一方面，Python 数据的分析、处理、可视化函数都是从外部库调用。Python 有多个用于数据操作和机器学习的库。以下列举最重要的几个：</p>\n<ol>\n<li><strong>Numpy——</strong>在Python中它用于进行数值计算。它提供了庞大的诸如线性代数、统计等的数学函数库。它主要用于创建数组。在 R 中，把数组看作列表。它包含一个类（数字或字符串或布尔）或多个类。它可以是一维或多维的。</li>\n<li><strong>Scipy</strong> ——在Python中它用于进行科学计算。</li>\n<li><strong>Matplotlib</strong>——在 Python 中它用于进行数据可视化。在 R，我们使用著名的 ggplot2 库。</li>\n<li><strong>Pandas</strong> ——对于数据处理任务它极其强大。在 R 中，我们使用 dplyr，data.table 等包。</li>\n<li><strong>Scikit Learn</strong>—— 它是实现机器学习算法的强大工具。实际上，它也是 python 中用来做机器学习的最好工具。它包含建模所需的所有函数。</li>\n</ol>\n<p>在某种程度上，对于数据科学工作者来说，最主要的是要掌握上面提到的 Python 库。但人们正开始使用的高级 Python 库有太多。因此，为了实际目标，你应该记住以下这些：</p>\n<ol>\n<li>数组（<strong>Array）</strong>——这与 R 的列表类似。它可以是多维的。它可以包含相同或多个类的数据。在多个类的情况下，会发生强制类型转换。</li>\n<li><strong>列表</strong>（<strong>List</strong>）—— 相当于 R 中的列表。</li>\n<li><strong>数据框（Data Frame）</strong>——它是一个包含多个列表的二维结构。R中有内置函数 data.frame，Python则从 pandas库中调用 Dataframe 函数。</li>\n<li><strong>矩阵（Matrix）</strong>——它是二维（或多维）结构，包含同一类（或多个类）的所有值。把矩阵看成是向量的二维版。在R中，我们使用 <code>matrix</code> 函数。在Python中，我们使用 numpy.column_stack 函数。</li>\n</ol>\n<p>到这里，我希望你已经明白了R和Python中数据类型和数据结构的基本知识。现在，让我们开始应用它们。</p>\n<h3>用Python写代码（对比R）</h3>\n<p>我们现在来使用在前面部分学到的知识，明白它们实际的含义。但在此之前，你要先通过Anaconda的 jupyter notebook 安装 Python（之前称为ipython notebook）。<a href=\"https://www.continuum.io/downloads\">你可以点击这里下载</a>。我希望你已经在电脑上安装了 <a href=\"https://www.rstudio.com/products/rstudio/download/\" target=\"_blank\">R Studio</a> 。</p>\n<h3>创建列表</h3>\n<p>在 R 中，创建列表使用的是 list 函数</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608b6442405679\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmy_list &lt;- list ('monday','specter',24,TRUE)\r\ntypeof(my_list)\r\n[1] \"list\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608b6442405679-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608b6442405679-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608b6442405679-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608b6442405679-1\"><span class=\"crayon-v\">my_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">list</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'monday'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'specter'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">24</span><span class=\"crayon-sy\">,</span><span class=\"crayon-t\">TRUE</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608b6442405679-2\"><span class=\"crayon-e\">typeof</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">my_list</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608b6442405679-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"list\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>在 Python 中，创建列表使用的是方括号 [ ] 。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608c6056077570\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmy_list = ['monday','specter',24,True]\r\ntype(my_list)\r\nlist</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608c6056077570-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608c6056077570-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608c6056077570-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608c6056077570-1\"><span class=\"crayon-v\">my_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'monday'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'specter'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">24</span><span class=\"crayon-sy\">,</span><span class=\"crayon-t\">True</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608c6056077570-2\"><span class=\"crayon-e\">type</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">my_list</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608c6056077570-3\"><span class=\"crayon-v\">list</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>在 pandas 库中也可以得到相同的输出，在 pandas 中，列表称为序列。在 Python 中安装 pandas，写下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608cb994587191\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#importing pandas library as pd notation (you can use any notation)  #调用 pandas 库\r\nimport pandas as pd\r\npd_list = pd.Series(my_list)\r\npd_list</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608cb994587191-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608cb994587191-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608cb994587191-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608cb994587191-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608cb994587191-1\"><span class=\"crayon-p\">#importing pandas library as pd notation (you can use any notation)  #调用 pandas 库</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608cb994587191-2\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">pandas </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pd</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608cb994587191-3\"><span class=\"crayon-v\">pd_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Series</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">my_list</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608cb994587191-4\"><span class=\"crayon-v\">pd_list</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608ce398403147\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n0     monday\r\n1    specter\r\n2         24\r\n3       True</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608ce398403147-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608ce398403147-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608ce398403147-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608ce398403147-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608ce398403147-1\"><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">     </span><span class=\"crayon-i\">monday</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608ce398403147-2\"><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">    </span><span class=\"crayon-i\">specter</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608ce398403147-3\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\">         </span><span class=\"crayon-cn\">24</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608ce398403147-4\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\">       </span><span class=\"crayon-t\">True</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><code></code>数字（0,1,2,3）表示数组索引。你注意到什么了吗？Python 索引是从 0 开始，而 R 的索引从 1 开始。让我们继续了解列表子集在 R 和 Python 的区别。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608d2808785753\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#create a list   # 创建一个列表\r\nnew_list &lt;- list(roll_number = 1:10, Start_Name = LETTERS[1:10])</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608d2808785753-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d2808785753-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608d2808785753-1\"><span class=\"crayon-p\">#create a list   # 创建一个列表</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d2808785753-2\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">roll_number</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Start_Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">LETTERS</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>把 new_list 看作一列火车。这列火车有两个名为 roll_number 和  Start_Name 的车厢 。在每个车厢中，有10人。所以，在列表构建子集中，我们可以提取车厢的值，车厢中的人等，等等。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608d5072041292\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#extract first coach information  #提取第一个车厢信息\r\nnew_list[1] #or\r\ndf['roll_number']  \r\n$roll_number \r\n [1] 1 2 3 4 5 6 7 8 9 10\r\n\r\n#extract only people sitting in first coach #提取坐在第一个车厢中的人\r\nnew_list[[1]] #or\r\ndf$roll_number\r\n#[1] 1 2 3 4 5 6 7 8 9 10</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608d5072041292-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d5072041292-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608d5072041292-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d5072041292-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608d5072041292-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d5072041292-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608d5072041292-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d5072041292-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608d5072041292-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608d5072041292-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608d5072041292-1\"><span class=\"crayon-p\">#extract first coach information  #提取第一个车厢信息</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d5072041292-2\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608d5072041292-3\"><span class=\"crayon-v\">df</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'roll_number'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d5072041292-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">roll</span><span class=\"crayon-sy\">_</span>number<span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5926352f608d5072041292-5\"> <span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d5072041292-6\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608d5072041292-7\"><span class=\"crayon-p\">#extract only people sitting in first coach #提取坐在第一个车厢中的人</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d5072041292-8\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608d5072041292-9\"><span class=\"crayon-v\">df</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">roll_number</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608d5072041292-10\"><span class=\"crayon-p\">#[1] 1 2 3 4 5 6 7 8 9 10</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>如果你查询一下 new_list [ 1 ] 的类型，你会发现它是一个列表，而 new_list [ [ 1 ] ] 类型是一个字符。类似地，在 Python 中，你可以提取列表组件：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608da439524590\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#create a new list  #创建一个新列表\r\nnew_list = pd.Series({'Roll_number' : range(1,10),\r\n                      'Start_Name' : map(chr, range(65,70))})\r\n\r\nRoll_number [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nStart_Name [A, B, C, D, E]\r\ndtype: object\r\n\r\n#extracting first coach  #提取第一个车厢\r\nnew_list[['Roll_number']] #or\r\nnew_list[[0]]\r\nRoll_number [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\ndtype: object\r\n\r\n#extract people sitting in first coach #提取坐在第一个车厢中的人\r\nnew_list['Roll_number']  #or\r\nnew_list.Roll_number\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608da439524590-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608da439524590-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-1\"><span class=\"crayon-p\">#create a new list  #创建一个新列表</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-2\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Series</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'Roll_number'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-3\"> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Start_Name'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">map</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">chr</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">65</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">70</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-4\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-5\"><span class=\"crayon-v\">Roll</span><span class=\"crayon-sy\">_</span>number<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-6\"><span class=\"crayon-v\">Start</span><span class=\"crayon-sy\">_</span>Name<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">A</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">B</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">C</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">D</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">E</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-7\"><span class=\"crayon-v\">dtype</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">object</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-8\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-9\"><span class=\"crayon-p\">#extracting first coach  #提取第一个车厢</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-10\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Roll_number'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-11\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-12\"><span class=\"crayon-v\">Roll</span><span class=\"crayon-sy\">_</span>number<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-13\"><span class=\"crayon-v\">dtype</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">object</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-14\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-15\"><span class=\"crayon-p\">#extract people sitting in first coach #提取坐在第一个车厢中的人</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-16\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Roll_number'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span> <span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608da439524590-17\"><span class=\"crayon-v\">new_list</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Roll</span><span class=\"crayon-sy\">_</span>number</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608da439524590-18\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0039 seconds] -->\r\n<p>R 和 Python 的列表索引有一个让人困惑的区别。如果你注意到在 R 中 [[ ]] 表示获取车厢的元素， 然而<code>[[ ]]</code> 在 Python 中表示获取车厢本身。</p>\n<h3>2. Matrix 矩阵</h3>\n<p>矩阵是由向量（或数组）组合而成的二维结构。一般来说，矩阵包含同一类的元素。然而，即使你混合不同的类（字符串，布尔，数字等）中的元素，它仍会运行。R 和 Python 在矩阵中构建子集的方法很相似，除了索引编号。重申，Python 索引编号从 0 开始，R 索引编号从 1 开始。</p>\n<p>在 R 中，矩阵可以这么创建：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608df936558945\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmy_mat &lt;- matrix(1:10,nrow = 5)\r\nmy_mat</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608df936558945-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608df936558945-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608df936558945-1\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">matrix</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">nrow</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608df936558945-2\"><span class=\"crayon-v\">my_mat</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<div id=\"crayon-590b5b2967c20247393268\" class=\"crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate\">\n<div class=\"crayon-plain-wrap\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608e2283757616\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n     [,1] [,2]\r\n[1,]    1    6\r\n[2,]    2    7\r\n[3,]    3    8\r\n[4,]    4    9\r\n[5,]    5   10</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608e2283757616-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608e2283757616-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608e2283757616-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608e2283757616-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608e2283757616-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608e2283757616-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608e2283757616-1\"><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608e2283757616-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608e2283757616-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608e2283757616-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608e2283757616-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">9</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608e2283757616-6\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">10</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<br>\n<span style=\"font-weight: normal;\">在矩阵中构建子集也是很容易。</span>\n</div>\n</div>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608e6618367435\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#to select first row   #选取第一行\r\nmy_mat[1,]\r\n\r\n#to select second column #选取第二列\r\nmy_mat[,2]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608e6618367435-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608e6618367435-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608e6618367435-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608e6618367435-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608e6618367435-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608e6618367435-1\"><span class=\"crayon-p\">#to select first row   #选取第一行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608e6618367435-2\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608e6618367435-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608e6618367435-4\"><span class=\"crayon-p\">#to select second column #选取第二列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608e6618367435-5\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>在Python中，我们会借助 NumPy 数组创建一个矩阵。因此，我们先要加载 NumPy 库。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608eb327189539\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nimport numpy as np\r\na=np.array(range(10,15))\r\nb=np.array(range(20,25))\r\nc=np.array(range(30,35))\r\nmy_mat = np.column_stack([a,b,c])\r\n\r\n#to select first row #选取第一行\r\nmy_mat[0,]\r\n\r\n#to select second column #选取第二列\r\nmy_mat[:,1]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608eb327189539-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608eb327189539-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608eb327189539-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608eb327189539-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608eb327189539-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608eb327189539-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-1\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">numpy </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">np</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608eb327189539-2\"><span class=\"crayon-v\">a</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-3\"><span class=\"crayon-v\">b</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">25</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608eb327189539-4\"><span class=\"crayon-v\">c</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">30</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">35</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-5\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">column_stack</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608eb327189539-6\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-7\"><span class=\"crayon-p\">#to select first row #选取第一行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608eb327189539-8\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608eb327189539-10\"><span class=\"crayon-p\">#to select second column #选取第二列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608eb327189539-11\"><span class=\"crayon-v\">my_mat</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p></p>\n<h3>3. 数据框（Data Frames）</h3>\n<p>数据框为从多来源收集而来的松散的数据提供了一个急需的骨架。它类似电子表格的结构给数据科学工作者提供了一个很好的图片来展示数据集是什么样子。在R中，我们使用 <code>data.frame() 函数创建一个数据框。</code></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608ef653881589\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndata_set &lt;- data.frame(Name = c(\"Sam\",\"Paul\",\"Tracy\",\"Peter\"),\r\nHair_Colour = c(\"Brown\",\"White\",\"Black\",\"Black\"),\r\nScore = c(45,89,34,39))</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608ef653881589-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608ef653881589-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608ef653881589-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608ef653881589-1\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">frame</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Sam\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Paul\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Tracy\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Peter\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608ef653881589-2\"><span class=\"crayon-v\">Hair_Colour</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Brown\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"White\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Black\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Black\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608ef653881589-3\"><span class=\"crayon-v\">Score</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">45</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">89</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">39</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>那么，我们知道一个数据框是由向量（列表）的组合创建的。在 Python 中创建数据框，我们将创建一个字典（数组的组合），并且在 pandas 库的 Dataframe（）函数中附上字典。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608f3791809941\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndata_set = pd.DataFrame({'Name' : [\"Sam\",\"Paul\",\"Tracy\",\"Peter\"],\r\n'Hair_Colour' : [\"Brown\",\"White\",\"Black\",\"Black\"],\r\n'Score' : [45,89,34,39]})</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608f3791809941-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f3791809941-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f3791809941-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608f3791809941-1\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">DataFrame</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"Sam\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Paul\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Tracy\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Peter\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f3791809941-2\"><span class=\"crayon-s\">'Hair_Colour'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"Brown\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"White\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Black\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"Black\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f3791809941-3\"><span class=\"crayon-s\">'Score'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">45</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">89</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">39</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>现在，让我们看下操作 dataframe 最关键的部分，构建子集。实际上，大部分数据操作都包含从各个可能的角度切割数据框。让我们逐个看下任务：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608f7263631635\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#select first column in R  #在 R 中选取第一行\r\ndata_set$Name # or \r\ndata_set[[\"Name]] #or \r\ndata_set[1]\r\n\r\n#select first column in Python  #在 Python 中选取第一列\r\ndata_set['Name'] #or\r\ndata_set.Name #or \r\ndata_set[[0]]\r\n\r\n#select multiple columns in R   # 在 R 中选取多列\r\ndata_set[c('Name','Hair_Colour')] #or\r\ndata_set[,c('Name','Hair_Colour')]\r\n\r\n#select multiple columns in Python   #在 Python 中选取多行\r\ndata_set[['Name','Hair_Colour']] #or\r\ndata_set.loc[:,['Name','Hair_Colour']]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608f7263631635-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608f7263631635-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-1\"><span class=\"crayon-p\">#select first column in R  #在 R 中选取第一行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-2\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># or </span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-3\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span>\"<span class=\"crayon-v\">Name</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-4\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-6\"><span class=\"crayon-p\">#select first column in Python  #在 Python 中选取第一列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-7\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-8\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or </span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-9\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-10\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-11\"><span class=\"crayon-p\">#select multiple columns in R   # 在 R 中选取多列</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-12\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">c</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Hair_Colour'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-13\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">c</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Hair_Colour'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-14\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-15\"><span class=\"crayon-p\">#select multiple columns in Python   #在 Python 中选取多行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608f7263631635-16\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Hair_Colour'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608f7263631635-17\"><span class=\"crayon-v\">data_set</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">loc</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Hair_Colour'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>.loc 函数用于基于标签的索引</p>\n<p>到这里我们大致明白了 R 和 Python 中的数据类型、结构和格式。让我们用一个数据集来探索 python 中数据的其他面。</p>\n<h2>用一个数据集实践 Python</h2>\n<p>强大的 scikit-learn 库包含一个内建的数据集库。为了我们实践的目的，我们将采用波士顿住房数据集（Boston housing data set）。做数据分析时，它是一个很流行的数据集。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608fb052756589\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#import libraries #调用库\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom sklearn.datasets import load_boston\r\n\r\n#store in a variable #存储在一个变量中\r\nboston = load_boston()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608fb052756589-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608fb052756589-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608fb052756589-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608fb052756589-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608fb052756589-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608fb052756589-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f608fb052756589-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608fb052756589-1\"><span class=\"crayon-p\">#import libraries #调用库</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608fb052756589-2\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">numpy </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">np</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608fb052756589-3\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">pandas </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608fb052756589-4\"><span class=\"crayon-e\">from </span><span class=\"crayon-v\">sklearn</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">datasets </span><span class=\"crayon-e\">import </span><span class=\"crayon-v\">load_boston</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608fb052756589-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608fb052756589-6\"><span class=\"crayon-p\">#store in a variable #存储在一个变量中</span></div><div class=\"crayon-line\" id=\"crayon-5926352f608fb052756589-7\"><span class=\"crayon-v\">boston</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">load_boston</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>变量boston是一个字典。回顾一下，字典是key-value对的组合，让我看下键（key）的信息：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f608ff258744049\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nboston.keys()\r\n['data', 'feature_names', 'DESCR', 'target']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f608ff258744049-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f608ff258744049-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f608ff258744049-1\"><span class=\"crayon-v\">boston</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">keys</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f608ff258744049-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'data'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'feature_names'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'DESCR'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'target'</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>现在我们知道我们需要的数据集驻留在key数据中。我们也看到，对于功能名称有一个单独的key。我认为数据集不会分配列名。让我们来检查下我们要处理的列名。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f6090d227354567\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprint(boston['feature_names'])\r\n['CRIM' 'ZN' 'INDUS' 'CHAS' 'NOX' 'RM' 'AGE' 'DIS' 'RAD' 'TAX' 'PTRATIO' 'B' 'LSTAT']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f6090d227354567-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f6090d227354567-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f6090d227354567-1\"><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">boston</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'feature_names'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f6090d227354567-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'CRIM'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'ZN'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'INDUS'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'CHAS'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'NOX'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'RM'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'AGE'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'DIS'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'RAD'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'TAX'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'PTRATIO'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'B'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'LSTAT'</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>你能明白这些名称吗？我也不明白。现在，让我们检查下数据描述和理解每个变量的意义。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f60912416403035\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprint(boston['DESCR'])</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f60912416403035-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f60912416403035-1\"><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">boston</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'DESCR'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这个数据集有506行，13列。它包含帮助确定波士顿房价的多种特征。现在，让我们创建一个数据框：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f60916668456601\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbos_data = pd.DataFrame(boston['data'])</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f60916668456601-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f60916668456601-1\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">DataFrame</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">boston</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'data'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>类似于 R , python 也有一个 <code>head()函数读入数据：</code></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f6091b846954807\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbos_data.head()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f6091b846954807-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f6091b846954807-1\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">head</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>输出显示数据集没有列名（如上所述）。将列名分配到数据框中是容易的。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f6091f432325949\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbos_data.columns = boston['feature_names']\r\nbos_data.head()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f6091f432325949-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f6091f432325949-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f6091f432325949-1\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">columns</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">boston</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'feature_names'</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f6091f432325949-2\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">head</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>就像R中的 dim() 函数，Python 有检查数据集维数的 shape() 函数。为得到数据集的统计汇总，我们写下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f60922646239186\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbos_data.describe()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f60922646239186-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f60922646239186-1\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">describe</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>它显示了数据中列的统计汇总。让我们快速探索这个数据的其他方面。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f60925356261439\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#get first 10 rows  #得到第一10行\r\nbos_data.iloc[:10]\r\n\r\n#select first 5 columns  #选取第一个5列\r\nbos_data.loc[:,'CRIM':'NOX'] #or\r\nbos_data.iloc[:,:5]\r\n\r\n#filter columns based on a condition #基于条件筛选列\r\nbos_data.query(\"CRIM &gt; 0.05 &amp; CHAS == 0\")\r\n\r\n#sample the data set #构建数据集样本\r\nbos_data.sample(n=10)\r\n\r\n#sort values - default is ascending  #分类上升的默认值\r\nbos_data.sort_values(['CRIM']).head() #or\r\nbos_data.sort_values(['CRIM'],ascending=False).head()\r\n\r\n#rename a column #重命名一个列\r\nbos_data.rename(columns={'CRIM' : 'CRIM_NEW'})\r\n\r\n#find mean of selected columns #查找选定列的平均值\r\nbos_data[['ZN','RM']].mean()\r\n\r\n#transform a numeric data into categorical #将数字数据转换成分类\r\nbos_data['ZN_Cat'] = pd.cut(bos_data['ZN'],bins=5,labels=['a','b','c','d','e'])\r\n\r\n#calculate the mean age for ZN_Cat variable  #计算ZN_Cat变量的平均年龄\r\nbos_data.groupby('ZN_Cat')['AGE'].sum()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5926352f60925356261439-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f60925356261439-28\">28</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-1\"><span class=\"crayon-p\">#get first 10 rows  #得到第一10行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-2\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">iloc</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-4\"><span class=\"crayon-p\">#select first 5 columns  #选取第一个5列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-5\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">loc</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'CRIM'</span><span class=\"crayon-o\">:</span><span class=\"crayon-s\">'NOX'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-6\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">iloc</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-8\"><span class=\"crayon-p\">#filter columns based on a condition #基于条件筛选列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-9\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"CRIM &gt; 0.05 &amp; CHAS == 0\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-10\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-11\"><span class=\"crayon-p\">#sample the data set #构建数据集样本</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-12\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sample</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">n</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-14\"><span class=\"crayon-p\">#sort values - default is ascending  #分类上升的默认值</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-15\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sort_values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'CRIM'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">head</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#or</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-16\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sort_values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'CRIM'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ascending</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">False</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">head</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-18\"><span class=\"crayon-p\">#rename a column #重命名一个列</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-19\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">rename</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">columns</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'CRIM'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'CRIM_NEW'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-20\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-21\"><span class=\"crayon-p\">#find mean of selected columns #查找选定列的平均值</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-22\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'ZN'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'RM'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">mean</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-24\"><span class=\"crayon-p\">#transform a numeric data into categorical #将数字数据转换成分类</span></div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-25\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'ZN_Cat'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">cut</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'ZN'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">bins</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">labels</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'a'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'b'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'c'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'d'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'e'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-26\"> </div><div class=\"crayon-line\" id=\"crayon-5926352f60925356261439-27\"><span class=\"crayon-p\">#calculate the mean age for ZN_Cat variable  #计算ZN_Cat变量的平均年龄</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f60925356261439-28\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">groupby</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'ZN_Cat'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'AGE'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0038 seconds] -->\r\n<p>此外，Python 还允许我们创建透视表。是的! 就像 MS Excel  或任何其他电子表格软件，你可以创建一个数据透视表，更密切地了解数据。不幸的是，在 R 中创建一个数据透视表是一个相当复杂的过程。在 Python 中，一个透视表需要行名、列名和要计算的值。如果我们不通过任何列名称，得到的结果只会像你使用 groupby 函数得到的。因此，让我们创建另一个分类变量。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5926352f6092a239448356\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#create a new categorical variable #创建一个新的分类变量\r\nbos_data['NEW_AGE'] = pd.cut(bos_data['AGE'],bins=3,labels=['Young','Old','Very_Old'])\r\n\r\n#create a pivot table calculating mean age per ZN_Cat variable  #创建一个透视表计算每个 ZN_Cat 变量的年龄\r\nbos_data.pivot_table(values='DIS',index='ZN_Cat',columns= 'NEW_AGE',aggfunc='mean')</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5926352f6092a239448356-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f6092a239448356-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5926352f6092a239448356-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5926352f6092a239448356-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5926352f6092a239448356-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5926352f6092a239448356-1\"><span class=\"crayon-p\">#create a new categorical variable #创建一个新的分类变量</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f6092a239448356-2\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'NEW_AGE'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">cut</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'AGE'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">bins</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">labels</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'Young'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Old'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">'Very_Old'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5926352f6092a239448356-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5926352f6092a239448356-4\"><span class=\"crayon-p\">#create a pivot table calculating mean age per ZN_Cat variable  #创建一个透视表计算每个 ZN_Cat 变量的年龄</span></div><div class=\"crayon-line\" id=\"crayon-5926352f6092a239448356-5\"><span class=\"crayon-v\">bos_data</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">pivot_table</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">values</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'DIS'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">index</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'ZN_Cat'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">columns</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'NEW_AGE'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">aggfunc</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'mean'</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>这只是冰山一角。下一步怎么做？就像我们使用波士顿住房数据集，现在你可以试试安德森鸢尾花卉数据集（iris data）。它在sklearn_datasets 库是可用的。尝试深入探讨。记住，你练习越多，花费的时间越多，你就会变得越好。</p>\n<h2>总结</h2>\n<p>总体来说，学习这两门语言会给你足够的自信去处理任何类型的数据集。事实上，学习python最好的一面是它有完善的文档可以用在numpy，pandas，scikit learn 库，这足够帮你跨越所有最初的障碍。</p>\n<p>I这篇文章，我们主要接触了 python 的基础知识。还有很长的路要走。下周，我们将在 Python 中具体学习数据操作。之后，我们将学习数据可视化和强大的机器学习库。</p>\n<p>在实践这门教程的时候，请在下方分享你的经历、建议和问题。</p>\n</div>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111188\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111188votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111188\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/8341DCC9FE0583B4AE1889698815B015/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 2, "title": "做数据分析时，R 用户如何学习 Python？", "tags": "开发,数据分析,机器学习", "url_obj_id": "29417dbed2d1df65f74821df237a1fda", "create_date": "2017/05/17", "url": "http://blog.jobbole.com/111188/", "bookmark_num": 0, "front_image_path": "full/a1e735330306f043b86c38035f5f6ba57657caf2.jpg", "front_image_url": ["http://wx3.sinaimg.cn/large/7cc829d3gy1ffokq3itiyj20h00dngnw.jpg"]}
{"comment_num": 1, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.malwaretech.com/2017/05/how-to-accidentally-stop-a-global-cyber-attacks.html\">MalwareTech</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：5月12日，英国、意大利、俄罗斯等多个国家爆发勒索病毒攻击，中国国内校园网也出现大面积感染。请见我们昨天的推文：《<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655438382&amp;idx=1&amp;sn=c24f51822f2dfd689e7336e4ec6660c2&amp;chksm=bd730a598a04834fdb43648bd5f8cf0f3c7b4cce551c444bf9be6a20c1247fe878a5fe230893&amp;scene=21#wechat_redirect\" target=\"_blank\">全球爆发计算机勒索病毒（包含应急防范措施）</a>》。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffl58pw34yj20hn0bmn5y.jpg\"></p>\n<p><span style=\"font-weight: normal;\">WannaCrypt 勒索病毒开始肆虐后 ，英国的网络安全人员 MalwareTech 博主分析发现，该病毒都会访问一个域名 www.iuqerfsodp9ifjaposdfjhgosurijfaewrwergwea.com，如果连接成功，就停止攻击感染其他机器。于是他注册了这个域名，偶然阻止了勒索病毒的全球攻击。</span></p>\n<p style=\"text-align: center;\"><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffl5hrav85j20g107yq4l.jpg\"></p>\n<p style=\"text-align: center;\">（MalwareTech 的推特截图。后一条是说他也没想到注册域名后会中断扩散传播。前一条则是他的嘚瑟内容，23333）</p>\n<p><strong>MalwareTech 博主在事后写了<a href=\"https://www.malwaretech.com/2017/05/how-to-accidentally-stop-a-global-cyber-attacks.html\" target=\"_blank\">一篇总结文章</a>，以下是伯乐在线的摘编：</strong></p>\n<p>我现在终于有时间写写周五发生的事情了，这两天各种电话和 Skype 都快把我催爆了，这件事情也花掉了我整个周末的时间（实际上前后一共花了四天时间，连我的工作时间都占了，就是如此）。也许你已经从各种媒体上听说了 WannaCrypt 病毒的事情了，但是我觉得你最好听听我的版本。</p>\n<p>我那天早上 10 点钟起床，然后就到“英国电子威胁信息共享平台”上去查看信息，因为我一直在跟踪一个叫 Emotet banking 木马的传播情况，这种木马病毒直至今日还很有威胁。然后我发现，有几个很普通的贴子提到说，有几个公司或者组织被“勒索木马”攻击了，不过这也并不是什么“大新闻”….至少当时还不是。接着我就关了电脑出去和朋友吃午饭了，就是在这个时候，WannaCrypt 勒索木马开始肆虐。</p>\n<p>当我下午两点半回到家的时候，我发现信息共享平台上已经到处都是 NHS（英国国家医疗体系）被攻击的消息了，据说全国有好几个NHS 下属机构的系统被木马攻击了，这也让我感觉到很可能要有“大新闻”产生了。尽管勒索型病毒攻击某些公共系统的情况并不新鲜，但是全国范围内的系统同时中招的情况可就不那么寻常了（而且现在 NHS 的雇员也挺聪明了，不会轻易点开带病毒的钓鱼邮件，所以这次能有这么大的传播范围，肯定是有什么其他的病毒传播方式。）在我的一个好朋友（他是信息安全研究员）和 Kafeine 软件的帮助下，我用最快的速度拿到了一个木马的样本。我在分析环境里运行了这个样本，发现木马会去访问一个未注册的域名（ <span style=\"color: #ff0000;\">iuqerfsodp9ifjaposdfjhgosurijfaewrwergwea.com</span> ），然后我就很快把这个域名注册了。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffl48x3p9mj20hs05tjsw.jpg\"></p>\n<p>使用 Cisco Umbrella，我们就能看到木马对特定域名的访问流量情况（当然是在我注册之前），这也能看出来，这次大波的木马攻击是在当地时间早晨 8 点开始的。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffl44m9hbtj20gl05f0sz.jpg\"></p>\n<p>在域名传播的同时，我在我的虚拟环境里又运行了一次样本，然后就看到了 WannaCrypt 勒索页面；但是更有意思的是，木马感染了我放在那里的测试文件以后，还尝试在 445 端口（SMB协议使用的就是这个端口）随机连接不同的 IP 地址。这种大量的访问尝试马上让我联想到了漏洞扫描，事实上这种对 SMB 端口的扫描行为也让我回忆起了最近报道过的，NSA 的 ShadowBroker 泄露事件，那个里面就有 SMB 漏洞扫描。当然，我当时没有证据能证明这次攻击就是 SMB 漏洞扫描，或者就是用 NSA 泄露出来的漏洞扫描工具来做的，所以我只能在 Twitter 上贴出我发现的东西，然后追踪木马感染的域名。</p>\n<blockquote>\n<p dir=\"ltr\" lang=\"en\">“我发现木马样本在安装 WannaCrypt 后会扫描 SMB。其他人找到的情况是不是也是这样？注意到木马是采用 P2P 方式传播。” — MalwareTech (@MalwareTechBlog) <a href=\"https://twitter.com/MalwareTechBlog/status/863054290360946688\">May 12, 2017</a></p>\n</blockquote>\n<p>从反馈来看，我得到了相互矛盾的答案，我很满心焦虑地重新装载了之前的分析环境，然后把木马样本又运行了一遍……结果什么事情也没发生。然后我又修改了 host 文件，这样可以让木马对域名的连接失败，然后我又运行了一遍，结果……木马感染成功了。</p>\n<p>我估计你没法想象一个成年人高兴得上蹿下跳的画面吧，而且这个人高兴的理由居然是自己的电脑被勒索木马感染了，但是这个人就是我。</p>\n<p>勒索木马第一次运行失败了，但是第二次成功感染了。这说明，只要木马能向特定的域名注册成功，那么就能阻止木马的传播，也能阻止木马感染新的电脑。（一开始我并没有公布这个发现，而是通过逆向工程反复验证，不过现在应该已经有其他人在网上公布了这个方法了。）</p>\n<p>所以，这么简单的一个伎俩，怎么就能让全球肆虐的木马病毒停止传播呢？</p>\n<p>Talos 写了一篇非常不错的<a href=\"http://blog.talosintelligence.com/2017/05/wannacry.html\">文章</a>来解释这个原理，我在这里直接使用 Darien 的截图来说明：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffl47zwtnaj20mt0c3t9t.jpg\"></p>\n<p>上面代码做的事情，就是尝试连接我们注册的域名。<span style=\"color: #ff0000;\">如果连接失败的话，那么就感染系统，如果连接成功的话，木马就会退出执行</span>（一开始我看这个代码并不是很明白，因为我不知道代码的上下文，也不知道这个函数执行的结果返回上一级会干什么。）</p>\n<p>我们一开始认为，这个域名是一个“死亡开关”（Kill Switch），如果出了大问题就可以用它来关闭攻击。不过现在我觉得，这是木马用来切断进一步运行的机制，当然这是一个糟糕的设计。</p>\n<p>在沙箱环境里，木马的所有的网络请求都会被拦截，然后沙箱会返回一个虚拟的 IP 地址给木马程序，而不是木马要访问的真正的 IP 地址。这种工作原理的副作用就是，如果木马要求访问一个未注册的域名，沙箱则会告诉木马说访问成功（真实情况下是不可能成功的）。</p>\n<p>我觉得勒索木马的作者在程序里故意要访问一个未经注册的域名，这种域名在虚拟机的沙箱环境里会被当做“已注册”来处理，一旦程序发现这些“不应该返回结果”的域名居然返回了结果，那么就知道这是在虚拟机环境里运行的，接着木马程序就会自动退出，阻止进一步的入侵分析行为。这种技术并不是首创，Necurs 木马之前就用过这种伎俩（Necurs 会去访问 5 个随机生成的域名，如果这 5 个域名都返回同一个 IP 地址的话，木马程序就会自动退出）。</p>\n<p>然而，因为 WannaCrypt 却是在程序里写死了这个用来验证的假域名，而因为我真的注册了这个域名，所以现在不论是在虚拟机里，还是在真实的计算机上，这个域名都会真的返回响应信息，所以木马无论在任何条件下都会相信自己是在虚拟机里运行，从而自动退出……所以说，我们这不经意的注册行为无意中阻止了木马在传播和进一步的勒索行为。我们会继续持有这个域名，以阻止这个病毒样本的进一步感染。</p>\n<p>（伯乐在线补注：原作者感谢了在整个分析过程中帮助过他们的组织和机构，我们这里就省略了。）</p>\n<p>现在，我想我终于该睡会儿了。</p>\n<h3>伯乐在线补充：</h3>\n<p>① MalwareTech 还制作了一个在线查看中招电脑的实时地图：<a href=\"https://intel.malwaretech.com/WannaCrypt.html\" target=\"_blank\">https://intel.malwaretech.com/WannaCrypt.html</a></p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffl5kvs1vdj211l0iijx8.jpg\"></p>\n<p>② 5月14日下午，国家网络与信息安全信息通报中心发布紧急通报：</p>\n<blockquote><p>监测发现，在全球范围内爆发的 WannaCry 勒索病毒出现了变种：WannaCry 2.0， 与之前版本的不同是，这个变种取消了 Kill Switch，不能通过注册某个域名来关闭变种勒索病毒的传播，该变种传播速度可能会更快。请广大网民尽快升级安装 Windows 操作系统相关补丁，已感染病毒机器请立即断网，避免进一步传播感染。</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111170\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111170votetotal\">6</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111170\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 57</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 6, "title": "我是如何意外阻止了勒索病毒的全球攻击", "tags": "IT技术,WannaCry,安全", "url_obj_id": "34722685ae899cb815abc05b5c97cbe3", "create_date": "2017/05/14", "url": "http://blog.jobbole.com/111170/", "bookmark_num": 1, "front_image_path": "full/6239740d346c76b074b2214e85b2f2b369068d45.jpg", "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ffl58pw34yj20hn0bmn5y.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/nightwishss\">土豆粉ss</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://joearms.github.io/2014/02/07/why-programming-is-difficult.html\">Joe Armstrong</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：作为程序员，你会如何跟非程序员解释写程序不容易这件事？为啥看不见摸不着的程序需要花时间去写去维护？很多人其实都没想明白。来看看 Erlang 之父 Joe Armstrong 的感触。<b></b></p>\n<p><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffo76zvj3xj20sg0izdiv.jpg\" width=\"601\" height=\"401\"></p>\n<h2>编程为什么这么难？</h2>\n<p>多年前我曾一度认为编程很简单，然而随着岁月的流逝，我终于意识到编程并不是件容易的事。这是因为，我所认为的「究竟什么是编程」和「程序员到底是做什么的」，在感知上已经渐渐地发生了转变。</p>\n<p><img class=\"alignnone size-medium wp-image-64226\" src=\"http://jbcdn2.b0.upaiyun.com/2016/12/0918d83c92833a108021ea9f43bd15e0-300x131.png\" alt=\"program\" width=\"300\" height=\"131\"></p>\n<p><strong>定义1：所谓程序就是一种把输入转化为输出的东西，程序员就是写程序的人，编程就是写程序的这个行为；</strong></p>\n<p>现在让我们给我对程序的这个定义加一些约束吧。</p>\n<p><strong>定义2： 所谓程序就是在遵从下列约束的条件下，把一些输入转化为输出的东西。</strong></p>\n<ul>\n<li>程序输出是优美的；</li>\n<li>程序输入是优美的；</li>\n<li>程序本身也是优美的；</li>\n<li>程序输入有着完好并正确的文档；</li>\n<li>程序本身也是有着完好并正确的文档；</li>\n<li>程序是经过良好测试过并验证是正确的；</li>\n<li>正在解决的问题是十分明确的；</li>\n<li>整个问题本身也是十分明确的；</li>\n</ul>\n<p>加上这些约束后，编程就变得非常困难了。现在对于一个特定的问题，上述一部分约束是可以放松的。几个典型的设想是：</p>\n<h3>不必持续维护的程序</h3>\n<p>我们经常仅仅为了得到输出结果而写程序。 这种情况下，程序的输入和程序本身以后是不需要维护的，因此这些不必诠释地特别优美和充分。</p>\n<p>我的 Erlang 这本书就是这样的一个例子。一旦书出版了，为了写书而使用的程序以及输入部分就不必在维护了。程序结果看起来很优美，但是输入部分只是一堆混乱的 xml 文件，为了写书而用到的一些测试代码也永远不必保留了。</p>\n<p>书的勘误表和为了后续重版的一些必要订正只是涉及到了输入部分的轻微修改，即使程序的输入部分并没有很完善的整理记录过，这也是很容易操作的。</p>\n<h3>必须要维护的程序</h3>\n<p>对于那些从头到尾都要进行维护的程序来说就是这种。程序的输入和程序本身都必须诠释地特别优美，文档和注释完整而优雅。</p>\n<p>我不久之前和一位开发 Web 应用程序的计算机咨询师聊天。他说一旦程序的输出看起来没问题了（即网站看起来不错，程序似乎也可以运行了），客户就会认为项目已经完成了，项目经理就会把他分配到下一个项目上去。</p>\n<p>在下一个项目启动之前，不仅网站要看起来不错，而且编写的代码也应该是整理有序并且有案可循的。但是人们没有空闲时间这么做，也无法理解这个观点。而这类项目就是在将来需要一直被维护的。</p>\n<h3>还有什么因素让编程困难？</h3>\n<p>还有其他三个因素让编程变得困难：</p>\n<ul>\n<li>修复本不应该出问题的程序</li>\n<li>没时间学习</li>\n<li>编程的恶劣环境</li>\n</ul>\n<p>这三个问题全是「时间的小偷」，让我们具体来看看：</p>\n<h3>修复本不该出问题的程序</h3>\n<p>为了解决某个特定的问题，我经常会使用既不是我写的，我也不是很理解的软件。最好的情况是，这个我不得不用的程序有一份描述精确的使用说明。 但是往往这个程序要么没有描述文件要么就是描述文件是错误的。</p>\n<p>那么， 当文件写着：『做XYZ后，就会发生PQR』，而你做了『XYZ』后，『PQR』却没发生的时候，你该怎么办呢？如果你很幸运，写这个程序的人就在你旁边，那么你就能直接过去问搞定这些问题。不是这样的话，你要么用Google碰碰运气，要么就直接挖出源代码找答案吧。</p>\n<p>用Google这个「大赌场」找怎么修复bug，真的是让人极度沮丧的事儿。我简单 Google 搜索一下，然后会发现一些记录，某个可怜不幸的家伙也遇到了和我正好一样的问题。我喜出望外，颤抖着用手指输入可以除掉诅咒的魔法指令…..然后…..啥也没有改变。问题依然存在。</p>\n<p>为啥这修复工作对其他人有效对我没用呢。难道有个邪恶的神监视着我，还是我处于宇宙中暂时不符合物理规律的局部区域？我们两个机器的初始状态不同，因此在一种状态内修复一个机器bug的方法未必能修复另一种状态下机器的bug。</p>\n<p>正像有时候我想用 smalltalk 编程，我们都用一模一样的程序映像开始着手-Smalltalk 的程序员必须活在这种情况不会发生的理想的天堂里，但是一旦有一天，甚至他们自己的程序可能不得不和其他程序对话的时候，好玩儿的事就开始了。修复被破坏的东西带来的沮丧是双重的，即便你已经赶走了bug，你也真的并不知道这是不是你要修复的最后一个问题，也不知道你所做的改变带来的实际影响。</p>\n<p>顺便说一句，这类问题耗费了我大部分的时间， 粗率估算一下大概占用60-70%。我曾经用了超过一星期的时间试图让一个坏了的LDAP服务器工作，我的老板禁止我执行我自己的LDAP服务器，然而和这个用 C 编码归档混乱的坏了的 LDAP 服务器斗争了一周后，我记忆模糊了一些，也忘记了老板说的话，意外地在午餐休息的时候用 Erlang 在 scratch 里成功地运行了服务器。</p>\n<p>老实说，这并不是一个完整的LDAP服务器，但是我也不需要一个完整的LDAP服务器。我只想运行一些命令而已，这其实是很容易修复的。 现在我对执行陈旧又变态的协议没有什么乐趣，而通常情况下最快的进行方式是在scratch里重新实现他们。</p>\n<h3>解决问题而不是学习</h3>\n<p>我懒，我就是个懒虫。当我想在LaTeX里放入一个图表的时候，我不想先读一遍391页的操作手册。现在我猜你肯定会指责我的懒惰和不健全的品德。我也知道我想应该先读一下这份优秀的手册，但是我想十分钟内在文档中放入一个图表，那么读完391页的手册是不可能的。解决这类问题时，我会选择更快的解决方法—但是长期来看这样损失惨重。</p>\n<p>制作文档这事儿，我一直犹豫是使用TeX/LaTeX，XSLT-FO还是我自己的 Erlguten。</p>\n<p>大约每三年我都有一次强烈的欲望把自己所有的文档直接在postscript中写一遍，然而之后我只是做个深呼吸后等这个想法慢慢消失。</p>\n<p>我猜 Giambattista Bondoni 在 1818 年发明他的手工印刷的时候，并没有特别关心排版一页纸是否要花费几个星期。但是现在我们让机器做这些无聊又危险的事儿，我们就有了更多的时间却没有时间把事儿做对了。</p>\n<p>我问我老板他是否需要一个炫酷的幻灯片做下次的讲座，他说需要并要求我在明天之前交给他。这使我没时间正确地学Tex（我估计几年可以完成这个事儿），也没时间实现我自己的排版语言（大概要用5年时间），也没时间在postscript里直接写（大概要一周左右）—这样我估计我还是用PowerPoint吧。</p>\n<h3>编程的恶劣环境</h3>\n<p>如果你读到了这里，你就会理解我说编程真的很难的话了。原因是工作场所就是设计来让编程更难的。我们开放的工作场所，提供了破坏我们聚精会神的吵闹环境，打扰我们的手机和让我们分心的因特网。</p>\n<p>幸运的是，我们可以去不会打扰我们的地方。那就是睡觉。很多编程问题都是在睡觉的时候解决的。</p>\n<p>有两个办法，第一你把问题上传到你的大脑里然后睡觉，第二天起床后一些问题就解决了。很简单。</p>\n<p>第二，你把问题在睡前放到网上或者推特上。第二天就会有人发给你解决办法了。成为一个好的程序员是需要很长时间的，你需要学习很多的知识也需要知道当你卡壳的时候去问谁。</p>\n<h3>令人惊讶的事实</h3>\n<p>当我完成这篇文章的时候，我想检查下内容的拼写。 emacs的ispell模式罢工了。这个我一直用于拼写检查的程序，现在无法搜索到一个拼写。</p>\n<p>我的emacs拼写检查器在这台机器上忠实的工作了好几年了。就在我抱怨花费半生时间修复本不应该出问题的程序的时候，我的emacs拼写检查器坏掉了。</p>\n<p>我不信邪神，也不信我现在打字的起居室沙发的左边角落不遵循物理定侓。尽管有些间接的证据似乎在反驳我。</p>\n<p>我不知道我的拼写检查器坏掉的原因—一切看起来都没问题，我没有改变任何东西。哦从我上次检查文本拼写后，我只安装了新版的Erlang安装了Julia，并写了一些讲座笔记而已。</p>\n<p>幸运的是，在Google赌场里工作了11分钟后，第二个如何修复我的问题的建议起效了。 然而我还是不懂为什么 emacs 不能搜索一个拼写。人生苦短，来不及找寻所有答案。</p>\n<p>我猜大概只是有些事情我们永远不会明白罢了。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111190\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111190votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111190\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss\">土豆粉ss</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/09/c4ca4238a0b923820dcc509a6f75849b3.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            兴趣：算法，人工智能，机器学习        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/nightwishss\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/nightwishss/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 13</a> · <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/nightwishss/\"><i class=\"fa fa-weibo\"></i></a> <a title=\"QQ：330642413\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 1, "title": "为何编程如此之难？Erlang 之父的感触", "tags": "开发,程序员,编程", "url_obj_id": "4c0ab1a0dd71865e5844fd476923869e", "create_date": "2017/05/17", "url": "http://blog.jobbole.com/111190/", "bookmark_num": 4, "front_image_path": "full/d230b04aed54ef1d45b25cb4dec148f2c3b77551.jpg", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1ffo76zvj3xj20sg0izdiv.jpg"]}
{"comment_num": 0, "content": ["<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/daofazi\">逆旅</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://reedbeta.com/blog/programmers-intro-to-unicode/\">Nathan Reed</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffv4y7078mj20a200qmx6.jpg\"></p>\n<p>程序员世界对这个名字发自内心的恐惧和敬畏。我们都知道在我们的软件中应该 “支持 Unicode”（无论是什么意思——对所有的字符串使用 wchar_t，是吗？）。但 Unicode 很深奥，它有千页的 <a href=\"http://www.unicode.org/versions/latest/\">Unicode 标准</a>，还有几十页的补充附录、报告和<a href=\"http://www.unicode.org/notes/\">注解</a>，简直太吓人了。即使 Unicode 诞生 30 多年后，程序员们还觉得它很神秘。</p>\n<p>几个月前，我开始对 Unicode 着迷，决定花些时间仔细了解一番。在本文，我来从程序员的视角对其做介绍。</p>\n<p>我主要关注字符集，与字符串处理和 Unicode 文本相关的东西。因此，这里我不会过细地聊字体、文本布局、形状、渲染，或本地化，那些是另外的议题，超出了我的能力（知识）范围。</p>\n<h2>多样性和内在复杂性</h2>\n<p>当你开始学习 Unicode，有一件事情很明显，就是它和你熟悉的字符集（比如 ASCII）相比，Unicode 复杂性要高了一大截。这不仅仅是指 Unicode 包含了很多的字符，虽然这是一个方面。Unicode 还有很多内部结构，特性和特殊情况，使其不只是人们所认为的纯粹的“ 字符集”。本文后续会介绍一些相关内容。</p>\n<p>当面对所有的复杂性时，尤其是作为工程师，很难不问自己，“为什么我们需要这么多？真的有必要吗？可以简化吗？”</p>\n<p>然而，Unicode 的目标是准确地表示全世界的书写系统（writing systems）。Unicode 协会的目标是“让全世界的人们不论什么语言都可以使用电脑”，所以你可想见，书面语言的多样性是巨大的！迄今为止，Unicode 支持135 种不同的书写系统，包含约 1100 种语言，但目前还有超过 <a href=\"http://linguistics.berkeley.edu/sei/\">100 种书写系统没有支持</a>，包括现代的和已成为历史的，Unicode 协会还在努力将其加进来。</p>\n<p>鉴于分支的多样性，要表示它们必然是一个复杂的项目。Unicode 接受了它的多样，接受了任务（包含所有人类的书写系统）中的内在复杂性，它没有在名字简化上做太多取舍，但是它对需要完善任务的地方的规则，做了异常处理。</p>\n<p>此外，Unicode 承诺不仅支持单一语言的文本，还支持多种语言共存于一个文本中——引进了更多的复杂性。</p>\n<p>大多数编程语言都有处理底层文本操作的的库，但是作为程序员，你仍然需要知道一些 Unicode 特性 ，知道何时怎样去应用它。要了解这些东西可能得花些时间动动脑筋，但别灰心——想想有数以亿计的人，如果你的软件支持他们的语言，那他们也可以使用你的软件哒。所以，拥抱复杂吧！</p>\n<h2>Unicode 编码空间</h2>\n<p>我们先从几个大的方向入手。Unicode 的基本元素 —— 它的 “字符”，虽然这种叫法不是太贴切——被称作编码点（Code Point）。编码点通过数字来区分，通常写成 16 进制的形式再加前缀“U+”，例如 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=A\">U+0041 表示拉丁字母 “A”</a> 、<a href=\"http://unicode.org/cldr/utility/character.jsp?a=%CE%B8\">U+03B8 表示 希腊字母 “θ”</a>。每个编码点都有一个简称，还有一些其他属性，<a href=\"http://www.unicode.org/reports/tr44/\">Unicode 字符数据库</a> 对此有详细说明。</p>\n<p>所有编码点组成的集合被称作编码空间（Code Space）。Unicode 编码空间包含 1,114,112 个编码点。然而，其中只有128,237 个编码点 —— 编码空间的 12% 被赋值，目前。还有很多空间用来增长！Unicode 还保留了另外 137,468 字符 作为 “自用” 空间，这些字符没有标准的含义，可以被个人应用所使用。</p>\n<h3>空间分配</h3>\n<p>为了对编码空间的布局有个了解，把它可视化会比较直观。下面是整个编码空间的布局，一个像素代表一个编码点。使用小方块来表示以保证视觉的一致性；每个小方块是 16×16 = 256 个编码点，每个大方块是一个面有 65536 个 编码点。总共加起来有 17 个面板。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffv3s279ehj20x615e3ye.jpg\"></p>\n<ul>\n<li>白色表示未用空间；</li>\n<li>蓝色表示已用空间；</li>\n<li>绿色表示自用区域；</li>\n<li>小的红色区域是代理区（surrogates，后面会讲）。</li>\n</ul>\n<p>如你所见，被使用的区域分布有点稀疏，但都集中在前三个面里。</p>\n<p>0 号面板也被称作 “基本多语言面板（Basic Multilingual Plane，简称 BMP）”。BMP 包含现代文本所需的基本所有字符，包括拉丁文、斯拉夫文、希腊文、汉字（中国），日文、朝鲜文、阿拉伯文、希伯来文、梵文（印度）等等。</p>\n<p>（过去，编码空间只有 BMP 而已—— Unicode 最初设想是 一个 16 Bit 的编码，只包含 65536 个字符。在 1996 年扩充到现在的规模。然而，绝大多数现代字符属于 BMP。）</p>\n<p>1 号面板包含历史上的文字，比如苏美尔楔形文字和埃及象形文字，还有 emoji 和其他各种符号。2 号面板包含一大块不常用的和历史上的汉字字符。剩下的面是空的，除了 14 号面板中有一小部分被用作格式化字符；15-16 号面板全部保留自用。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffv530saw0j20zk0k04b3.jpg\"></p>\n<h3>书写系统</h3>\n<p>让我们放大前三个面板，因为这是最重要的部分：</p>\n<p> </p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffv3s5u04zj21dw0h0jre.jpg\" width=\"1796\" height=\"612\"></p>\n<p>这张图用颜色表示了 Unicode 中135 种不同的书写系统。你可以看到汉字（蓝色）和朝鲜语（棕色）占了 BMP 很大一部分（右边的大方块）。与之相对，此图中所有的欧洲，中东，南亚语言加起来刚好占了 BMP 的第一行。</p>\n<p>编码空间的很多区域都和更早的编码兼容或相同。例如，Unicode 的前 128 个字符就是 ASCII 的拷贝。显然是对兼容性很有好处——很容易无损的从小编码转向 Unicode （反过来也一样，只要没有使用小编码之外的字符）。</p>\n<h3>使用频率</h3>\n<p>可视化编码空间还有一个有趣的方法，就是看使用频率的分布——换句话说，就是每个编码点在真实世界中使用的频率。0-2 号面的热力图是基于来自维基百科 和 推特（所有语言）的大量文本所得。频率增长的方向是黑（没出现）、红、黄、白。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffv3s9a237j21dw0h040p.jpg\"></p>\n<p>你可以看到，绝大多书样本文本都分布在 BMP 中，有些零散的使用来自1-2 号面。最大的异常是 emoji，它点亮了 1 号面最底下那的几个小方块。</p>\n<h2>编码</h2>\n<p>我们知道 Unicode 编码点，通过它们在编码空间中的下标来定义，范围从 U+0000 到 U+10FFFF。但是在内存或文件中编码点如何用字节表示呢？</p>\n<p>对计算机友好的最省事方式是用 32 位整数来存储编码点下标。这样做是可行，但是每个字符用 4 个字节有点浪费。当你处理大量文本的时候，使用 32 位整数存储 Unicode 会占用大量额外存储、内存、带宽等。</p>\n<p>于是，Unicode 有了几个紧凑的编码 。32 位整数编码被称作 UTF-32（UTF=”Unicode Transformation Format”），但是很少被用来存储。顶多作为临时内部表示出现，用来检查或操作字符串中的编码点。</p>\n<p>最常见的是，你会看到 Unicode 文本被编码为 UTF-8 或 UTF-16。这些都是可变长度编码，分别由 8-bit 或 16-bit 为一个单元组成。这些方案中，下标值较小的编码点占用的字节数也少，会节省不少内存。这样做的代价是处理 UTF-8/16 需要以编程的方式来处理，会慢一些。</p>\n<h3>UTF-8</h3>\n<p>在 UTF-8 中，每个编码点依据下标值，被存储为 1 到 4 个字节。</p>\n<p>UTF-8 使用二进制前缀系统，在此系统中每个字符的最高位的几个比特表明它是否是单个字节，多字节序列的开始，或中间字节；剩余的比特连接起来表示编码点的下标。下面的表格展示了UTF-8 是如何编码的：</p>\n<table>\n<thead>\n<tr>\n<th>UTF-8 (二进制)</th>\n<th>编码点 (二进制)</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0xxxxxxx</td>\n<td>xxxxxxx</td>\n<td>U+0000–U+007F</td>\n</tr>\n<tr>\n<td>110xxxxx 10yyyyyy</td>\n<td>xxxxxyyyyyy</td>\n<td>U+0080–U+07FF</td>\n</tr>\n<tr>\n<td>1110xxxx 10yyyyyy 10zzzzzz</td>\n<td>xxxxyyyyyyzzzzzz</td>\n<td>U+0800–U+FFFF</td>\n</tr>\n<tr>\n<td>11110xxx 10yyyyyy 10zzzzzz 10wwwwww</td>\n<td>xxxyyyyyyzzzzzzwwwwww</td>\n<td>U+10000–U+10FFFF</td>\n</tr>\n</tbody>\n</table>\n<p>UTF-8 有一个方便的属性，即最开始128 个字符（ASCII字符）被编码为单个字节，所有的非 ASCII 字符被编码为 128-255。这产生了两个好处。首先，任何已经是 ASCII 编码的字符串和文件无需转换就可以被 UTF-8 识别。其次，大量的广泛使用的编程惯例——比如 NULL 结尾，分隔符（n,t,’,’,”)等——在 UTF-8 中也是可用的。ASCII 字节不会出现在非 ASCII 编码点中，所以搜索以 NULL 结尾或分隔符结尾的字符串是可以的。</p>\n<p>多亏了这个便利，使扩展遗留 ASCII 程序和 API 来处理 UTF-8 字符变得简单。UTF-8 被广泛运用在 Unix、Linux 和网络世界中，还有许多程序员主张 <a href=\"http://utf8everywhere.org/\">UTF-8 应该作为任何地方的默认编码</a>。</p>\n<p>然而，UTF-8 还不能全面替代 ASCII。例如，遍历字符串中的 “字符” 的代码需要解码 UTF-8 并遍历编码点（或字位簇（grapheme cluster）——后面会讲到），而不是字节。当你测量字符串 “长度” 时，你得考虑是要字节长度，还是编码点长度，还是文本渲染的宽度为单位的长度还是其它长度。</p>\n<h3>UTF-16</h3>\n<p>你可能遇到的另一个编码是 UTF-16。它使用 16-bit 字，每个字符被存储为 1 个或 2 个字。</p>\n<p>和 UTF-8 一样，我们可以用二进制前缀的形式表示 UTF-16 的编码规则：</p>\n<table>\n<thead>\n<tr>\n<th>UTF-16(二进制)</th>\n<th>编码点（二进制）</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>xxxxxxxxxxxxxxxx</td>\n<td>xxxxxxxxxxxxxxxx</td>\n<td>U+0000–U+FFFF</td>\n</tr>\n<tr>\n<td>110110xxxxxxxxxx 110111yyyyyyyyyy</td>\n<td>xxxxxxxxxxyyyyyyyyyy + 0x10000</td>\n<td>U+10000–U+10FFFF</td>\n</tr>\n</tbody>\n</table>\n<p>但是，通常人们谈到 UTF-16是因为它涉及到了一个在编码点术语中被称作“代理（surrogate）”的东西。所有在范围 U+D800-U+DFFF（或在其他范围） 中的编码点，这些和上表中二进制前缀 110110 和 110111 匹配的编码点——是 UTF-16 中的保留区域，它们自身不表示任何有效的字符。它们仅用于上面 2 个字的编码模式中，被称作“代理对（surrogate pair）”，代理编码点在任何其他情况下都是非法的！它们不能出现在 UTF-8 和 UTF-32 中。</p>\n<p>在过去，UTF-16 是1996 年之前的 Unicode 版本的派生物，那时只有 65536 个编码点。初衷是不应有不同的编码，Unicode 应该是简单的16-bit 字符集。后来，编码空间被扩充用来表示不常用的（仍然重要）的汉字字符，这是 Unicode 设计者之前没计划的。代理区在那时被引进，直说了吧，作为拼凑，允许16-bit 编码访问新的编码点。</p>\n<p>如今，Javascript 使用 UTF-16 作为其标准的字符串表示：如果你问一个字符串的长度，或遍历它等，结果都以 16-bit 的字为单位，同时任何 BMP 之外的编码点都用代理对表示。UTF-16 也被微软 WIN32 API 使用；尽管 Win32 同时支持 8-bit 和 16-bit 字符串，但是 8-bit 版本仍然莫名其妙地不支持 UTF-8——只支持使用旧编码的代码，像 ANSI。这使得 UTF-16 成为在 Windows 上获得 Unicode 支持的唯一方法。</p>\n<p>顺便说一下，UTF-16 字符可以大端存储，也可以小端存储。Unicode 在这个问题上没有说明，虽然它确实鼓励一个惯例，即把 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=FEFF\">U+FEFF 零宽无间断间隔</a>这个字符放到 UTF-16 文件开头作为<a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\">字节序标识</a>，来消除字节序问题。（如果文件和系统的字节序不同，BOM（ByteOrderMark） 会被解码为 U-FFFE，这不是一个有效的编码点。）</p>\n<h2>组合标记</h2>\n<p>目前为止，我们一直在讨论编码点。但是 Unicode 中，字符比单独的编码点更复杂！</p>\n<p>Unicode 包含一个系统，可以合并多个编码点，动态组合字符。此系统用各种方式增加灵活性，而不引起编码点的巨大组合膨胀。</p>\n<p>例如，在欧洲语言中，组合标记出现在变音符和字母的使用中。 Unicode 支持各种各样的变音符号，包括尖音符号的和重音符号、元音变音符号、变音符号等等。所有这些变音符可以被使用在任何字母表的字母中。事实上，多个变音符号可以被使用在一个字母上。</p>\n<p>如果 Unicode 试图为每个字母组合或变音符组合分配一个独立的编码点，事情会变得无法控制。相反，动态组合系统可以让你构造你想要的任何字符，通过以一个基础编码点（字母）开始然后附加额外的编码点，被称作“组合标识”，来指定变音符。当一个文字渲染器看到字符串中有这样的序列时，它会自动堆叠变音符到基础字母的上面或下面来造出一个组合字符。</p>\n<p>例如，带重音的字符“Á” 会被表示成由两个编码点组成的字符串：<a href=\"http://unicode.org/cldr/utility/character.jsp?a=A\">U+0041 “A” 拉丁大写字母 a</a> 加上 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=0301\">U+0301 “◌́”组合尖音符号</a>。这个字符串自动被渲染成单个字符：“Á”。</p>\n<p>如今，Unicode 还包含许多 “预设的” 编码点，每个表示一个被使用过的组合，例如 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=%C3%81\">U+00C1 “Á” 带锐音符的拉丁大写字母A </a>或 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=%E1%BB%87\">U+1EC7 “ệ” 带扬抑符和下点的小写拉丁字母 e</a>。我怀疑这些大多继承自融入 Unicode 的旧编码，来保证兼容性。实际上，对于欧洲语言中的大多数常见的带变音符号的字母都有预设，所以文本中动态组合用的不多。</p>\n<p>可是，组合标志系统确实允许任意数量的变音符号被叠加到任何基础字符上。使用归谬法的 <a href=\"https://eeemo.net/\">Zalgo 文本</a>，它通过随机叠加任意数量的变音符号在每个字母上，让它溢出行距，产生混乱现象。（如下图）</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffv3scnzygj20jl04b0ts.jpg\"></p>\n<p>Unicode 中出现动态组合字符的其他地区：</p>\n<ul>\n<li>阿拉伯文和希伯来文中的<a href=\"https://en.wikipedia.org/wiki/Vowel_pointing\">元音标记</a> 。这些语言中，单词通常由元音拼写。它们有变音符号标记元音（用在字典，语言教学材料，儿童教材，等地方）。这些变音符号用组合标记表示。</li>\n<li>\n<table>\n<thead>\n<tr>\n<th>希伯来文，带注音符号：</th>\n<th>אֶת דַלְתִּי הֵזִיז הֵנִיעַ, קֶטֶב לִשְׁכַּתִּי יָשׁוֹד</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>正常文本（不带注音符号）：</td>\n<td>את דלתי הזיז הניע, קטב לשכתי ישוד</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Devanagari\">天成体（梵文）</a>，这种文字被用在印度北部，梵文和其他南亚语言中，用组合标记标识特定元音的附加到辅音字母上。例如，“ह” + “ि” = “हि” (“h” + “i” = “hi”).</li>\n<li>表示音节的朝鲜字符，但是它被称作<a href=\"https://en.wikipedia.org/wiki/Hangul#Letters\">Jamo</a> ，用来表示音节中的元音和辅音。当然也有为朝鲜文预制的编码点，同时也可以动态组合它们的 jamo。例如，“ᄒ” + “ᅡ” + “ᆫ” = “한” (“h” + “a” + “n” = “han”).</li>\n</ul>\n<h3>规范等价性</h3>\n<p>Unicode 中，预设字符和动态组合系统并存。后果就是有多种方法表示同一个字符串——不同编码点序列产生相同用户可感知的字符。例如，我们之前看到的，表示字符 “Á”，我们可以用一个编码点 U+00C1 ，也可以用两个编码点 U+0041 和U+0301。</p>\n<p>另一个歧义来源是一个字符中的多个注音符号。当两个注音符号作用在同意个基本字符上面时，注音符号的顺序很重要，例如，都在上面：”ǡ“ （点然后长音符）和 ”ā̇“ （长音符然后点）是不一样的。 然而，当音节运用在不同边时，例如。一个在上边一个在下边，编码点的顺序不会影响渲染。此外，一个有多个音节的字符，它可能会由一个预制的编码点再加其余的编码点来表示。</p>\n<p>例如，越南字母“ệ” 可以用以下五种方式表示：</p>\n<ul>\n<li>完全预设：U+1EC7 “ệ”</li>\n<li>部分预设：U+1EB9 “ẹ” + U+0302 “◌̂”</li>\n<li>部分预设：U+00EA “ê” + U+0323 “◌̣”</li>\n<li>完全分解：U+0065 “e” + U+0323 “◌̣” + U+0302 “◌̂”</li>\n<li>完全分解： U+0065 “e” + U+0302 “◌̂” + U+0323 “◌̣”</li>\n</ul>\n<p>Unicode 把这样的字符串集合称作 “规范等价”字符。在搜索、排序、渲染、文本选择等操作中，规范等价字符应该被同等对待。这影响到了你如何实现文本的操作。例如，假设你的程序有“查找”操作，用户搜索 “ệ”，理论上应当找到如上所有出现的所有版本的 “ệ”！</p>\n<h3>形式正规化</h3>\n<p>要解决如何处理等值字符串的问题，Unicode 定义了几种正规形式：是几种把字符串转化成规范形式的方法，这样它们就可以被逐点比较（或按字节比较）。</p>\n<p>“NFD” 正规化方法，完全分解每个字符到基本部件和组合标记，去掉字符串中任何预制的编码点。还会按渲染位置排列每个组合标记，举个例子，在字母底下的注音符号要比在上边的靠前。（不会重排有相同渲染位置的注音符号，因为它们的位置关系是可视的，前面提到过。）</p>\n<p>“NFC” 正规化方法，反过来，尽可能的把编码点替换成预制编码点。如果使用了不常用的注音符号组合，可能不会有任何预制的编码点，这种情况下 NFC 仍然替换它可以替换的，然后留下组合标志（和 NFD一样，还是会按渲染顺序重新排序）。</p>\n<p>还有一些方法被称作 NFKD 和NFKC。 这里的 “K” 指的是兼容性分解，它包含了某种程度上“相似”但是视觉上不同的字符。但我不打算讲这些。</p>\n<h3>字位簇</h3>\n<p>如上所见，Unicode 包含多种情况，用户认为的一个“字符” 事实上底下可能由多个编码点组成。Unicode 使用「字位簇」的概念来表示这种情况。一个由一个或多个编码点组成的字符串构成一个 “用户感知的字符”。</p>\n<p><a href=\"http://www.unicode.org/reports/tr29/\">UAX #29</a> 为字位丛定义了精确的规则。它大约是 “一个基本的编码点接着任意数量的组合标记”，但是真实的定义有点复杂；它包含了朝鲜语字母，和 emoji ZWJ 序列。</p>\n<p>字位簇主要被用在文本编辑：它们对光标和文本选择来说是最明显的单元。使用字位簇，确保在复制和粘贴文本时不会突然丢掉一些符号，同时左右方向键也总是以一个可见字符的距离移动，等等。</p>\n<p>另一个用到字位簇的地方是，执行字符串长度限制——比如在数据库域中。其实，底层的限制可能是类似 UTF-8 中的字节长度之类的东西，你不能简单的通过截断字节的方式来限制长度。至少，你得 “舍去” 最近的编码点；但更好的是，舍去最近的字位簇。除此以外，你可以通过舍弃它的一个注音符号破坏一个字符，中断一个 jamo 序列或 ZWJ 序列。</p>\n<h2>更多···</h2>\n<p>从程序员的角度来看，关于 Unicode 还有很多东西可以讲！我还没有深入一些有趣的主题，比如映射、排序、兼容性分解和容易混淆的词，Unicode 正则表达式，和双向文本。还有个我没谈到的是实现主题——如何有效存储和查找分布稀疏的编码点数据，或着如何优化 UTF-8 解码、字符串比较和NFC 标准化。也许我会在未来的文章中讲到这些。</p>\n<p>Unicode 是个令人着迷的复杂系统。在字节和编码点之前有多对一的映射，除此之外编码点和“字符”之间也有（某些情况下多对多）多对一的映射关系。在每个角落都有古怪的特例。没人声称表示全部书写系统很容易，但很明显我们不会回到使用不兼容编码来拼凑的艰难岁月了。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/11/4ec823de9f4637cdb4ee2f4b27a0aba9.png\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111261\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111261votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111261\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi\">逆旅</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/08/a84a2baaaa98a48bb36349cd6431bcb3.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            a programmer,Do one's level best and leave the rest to God's will.I love this saying.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/daofazi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/daofazi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"], "thumb_up_num": 2, "title": "写给程序员的 Unicode 入门介绍", "tags": "IT技术,Unicode", "url_obj_id": "e2f9b017ee6039fdacf6194ecc51a729", "create_date": "2017/05/23", "url": "http://blog.jobbole.com/111261/", "bookmark_num": 8, "front_image_path": "full/da0d018799c09c4d13b1a9eea8f2e617d1219710.jpg", "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1ffv530saw0j20zk0k04b3.jpg"]}
